"use strict";(self.webpackChunknobleui_angular=self.webpackChunknobleui_angular||[]).push([[249],{7092:(Ue,Q,P)=>{function D(e,i,t,o){var m,f=arguments.length,h=f<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(e,i,t,o);else for(var S=e.length-1;S>=0;S--)(m=e[S])&&(h=(f<3?m(h):f>3?m(i,t,h):m(i,t))||h);return f>3&&h&&Object.defineProperty(i,t,h),h}function x(e,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,i)}P.d(Q,{Wx:()=>yt,bo:()=>he,xK:()=>ce,uD:()=>ue,sM:()=>fe,f_:()=>de,Mx:()=>ge,RN:()=>me,tF:()=>pe,Tf:()=>ve,_U:()=>_e,zZ:()=>ye,VE:()=>ke,i7:()=>Ce,Eu:()=>Se,tY:()=>Me,dz:()=>De,he:()=>xe,U4:()=>Ee,nK:()=>be,T8:()=>Te});var n=P(5e3),u=P(2382);function d(e){return null!=e}function l(e){try{const i=new Date(e);return!isNaN(i.getTime())}catch(i){return!1}}function p(e){try{if(e._d instanceof Date){const i=e._d,t=+i.getMonth()+1,o=+i.getDate();return`${i.getFullYear()}-${b(t)}-${b(o)}`}if("object"==typeof e&&null!=e.year&&null!=e.month&&null!=e.day){const t=+e.day;return`${e.year}-${b(+e.month)}-${b(t)}`}}catch(i){}return e}function b(e){return e<10?`0${e}`:e}const M=e=>i=>{if(d(u.kI.required(i)))return null;const t=i.value;return Array.isArray(t)&&t.length>=+e?null:{arrayLength:{minLength:e}}},L=e=>i=>d(u.kI.required(i))||e===i.value?null:{equal:{value:e}},y=e=>i=>!d(e)||d(u.kI.required(i))||+i.value>+e?null:{gt:{value:e}},k=e=>i=>!d(e)||d(u.kI.required(i))||+i.value>=+e?null:{gte:{value:e}},w=e=>i=>!d(e)||d(u.kI.required(i))||+i.value<+e?null:{lt:{value:e}},j=e=>i=>!d(e)||d(u.kI.required(i))||+i.value<=+e?null:{lte:{value:e}},U=e=>i=>!d(e)||d(u.kI.required(i))||+i.value<=+e?null:{max:{value:e}},Z=e=>{let i,t=!1,o=e;const f=e instanceof u.NI||e instanceof u.On;return h=>{if(!t&&f&&(t=!0,e.valueChanges.subscribe(()=>{h.updateValueAndValidity()})),f&&(o=e.value),i=p(o),!(l(i)||i instanceof Function)){if(null==i)return null;if(f)return{maxDate:{error:"maxDate is invalid"}};throw Error("maxDate value must be or return a formatted date")}if(d(u.kI.required(h)))return null;const m=new Date(p(h.value)).getTime();return l(m)?(i instanceof Function&&(i=i()),m<=new Date(i).getTime()?null:f?{maxDate:{control:e,value:e.value}}:{maxDate:{value:o,control:void 0}}):{value:!0}}},O=e=>i=>!d(e)||d(u.kI.required(i))||+i.value>=+e?null:{min:{value:e}},q=e=>{let i,t=!1,o=e;const f=e instanceof u.NI||e instanceof u.On;return h=>{if(!t&&f&&(t=!0,e.valueChanges.subscribe(()=>{h.updateValueAndValidity()})),f&&(o=e.value),i=p(o),!(l(i)||i instanceof Function)){if(null==i)return null;if(f)return{minDate:{error:"minDate is invalid"}};throw Error("minDate value must be or return a formatted date")}if(d(u.kI.required(h)))return null;const m=new Date(p(h.value)).getTime();return l(m)?(i instanceof Function&&(i=i()),m>=new Date(i).getTime()?null:f?{minDate:{control:e,value:e.value}}:{minDate:{value:o,control:void 0}}):{value:!0}}},ae=e=>i=>d(u.kI.required(i))||e!==i.value?null:{notEqual:{value:e}},ne=e=>i=>{if(d(u.kI.required(i)))return null;const t=e.split(","),o=i.value;let f=!0;for(const h of t)if(null==o[h]){f=!1;break}return f?null:{hasProperty:{value:e}}},se=e=>i=>{if(!d(e)||d(u.kI.required(i)))return null;const t=+i.value;return t>=e[0]&&t<=e[1]?null:{range:{value:e}}},oe=e=>i=>{if(!d(e)||d(u.kI.required(i)))return null;const t=i.value;return t.length>=e[0]&&t.length<=e[1]?null:{rangeLength:{value:e}}},Re={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i},le=e=>i=>{if(d(u.kI.required(i)))return null;const t=i.value;return new RegExp(Re[e]||Re.all).test(t)?null:{uuid:!0}},Je={provide:u.Cf,useExisting:(0,n.Gpc)(()=>qe),multi:!0};let qe=(()=>{let e=class{ngOnInit(){this.validator=M(this.arrayLength)}ngOnChanges(t){for(const o in t)"arrayLength"===o&&(this.validator=M(t[o].currentValue),this.onChange&&this.onChange())}validate(t){return this.validator(t)}registerOnValidatorChange(t){this.onChange=t}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","arrayLength","","formControlName",""],["","arrayLength","","formControl",""],["","arrayLength","","ngModel",""]],inputs:{arrayLength:"arrayLength"},features:[n._Bn([Je]),n.TTD]}),D([(0,n.IIB)(),x("design:type",Number)],e.prototype,"arrayLength",void 0),e})();const ze={provide:u.Cf,useExisting:(0,n.Gpc)(()=>he),multi:!0};let he=(()=>{let e=class{validate(t){return(e=>d(u.kI.required(e))||/^(?:[A-Z0-9+\/]{4})*(?:[A-Z0-9+\/]{2}==|[A-Z0-9+\/]{3}=|[A-Z0-9+\/]{4})$/i.test(e.value)?null:{base64:!0})(t)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","base64","","formControlName",""],["","base64","","formControl",""],["","base64","","ngModel",""]],features:[n._Bn([ze])]}),e})();const We={provide:u.Cf,useExisting:(0,n.Gpc)(()=>ce),multi:!0};let ce=(()=>{let e=class{validate(t){return(e=>{if(d(u.kI.required(e)))return null;const t=e.value.replace(/[^0-9]+/g,"");if(!/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11}|(?:9792)\d{12})$/.test(t))return{creditCard:!0};let f,h,m,o=0;for(let S=t.length-1;S>=0;S--)f=t.substring(S,S+1),h=parseInt(f,10),m?(h*=2,o+=h>=10?h%10+1:h):o+=h,m=!m;return Boolean(o%10==0&&t)?null:{creditCard:!0}})(t)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","creditCard","","formControlName",""],["","creditCard","","formControl",""],["","creditCard","","ngModel",""]],features:[n._Bn([We])]}),e})();const Ke={provide:u.Cf,useExisting:(0,n.Gpc)(()=>ue),multi:!0};let ue=(()=>{let e=class{validate(t){return(e=>{if(d(u.kI.required(e)))return null;let i=e.value;return i=p(i),l(i)?null:{date:!0}})(t)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","date","","formControlName",""],["","date","","formControl",""],["","date","","ngModel",""]],features:[n._Bn([Ke])]}),e})();const Ye={provide:u.Cf,useExisting:(0,n.Gpc)(()=>fe),multi:!0};let fe=(()=>{let e=class{validate(t){return(e=>d(u.kI.required(e))||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e.value)?null:{dateISO:!0})(t)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","dateISO","","formControlName",""],["","dateISO","","formControl",""],["","dateISO","","ngModel",""]],features:[n._Bn([Ye])]}),e})();const Qe={provide:u.Cf,useExisting:(0,n.Gpc)(()=>de),multi:!0};let de=(()=>{let e=class{validate(t){return(e=>d(u.kI.required(e))||/^\d+$/.test(e.value)?null:{digits:!0})(t)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","digits","","formControlName",""],["","digits","","formControl",""],["","digits","","ngModel",""]],features:[n._Bn([Qe])]}),e})();const Xe={provide:u.Cf,useExisting:(0,n.Gpc)(()=>ge),multi:!0};let ge=(()=>{let e=class{validate(t){return(e=>d(u.kI.required(e))||/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value)?null:{email:!0})(t)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","ngvemail","","formControlName",""],["","ngvemail","","formControl",""],["","ngvemail","","ngModel",""]],features:[n._Bn([Xe])]}),e})();const et={provide:u.Cf,useExisting:(0,n.Gpc)(()=>me),multi:!0};let me=(()=>{let e=class{ngOnInit(){this.validator=L(this.equal)}ngOnChanges(t){for(const o in t)"equal"===o&&(this.validator=L(t[o].currentValue),this.onChange&&this.onChange())}validate(t){return this.validator(t)}registerOnValidatorChange(t){this.onChange=t}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","equal","","formControlName",""],["","equal","","formControl",""],["","equal","","ngModel",""]],inputs:{equal:"equal"},features:[n._Bn([et]),n.TTD]}),D([(0,n.IIB)(),x("design:type",Object)],e.prototype,"equal",void 0),e})();const tt={provide:u.Cf,useExisting:(0,n.Gpc)(()=>Ge),multi:!0};let Ge=(()=>{let e=class{ngOnInit(){this.validator=(e=>{let i=!1;return t=>(i||(i=!0,e.valueChanges.subscribe(()=>{t.updateValueAndValidity()})),e.value===t.value?null:{equalTo:{control:e,value:e.value}})})(this.equalTo)}validate(t){return this.validator(t)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","equalTo","","formControlName",""],["","equalTo","","formControl",""],["","equalTo","","ngModel",""]],inputs:{equalTo:"equalTo"},features:[n._Bn([tt])]}),D([(0,n.IIB)(),x("design:type",u.NI)],e.prototype,"equalTo",void 0),e})();const rt={provide:u.Cf,useExisting:(0,n.Gpc)(()=>pe),multi:!0};let pe=(()=>{let e=class{ngOnInit(){this.validator=y(this.gt)}ngOnChanges(t){for(const o in t)"gt"===o&&(this.validator=y(t[o].currentValue),this.onChange&&this.onChange())}validate(t){return this.validator(t)}registerOnValidatorChange(t){this.onChange=t}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","gt","","formControlName",""],["","gt","","formControl",""],["","gt","","ngModel",""]],inputs:{gt:"gt"},features:[n._Bn([rt]),n.TTD]}),D([(0,n.IIB)(),x("design:type",Number)],e.prototype,"gt",void 0),e})();const it={provide:u.Cf,useExisting:(0,n.Gpc)(()=>ve),multi:!0};let ve=(()=>{let e=class{ngOnInit(){this.validator=k(this.gte)}ngOnChanges(t){for(const o in t)"gte"===o&&(this.validator=k(t[o].currentValue),this.onChange&&this.onChange())}validate(t){return this.validator(t)}registerOnValidatorChange(t){this.onChange=t}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","gte","","formControlName",""],["","gte","","formControl",""],["","gte","","ngModel",""]],inputs:{gte:"gte"},features:[n._Bn([it]),n.TTD]}),D([(0,n.IIB)(),x("design:type",Number)],e.prototype,"gte",void 0),e})();const at={provide:u.Cf,useExisting:(0,n.Gpc)(()=>_e),multi:!0};let _e=(()=>{let e=class{validate(t){return(e=>{if(d(u.kI.required(e)))return null;const i=e.value;try{const t=JSON.parse(i);if(Boolean(t)&&"object"==typeof t)return null}catch(t){}return{json:!0}})(t)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","json","","formControlName",""],["","json","","formControl",""],["","json","","ngModel",""]],features:[n._Bn([at])]}),e})();const nt={provide:u.Cf,useExisting:(0,n.Gpc)(()=>ye),multi:!0};let ye=(()=>{let e=class{ngOnInit(){this.validator=w(this.lt)}ngOnChanges(t){for(const o in t)"lt"===o&&(this.validator=w(t[o].currentValue),this.onChange&&this.onChange())}validate(t){return this.validator(t)}registerOnValidatorChange(t){this.onChange=t}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","lt","","formControlName",""],["","lt","","formControl",""],["","lt","","ngModel",""]],inputs:{lt:"lt"},features:[n._Bn([nt]),n.TTD]}),D([(0,n.IIB)(),x("design:type",Number)],e.prototype,"lt",void 0),e})();const st={provide:u.Cf,useExisting:(0,n.Gpc)(()=>ke),multi:!0};let ke=(()=>{let e=class{ngOnInit(){this.validator=j(this.lte)}ngOnChanges(t){for(const o in t)"lte"===o&&(this.validator=j(t[o].currentValue),this.onChange&&this.onChange())}validate(t){return this.validator(t)}registerOnValidatorChange(t){this.onChange=t}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","lte","","formControlName",""],["","lte","","formControl",""],["","lte","","ngModel",""]],inputs:{lte:"lte"},features:[n._Bn([st]),n.TTD]}),D([(0,n.IIB)(),x("design:type",Number)],e.prototype,"lte",void 0),e})();const ot={provide:u.Cf,useExisting:(0,n.Gpc)(()=>Ce),multi:!0};let Ce=(()=>{let e=class{ngOnInit(){this.validator=U(this.max)}ngOnChanges(t){for(const o in t)"max"===o&&(this.validator=U(t[o].currentValue),this.onChange&&this.onChange())}validate(t){return this.validator(t)}registerOnValidatorChange(t){this.onChange=t}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","max","","formControlName",""],["","max","","formControl",""],["","max","","ngModel",""]],inputs:{max:"max"},features:[n._Bn([ot]),n.TTD]}),D([(0,n.IIB)(),x("design:type",Number)],e.prototype,"max",void 0),e})();const lt={provide:u.Cf,useExisting:(0,n.Gpc)(()=>Se),multi:!0};let Se=(()=>{let e=class{ngOnInit(){this.validator=Z(this.maxDate)}ngOnChanges(t){for(const o in t)"maxDate"===o&&(this.validator=Z(t[o].currentValue),this.onChange&&this.onChange())}validate(t){return this.validator(t)}registerOnValidatorChange(t){this.onChange=t}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","maxDate","","formControlName",""],["","maxDate","","formControl",""],["","maxDate","","ngModel",""]],inputs:{maxDate:"maxDate"},features:[n._Bn([lt]),n.TTD]}),D([(0,n.IIB)(),x("design:type",Object)],e.prototype,"maxDate",void 0),e})();const ht={provide:u.Cf,useExisting:(0,n.Gpc)(()=>Me),multi:!0};let Me=(()=>{let e=class{ngOnInit(){this.validator=O(this.min)}ngOnChanges(t){for(const o in t)"min"===o&&(this.validator=O(t[o].currentValue),this.onChange&&this.onChange())}validate(t){return this.validator(t)}registerOnValidatorChange(t){this.onChange=t}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","min","","formControlName",""],["","min","","formControl",""],["","min","","ngModel",""]],inputs:{min:"min"},features:[n._Bn([ht]),n.TTD]}),D([(0,n.IIB)(),x("design:type",Number)],e.prototype,"min",void 0),e})();const ct={provide:u.Cf,useExisting:(0,n.Gpc)(()=>De),multi:!0};let De=(()=>{let e=class{ngOnInit(){this.validator=q(this.minDate)}ngOnChanges(t){for(const o in t)"minDate"===o&&(this.validator=q(t[o].currentValue),this.onChange&&this.onChange())}validate(t){return this.validator(t)}registerOnValidatorChange(t){this.onChange=t}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","minDate","","formControlName",""],["","minDate","","formControl",""],["","minDate","","ngModel",""]],inputs:{minDate:"minDate"},features:[n._Bn([ct]),n.TTD]}),D([(0,n.IIB)(),x("design:type",Object)],e.prototype,"minDate",void 0),e})();const ut={provide:u.Cf,useExisting:(0,n.Gpc)(()=>xe),multi:!0};let xe=(()=>{let e=class{ngOnInit(){this.validator=ae(this.notEqual)}ngOnChanges(t){for(const o in t)"notEqual"===o&&(this.validator=ae(t[o].currentValue),this.onChange&&this.onChange())}validate(t){return this.validator(t)}registerOnValidatorChange(t){this.onChange=t}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","notEqual","","formControlName",""],["","notEqual","","formControl",""],["","notEqual","","ngModel",""]],inputs:{notEqual:"notEqual"},features:[n._Bn([ut]),n.TTD]}),D([(0,n.IIB)(),x("design:type",Object)],e.prototype,"notEqual",void 0),e})();const ft={provide:u.Cf,useExisting:(0,n.Gpc)(()=>Be),multi:!0};let Be=(()=>{let e=class{ngOnInit(){this.validator=(e=>{let i=!1;return t=>{i||(i=!0,e.valueChanges.subscribe(()=>{t.updateValueAndValidity()}));const o=t.value;return null==e.value&&null==o||e.value!==o?null:{notEqualTo:{control:e,value:e.value}}}})(this.notEqualTo)}validate(t){return this.validator(t)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","notEqualTo","","formControlName",""],["","notEqualTo","","formControl",""],["","notEqualTo","","ngModel",""]],inputs:{notEqualTo:"notEqualTo"},features:[n._Bn([ft])]}),D([(0,n.IIB)(),x("design:type",u.NI)],e.prototype,"notEqualTo",void 0),e})();const dt={provide:u.Cf,useExisting:(0,n.Gpc)(()=>Ee),multi:!0};let Ee=(()=>{let e=class{validate(t){return(e=>d(u.kI.required(e))||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e.value)?null:{number:!0})(t)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","number","","formControlName",""],["","number","","formControl",""],["","number","","ngModel",""]],features:[n._Bn([dt])]}),e})();const gt={provide:u.Cf,useExisting:(0,n.Gpc)(()=>$e),multi:!0};let $e=(()=>{let e=class{ngOnInit(){this.validator=ne(this.property)}ngOnChanges(t){for(const o in t)"property"===o&&(this.validator=ne(t[o].currentValue),this.onChange&&this.onChange())}validate(t){return this.validator(t)}registerOnValidatorChange(t){this.onChange=t}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","property","","formControlName",""],["","property","","formControl",""],["","property","","ngModel",""]],inputs:{property:"property"},features:[n._Bn([gt]),n.TTD]}),D([(0,n.IIB)(),x("design:type",String)],e.prototype,"property",void 0),e})();const mt={provide:u.Cf,useExisting:(0,n.Gpc)(()=>He),multi:!0};let He=(()=>{let e=class{ngOnInit(){this.validator=se(this.range)}ngOnChanges(t){for(const o in t)"range"===o&&(this.validator=se(t[o].currentValue),this.onChange&&this.onChange())}validate(t){return this.validator(t)}registerOnValidatorChange(t){this.onChange=t}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","range","","formControlName",""],["","range","","formControl",""],["","range","","ngModel",""]],inputs:{range:"range"},features:[n._Bn([mt]),n.TTD]}),D([(0,n.IIB)(),x("design:type",Array)],e.prototype,"range",void 0),e})();const pt={provide:u.Cf,useExisting:(0,n.Gpc)(()=>je),multi:!0};let je=(()=>{let e=class{ngOnInit(){this.validator=oe(this.rangeLength)}ngOnChanges(t){for(const o in t)"rangeLength"===o&&(this.validator=oe(t[o].currentValue),this.onChange&&this.onChange())}validate(t){return this.validator(t)}registerOnValidatorChange(t){this.onChange=t}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","rangeLength","","formControlName",""],["","rangeLength","","formControl",""],["","rangeLength","","ngModel",""]],inputs:{rangeLength:"rangeLength"},features:[n._Bn([pt]),n.TTD]}),D([(0,n.IIB)(),x("design:type",Array)],e.prototype,"rangeLength",void 0),e})();const vt={provide:u.Cf,useExisting:(0,n.Gpc)(()=>be),multi:!0};let be=(()=>{let e=class{validate(t){return(e=>d(u.kI.required(e))||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e.value)?null:{url:!0})(t)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","url","","formControlName",""],["","url","","formControl",""],["","url","","ngModel",""]],features:[n._Bn([vt])]}),e})();const _t={provide:u.Cf,useExisting:(0,n.Gpc)(()=>Te),multi:!0};let Te=(()=>{let e=class{ngOnInit(){this.validator=le(this.uuid)}ngOnChanges(t){for(const o in t)"uuid"===o&&(this.validator=le(t[o].currentValue),this.onChange&&this.onChange())}validate(t){return this.validator(t)}registerOnValidatorChange(t){this.onChange=t}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","uuid","","formControlName",""],["","uuid","","formControl",""],["","uuid","","ngModel",""]],inputs:{uuid:"uuid"},features:[n._Bn([_t]),n.TTD]}),D([(0,n.IIB)(),x("design:type",Object)],e.prototype,"uuid",void 0),e})(),yt=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({}),e})()},1470:(Ue,Q,P)=>{P.d(Q,{hx:()=>re,yI:()=>J});var C=P(5e3),Ve=P(655),K=P(2382),X=P(9808);const D=new C.OlP("config"),ee=new C.OlP("NEW_CONFIG"),x=new C.OlP("INITIAL_CONFIG"),we={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:".",clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},Oe=["Hh:m0:s0","Hh:m0","m0:s0"],Ae=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"];let te=(()=>{class v{constructor(r){this._config=r,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(a,s,c,g)=>{const n=a.split(c),u=n.length>1?`${c}${n[1]}`:"";let d=n[0];const l=this.separatorLimit.replace(/\s/g,"");l&&+l&&(d="-"===d[0]?`-${d.slice(1,d.length).slice(0,l.length)}`:d.slice(0,l.length));const p=/(\d+)(\d{3})/;for(;s&&p.test(d);)d=d.replace(p,"$1"+s+"$2");return void 0===g?d+u:0===g?d:d+u.substr(0,g+1)},this.percentage=a=>Number(a)>=0&&Number(a)<=100,this.getPrecision=a=>{const s=a.split(".");return s.length>1?Number(s[s.length-1]):1/0},this.checkAndRemoveSuffix=a=>{var s,c,g;for(let n=(null===(s=this.suffix)||void 0===s?void 0:s.length)-1;n>=0;n--){const u=this.suffix.substr(n,null===(c=this.suffix)||void 0===c?void 0:c.length);if(a.includes(u)&&(n-1<0||!a.includes(this.suffix.substr(n-1,null===(g=this.suffix)||void 0===g?void 0:g.length))))return a.replace(u,"")}return a},this.checkInputPrecision=(a,s,c)=>{if(s<1/0){const g=new RegExp(this._charToRegExpExpression(c)+`\\d{${s}}.*$`),n=a.match(g);n&&n[0].length-1>s&&(a=a.substring(0,a.length-(n[0].length-1-s))),0===s&&a.endsWith(c)&&(a=a.substring(0,a.length-1))}return a},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime}applyMaskWithPattern(r,a){const[s,c]=a;return this.customPattern=c,this.applyMask(r,s)}applyMask(r,a,s=0,c=!1,g=!1,n=(()=>{})){var u,d;if(!a||"string"!=typeof r)return"";let l=0,p="",b=!1,M=!1,A=1,B=!1;r.slice(0,this.prefix.length)===this.prefix&&(r=r.slice(this.prefix.length,r.length)),this.suffix&&(null==r?void 0:r.length)>0&&(r=this.checkAndRemoveSuffix(r));const E=r.toString().split("");"IP"===a&&(this.ipError=E.filter(y=>"."===y).length<3&&E.length<7,a="099.099.099.099");const N=[];for(let y=0;y<r.length;y++)(null===(u=r[y])||void 0===u?void 0:u.match("\\d"))&&N.push(r[y]);if("CPF_CNPJ"===a&&(this.cpfCnpjError=11!==N.length&&14!==N.length,a=N.length>11?"00.000.000/0000-00":"000.000.000-00"),a.startsWith("percent")){if(r.match("[a-z]|[A-Z]")||r.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){r=this._stripToDecimal(r);const y=this.getPrecision(a);r=this.checkInputPrecision(r,y,this.decimalMarker)}r.indexOf(".")>0&&!this.percentage(r.substring(0,r.indexOf(".")))&&(r=`${r.substring(0,r.indexOf(".")-1)}${r.substring(r.indexOf("."),r.length)}`),p=this.percentage(r)?r:r.substring(0,r.length-1)}else if(a.startsWith("separator")){(r.match("[w\u0430-\u044f\u0410-\u042f]")||r.match("[\u0401\u0451\u0410-\u044f]")||r.match("[a-z]|[A-Z]")||r.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\[\]:";<>.?\/]/)||r.match("[^A-Za-z0-9,]"))&&(r=this._stripToDecimal(r)),r=r.length>1&&"0"===r[0]&&r[1]!==this.decimalMarker&&!g?r.slice(1,r.length):r;const y=this._charToRegExpExpression(this.thousandSeparator),k=this._charToRegExpExpression(this.decimalMarker),F='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(y,"").replace(k,""),w=new RegExp("["+F+"]");r.match(w)&&(r=r.substring(0,r.length-1));const j=this.getPrecision(a),U=(r=this.checkInputPrecision(r,j,this.decimalMarker)).replace(new RegExp(y,"g"),"");p=this._formatWithSeparators(U,this.thousandSeparator,this.decimalMarker,j);const Z=p.indexOf(",")-r.indexOf(","),O=p.length-r.length;if(O>0&&","!==p[s]){M=!0;let q=0;do{this._shift.add(s+q),q++}while(q<O)}else 0!==Z&&s>0&&!(p.indexOf(",")>=s&&s>3)||!(p.indexOf(".")>=s&&s>3)&&O<=0?(this._shift.clear(),M=!0,A=O,this._shift.add(s+=O)):this._shift.clear()}else for(let y=0,k=E[0];y<E.length&&l!==a.length;y++,k=E[y])if(this._checkSymbolMask(k,a[l])&&"?"===a[l+1])p+=k,l+=2;else if("*"===a[l+1]&&b&&this._checkSymbolMask(k,a[l+2]))p+=k,l+=3,b=!1;else if(this._checkSymbolMask(k,a[l])&&"*"===a[l+1])p+=k,b=!0;else if("?"===a[l+1]&&this._checkSymbolMask(k,a[l+2]))p+=k,l+=3;else if(this._checkSymbolMask(k,a[l])){if("H"===a[l]&&Number(k)>2){l+=1,this._shiftStep(a,l,E.length),y--,this.leadZeroDateTime&&(p+="0");continue}if("h"===a[l]&&"2"===p&&Number(k)>3){l+=1,y--;continue}if("m"===a[l]&&Number(k)>5){l+=1,this._shiftStep(a,l,E.length),y--,this.leadZeroDateTime&&(p+="0");continue}if("s"===a[l]&&Number(k)>5){l+=1,this._shiftStep(a,l,E.length),y--,this.leadZeroDateTime&&(p+="0");continue}const F=31;if("d"===a[l]&&(Number(k)>3&&this.leadZeroDateTime||Number(r.slice(l,l+2))>F||"/"===r[l+1])){l+=1,this._shiftStep(a,l,E.length),y--,this.leadZeroDateTime&&(p+="0");continue}if("M"===a[l]){const w=12,j=0===l&&(Number(k)>2||Number(r.slice(l,l+2))>w||"/"===r[l+1]),U=r.slice(l-3,l-1).includes("/")&&("/"===r[l-2]&&Number(r.slice(l-1,l+1))>w&&"/"!==r[l]||"/"===r[l]||"/"===r[l-3]&&Number(r.slice(l-2,l))>w&&"/"!==r[l-1]||"/"===r[l-1]),Z=Number(r.slice(l-3,l-1))<=F&&!r.slice(l-3,l-1).includes("/")&&"/"===r[l-1]&&(Number(r.slice(l,l+2))>w||"/"===r[l+1]),O=Number(r.slice(l-3,l-1))>F&&!r.slice(l-3,l-1).includes("/")&&!r.slice(l-2,l).includes("/")&&Number(r.slice(l-2,l))>w,q=Number(r.slice(l-3,l-1))<=F&&!r.slice(l-3,l-1).includes("/")&&"/"!==r[l-1]&&Number(r.slice(l-1,l+1))>w;if(Number(k)>1&&this.leadZeroDateTime||j||U||Z||O||q){l+=1,this._shiftStep(a,l,E.length),y--,this.leadZeroDateTime&&(p+="0");continue}}p+=k,l++}else-1!==this.maskSpecialCharacters.indexOf(a[l])?(p+=a[l],l++,this._shiftStep(a,l,E.length),y--):this.maskSpecialCharacters.indexOf(k)>-1&&this.maskAvailablePatterns[a[l]]&&(null===(d=this.maskAvailablePatterns[a[l]])||void 0===d?void 0:d.optional)?(!!E[l]&&"099.099.099.099"!==a&&"000.000.000-00"!==a&&"00.000.000/0000-00"!==a&&(p+=E[l]),l++,y--):"*"===this.maskExpression[l+1]&&this._findSpecialChar(this.maskExpression[l+2])&&this._findSpecialChar(k)===this.maskExpression[l+2]&&b||"?"===this.maskExpression[l+1]&&this._findSpecialChar(this.maskExpression[l+2])&&this._findSpecialChar(k)===this.maskExpression[l+2]&&b?(l+=3,p+=k):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(k)<0&&k!==this.placeHolderCharacter&&(B=!0);p.length+1===a.length&&-1!==this.maskSpecialCharacters.indexOf(a[a.length-1])&&(p+=a[a.length-1]);let $=s+1;for(;this._shift.has($);)A++,$++;let H=c?l:this._shift.has(s)?A:0;B&&H--,n(H,M),A<0&&this._shift.clear();let L=!1;g&&(L=E.every(y=>this.maskSpecialCharacters.includes(y)));let R=`${this.prefix}${L?"":p}${this.suffix}`;return 0===p.length&&(R=`${this.prefix}${p}`),R}_findSpecialChar(r){return this.maskSpecialCharacters.find(a=>a===r)}_checkSymbolMask(r,a){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,this.maskAvailablePatterns[a]&&this.maskAvailablePatterns[a].pattern&&this.maskAvailablePatterns[a].pattern.test(r)}_stripToDecimal(r){return r.split("").filter((a,s)=>a.match("^-?\\d")||a.match("\\s")||"."===a||","===a||"-"===a&&0===s&&this.allowNegativeNumbers).join("")}_charToRegExpExpression(r){return r&&(" "===r?"\\s":"[\\^$.|?*+()".indexOf(r)>=0?"\\"+r:r)}_shiftStep(r,a,s){const c=/[*?]/g.test(r.slice(0,a))?s:a;this._shift.add(c+this.prefix.length||0)}}return v.\u0275fac=function(r){return new(r||v)(C.LFG(D))},v.\u0275prov=C.Yz7({token:v,factory:v.\u0275fac}),v})(),Y=(()=>{class v extends te{constructor(r,a,s,c){super(a),this.document=r,this._config=a,this._elementRef=s,this._renderer=c,this.maskExpression="",this.isNumberValue=!1,this.placeHolderCharacter="_",this.maskIsShown="",this.selStart=null,this.selEnd=null,this.writingValue=!1,this.maskChanged=!1,this.onChange=g=>{}}applyMask(r,a,s=0,c=!1,g=!1,n=(()=>{})){if(!a)return r;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"","IP"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(r||"#")),"CPF_CNPJ"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(r||"#")),!r&&this.showMaskTyped)return this.formControlResult(this.prefix),this.prefix+this.maskIsShown;const u=r&&"number"==typeof this.selStart?r[this.selStart]:"";let d="";if(this.hiddenInput&&!this.writingValue){let M=this.actualValue.split("");""!==r&&M.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(r.length>M.length?M.splice(this.selStart,0,u):r.length<M.length&&(M.length-r.length==1?M.splice(this.selStart-1,1):M.splice(this.selStart,this.selEnd-this.selStart))):M=[],this.showMaskTyped&&(r=this.removeMask(r)),d=this.actualValue.length&&M.length<=r.length?this.shiftTypedSymbols(M.join("")):r}d=Boolean(d)&&d.length?d:r;const l=super.applyMask(d,a,s,c,g,n);if(this.actualValue=this.getActualValue(l),"."===this.thousandSeparator&&"."===this.decimalMarker&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&!0===this.dropSpecialCharacters&&(this.maskSpecialCharacters=this.maskSpecialCharacters.filter(M=>M!==this.decimalMarker)),this.formControlResult(l),!this.showMaskTyped)return this.hiddenInput&&l&&l.length?this.hideInput(l,this.maskExpression):l;const p=l.length,b=this.prefix+this.maskIsShown;if(this.maskExpression.includes("H")){const M=this._numberSkipedSymbols(l);return l+b.slice(p+M)}return"IP"===this.maskExpression||"CPF_CNPJ"===this.maskExpression?l+b:l+b.slice(p)}_numberSkipedSymbols(r){const a=/(^|\D)(\d\D)/g;let s=a.exec(r),c=0;for(;null!=s;)c+=1,s=a.exec(r);return c}applyValueChanges(r=0,a,s,c=(()=>{})){const g=this._elementRef.nativeElement;g.value=this.applyMask(g.value,this.maskExpression,r,a,s,c),g!==this.document.activeElement&&this.clearIfNotMatchFn()}hideInput(r,a){return r.split("").map((s,c)=>{var g,n;return this.maskAvailablePatterns&&this.maskAvailablePatterns[a[c]]&&(null===(g=this.maskAvailablePatterns[a[c]])||void 0===g?void 0:g.symbol)?null===(n=this.maskAvailablePatterns[a[c]])||void 0===n?void 0:n.symbol:s}).join("")}getActualValue(r){const a=r.split("").filter((s,c)=>this._checkSymbolMask(s,this.maskExpression[c])||this.maskSpecialCharacters.includes(this.maskExpression[c])&&s===this.maskExpression[c]);return a.join("")===r?a.join(""):r}shiftTypedSymbols(r){let a="";return(r&&r.split("").map((c,g)=>{if(this.maskSpecialCharacters.includes(r[g+1])&&r[g+1]!==this.maskExpression[g+1])return a=c,r[g+1];if(a.length){const n=a;return a="",n}return c})||[]).join("")}showMaskInInput(r){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}if(this.showMaskTyped){if(r){if("IP"===this.maskExpression)return this._checkForIp(r);if("CPF_CNPJ"===this.maskExpression)return this._checkForCpfCnpj(r)}return this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){const r=this._elementRef.nativeElement;this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==r.value.replace(/_/g,"").length&&(this.formElementProperty=["value",""],this.applyMask(r.value,this.maskExpression))}set formElementProperty([r,a]){Promise.resolve().then(()=>this._renderer.setProperty(this._elementRef.nativeElement,r,a))}checkSpecialCharAmount(r){return r.split("").filter(s=>this._findSpecialChar(s)).length}removeMask(r){return this._removeMask(this._removeSuffix(this._removePrefix(r)),this.maskSpecialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(r){var a;if("#"===r)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;const s=[];for(let c=0;c<r.length;c++)(null===(a=r[c])||void 0===a?void 0:a.match("\\d"))&&s.push(r[c]);return s.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:s.length>3&&s.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:s.length>6&&s.length<=9?this.placeHolderCharacter:""}_checkForCpfCnpj(r){var a;const s=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,c=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if("#"===r)return s;const g=[];for(let n=0;n<r.length;n++)(null===(a=r[n])||void 0===a?void 0:a.match("\\d"))&&g.push(r[n]);return g.length<=3?s.slice(g.length,s.length):g.length>3&&g.length<=6?s.slice(g.length+1,s.length):g.length>6&&g.length<=9?s.slice(g.length+2,s.length):g.length>9&&g.length<11?s.slice(g.length+3,s.length):11===g.length?"":12===g.length?c.slice(17===r.length?16:15,c.length):g.length>12&&g.length<=14?c.slice(g.length+4,c.length):""}formControlResult(r){this.writingValue||this.maskChanged?this.maskChanged=!1:Array.isArray(this.dropSpecialCharacters)?this.onChange(this._toNumber(this._removeMask(this._removeSuffix(this._removePrefix(r)),this.dropSpecialCharacters))):this.onChange(this.dropSpecialCharacters?this._toNumber(this._checkSymbols(r)):this._removeSuffix(r))}_toNumber(r){if(!this.isNumberValue||""===r)return r;const a=Number(r);return Number.isNaN(a)?r:a}_removeMask(r,a){return r&&r.replace(this._regExpForRemove(a),"")}_removePrefix(r){return this.prefix?r&&r.replace(this.prefix,""):r}_removeSuffix(r){return this.suffix?r&&r.replace(this.suffix,""):r}_retrieveSeparatorValue(r){return this._removeMask(this._removeSuffix(this._removePrefix(r)),this.maskSpecialCharacters)}_regExpForRemove(r){return new RegExp(r.map(a=>`\\${a}`).join("|"),"gi")}_checkSymbols(r){if(""===r)return r;const a=this._retrieveSeparatorPrecision(this.maskExpression);let s=this._retrieveSeparatorValue(r);return"."!==this.decimalMarker&&(s=s.replace(this.decimalMarker,".")),this.isNumberValue?a?r===this.decimalMarker?null:this._checkPrecision(this.maskExpression,s):Number(s):s}_retrieveSeparatorPrecision(r){const a=r.match(new RegExp("^separator\\.([^d]*)"));return a?Number(a[1]):null}_checkPrecision(r,a){return r.indexOf("2")>0?Number(a).toFixed(2):Number(a)}}return v.\u0275fac=function(r){return new(r||v)(C.LFG(X.K0),C.LFG(D),C.LFG(C.SBq),C.LFG(C.Qsj))},v.\u0275prov=C.Yz7({token:v,factory:v.\u0275fac}),v})(),re=(()=>{class v{constructor(r,a,s){this.document=r,this._maskService=a,this._config=s,this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this.leadZeroDateTime=null,this._maskValue="",this._position=null,this._maskExpressionArray=[],this._justPasted=!1,this.onChange=c=>{},this.onTouch=()=>{}}ngOnChanges(r){const{maskExpression:a,specialCharacters:s,patterns:c,prefix:g,suffix:n,thousandSeparator:u,decimalMarker:d,dropSpecialCharacters:l,hiddenInput:p,showMaskTyped:b,placeHolderCharacter:M,shownMaskExpression:A,showTemplate:B,clearIfNotMatch:E,validation:N,separatorLimit:$,allowNegativeNumbers:H,leadZeroDateTime:L}=r;if(a&&(a.currentValue!==a.previousValue&&!a.firstChange&&(this._maskService.maskChanged=!0),this._maskValue=a.currentValue||"",a.currentValue&&a.currentValue.split("||").length>1&&(this._maskExpressionArray=a.currentValue.split("||").sort((R,y)=>R.length-y.length),this._maskValue=this._maskExpressionArray[0],this.maskExpression=this._maskExpressionArray[0],this._maskService.maskExpression=this._maskExpressionArray[0])),s){if(!s.currentValue||!Array.isArray(s.currentValue))return;this._maskService.maskSpecialCharacters=s.currentValue||[]}c&&c.currentValue&&(this._maskService.maskAvailablePatterns=c.currentValue),g&&(this._maskService.prefix=g.currentValue),n&&(this._maskService.suffix=n.currentValue),u&&(this._maskService.thousandSeparator=u.currentValue),d&&(this._maskService.decimalMarker=d.currentValue),l&&(this._maskService.dropSpecialCharacters=l.currentValue),p&&(this._maskService.hiddenInput=p.currentValue),b&&(this._maskService.showMaskTyped=b.currentValue),M&&(this._maskService.placeHolderCharacter=M.currentValue),A&&(this._maskService.shownMaskExpression=A.currentValue),B&&(this._maskService.showTemplate=B.currentValue),E&&(this._maskService.clearIfNotMatch=E.currentValue),N&&(this._maskService.validation=N.currentValue),$&&(this._maskService.separatorLimit=$.currentValue),H&&(this._maskService.allowNegativeNumbers=H.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.maskSpecialCharacters=this._maskService.maskSpecialCharacters.filter(R=>"-"!==R))),L&&(this._maskService.leadZeroDateTime=L.currentValue),this._applyMask()}validate({value:r}){if(!this._maskService.validation||!this._maskValue)return null;if(this._maskService.ipError)return this._createValidationError(r);if(this._maskService.cpfCnpjError)return this._createValidationError(r);if(this._maskValue.startsWith("separator")||Ae.includes(this._maskValue)||this._maskService.clearIfNotMatch)return null;if(Oe.includes(this._maskValue))return this._validateTime(r);if(r&&r.toString().length>=1){let a=0;for(const s in this._maskService.maskAvailablePatterns)if(this._maskService.maskAvailablePatterns[s].optional&&(this._maskValue.indexOf(s)!==this._maskValue.lastIndexOf(s)?a+=this._maskValue.split("").filter(g=>g===s).join("").length:-1!==this._maskValue.indexOf(s)&&a++,-1!==this._maskValue.indexOf(s)&&r.toString().length>=this._maskValue.indexOf(s)||a===this._maskValue.length))return null;if(1===this._maskValue.indexOf("{")&&r.toString().length===this._maskValue.length+Number(this._maskValue.split("{")[1].split("}")[0])-4||1===this._maskValue.indexOf("*")||1===this._maskValue.indexOf("?"))return null;if(this._maskValue.indexOf("*")>1&&r.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&r.toString().length<this._maskValue.indexOf("?")||1===this._maskValue.indexOf("{"))return this._createValidationError(r);if(-1===this._maskValue.indexOf("*")||-1===this._maskValue.indexOf("?")){const s=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkSpecialCharAmount(this._maskValue)-a:this._maskValue.length-a;if(r.toString().length<s)return this._createValidationError(r)}}return null}onPaste(){this._justPasted=!0}onModelChange(r){!r&&this._maskService.actualValue&&(this._maskService.actualValue=this._maskService.getActualValue(""))}onInput(r){const a=r.target;if(this._inputValue=a.value,this._setMask(),!this._maskValue)return void this.onChange(a.value);const s=1===a.selectionStart?a.selectionStart+this._maskService.prefix.length:a.selectionStart;let c=0,g=!1;if(this._maskService.applyValueChanges(s,this._justPasted,"Backspace"===this._code||"Delete"===this._code,(u,d)=>{this._justPasted=!1,c=u,g=d}),this.document.activeElement!==a)return;this._position=1===this._position&&1===this._inputValue.length?null:this._position;let n=this._position?this._inputValue.length+s+c:s+("Backspace"!==this._code||g?c:0);n>this._getActualInputLength()&&(n=this._getActualInputLength()),n<0&&(n=0),a.setSelectionRange(n,n),this._position=null}onBlur(){this._maskValue&&this._maskService.clearIfNotMatchFn(),this.onTouch()}onFocus(r){if(!this._maskValue)return;const a=r.target;null!==a&&null!==a.selectionStart&&a.selectionStart===a.selectionEnd&&a.selectionStart>this._maskService.prefix.length&&38!==r.keyCode&&this._maskService.showMaskTyped&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),a.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===a.value?(a.focus(),a.setSelectionRange(0,0)):a.selectionStart>this._maskService.actualValue.length&&a.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));const g=a.value&&a.value!==this._maskService.prefix?a.value:this._maskService.prefix+this._maskService.maskIsShown;a.value!==g&&(a.value=g),(a.selectionStart||a.selectionEnd)<=this._maskService.prefix.length?a.selectionStart=this._maskService.prefix.length:a.selectionEnd>this._getActualInputLength()&&(a.selectionEnd=this._getActualInputLength())}onKeyDown(r){var a;if(!this._maskValue)return;this._code=r.code?r.code:r.key;const s=r.target;if(this._inputValue=s.value,this._setMask(),38===r.keyCode&&r.preventDefault(),37===r.keyCode||8===r.keyCode||46===r.keyCode){if(8===r.keyCode&&0===s.value.length&&(s.selectionStart=s.selectionEnd),8===r.keyCode&&0!==s.selectionStart)if(this.specialCharacters=(null===(a=this.specialCharacters)||void 0===a?void 0:a.length)?this.specialCharacters:this._config.specialCharacters,this.prefix.length>1&&s.selectionStart<=this.prefix.length)s.setSelectionRange(this.prefix.length,this.prefix.length);else{if(this._inputValue.length!==s.selectionStart&&1!==s.selectionStart)for(;this.specialCharacters.includes(this._inputValue[s.selectionStart-1].toString())&&(this.prefix.length>=1&&s.selectionStart>this.prefix.length||0===this.prefix.length);)s.setSelectionRange(s.selectionStart-1,s.selectionStart-1);this.suffixCheckOnPressDelete(r.keyCode,s)}this.suffixCheckOnPressDelete(r.keyCode,s),this._maskService.prefix.length&&s.selectionStart<=this._maskService.prefix.length&&s.selectionEnd<=this._maskService.prefix.length&&r.preventDefault();const c=s.selectionStart;8===r.keyCode&&!s.readOnly&&0===c&&s.selectionEnd===s.value.length&&0!==s.value.length&&(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<s.selectionStart?s.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):(65===r.keyCode&&r.ctrlKey||65===r.keyCode&&r.metaKey)&&(s.setSelectionRange(0,this._getActualInputLength()),r.preventDefault()),this._maskService.selStart=s.selectionStart,this._maskService.selEnd=s.selectionEnd}writeValue(r){return(0,Ve.mG)(this,void 0,void 0,function*(){"object"==typeof r&&null!==r&&"value"in r&&("disable"in r&&this.setDisabledState(Boolean(r.disable)),r=r.value),"number"==typeof r&&(r=String(r),r="."!==this.decimalMarker?r.replace(".",this.decimalMarker):r,this._maskService.isNumberValue=!0),"string"!=typeof r&&(r=""),this._inputValue=r,this._setMask(),r&&this._maskService.maskExpression||this._maskService.maskExpression&&(this._maskService.prefix||this._maskService.showMaskTyped)?(this._maskService.writingValue=!0,this._maskService.formElementProperty=["value",this._maskService.applyMask(r,this._maskService.maskExpression)],this._maskService.writingValue=!1):this._maskService.formElementProperty=["value",r],this._inputValue=r})}registerOnChange(r){this.onChange=r,this._maskService.onChange=this.onChange}registerOnTouched(r){this.onTouch=r}suffixCheckOnPressDelete(r,a){46===r&&this.suffix.length>0&&this._inputValue.length-this.suffix.length<=a.selectionStart&&a.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length),8===r&&(this.suffix.length>1&&this._inputValue.length-this.suffix.length<a.selectionStart&&a.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length),1===this.suffix.length&&this._inputValue.length===a.selectionStart&&a.setSelectionRange(a.selectionStart-1,a.selectionStart-1))}setDisabledState(r){this._maskService.formElementProperty=["disabled",r]}_repeatPatternSymbols(r){return r.match(/{[0-9]+}/)&&r.split("").reduce((a,s,c)=>{if(this._start="{"===s?c:this._start,"}"!==s)return this._maskService._findSpecialChar(s)?a+s:a;this._end=c;const g=Number(r.slice(this._start+1,this._end));return a+new Array(g+1).join(r[this._start-1])},"")||r}_applyMask(){this._maskService.maskExpression=this._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}_validateTime(r){const a=this._maskValue.split("").filter(s=>":"!==s).length;return r&&(0==+r[r.length-1]&&r.length<a||r.length<=a-2)?this._createValidationError(r):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(r){return{mask:{requiredMask:this._maskValue,actualValue:r}}}_setMask(){this._maskExpressionArray.length>0&&this._maskExpressionArray.some(r=>{var a,s;const c=(null===(a=this._maskService.removeMask(this._inputValue))||void 0===a?void 0:a.length)<=(null===(s=this._maskService.removeMask(r))||void 0===s?void 0:s.length);if(this._inputValue&&c)return this._maskValue=r,this.maskExpression=r,this._maskService.maskExpression=r,c;this._maskValue=this._maskExpressionArray[this._maskExpressionArray.length-1],this.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1],this._maskService.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1]})}}return v.\u0275fac=function(r){return new(r||v)(C.Y36(X.K0),C.Y36(Y),C.Y36(D))},v.\u0275dir=C.lG2({type:v,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(r,a){1&r&&C.NdJ("paste",function(){return a.onPaste()})("ngModelChange",function(c){return a.onModelChange(c)})("input",function(c){return a.onInput(c)})("blur",function(){return a.onBlur()})("click",function(c){return a.onFocus(c)})("keydown",function(c){return a.onKeyDown(c)})},inputs:{maskExpression:["mask","maskExpression"],specialCharacters:"specialCharacters",patterns:"patterns",prefix:"prefix",suffix:"suffix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",dropSpecialCharacters:"dropSpecialCharacters",hiddenInput:"hiddenInput",showMaskTyped:"showMaskTyped",placeHolderCharacter:"placeHolderCharacter",shownMaskExpression:"shownMaskExpression",showTemplate:"showTemplate",clearIfNotMatch:"clearIfNotMatch",validation:"validation",separatorLimit:"separatorLimit",allowNegativeNumbers:"allowNegativeNumbers",leadZeroDateTime:"leadZeroDateTime"},features:[C._Bn([{provide:K.JU,useExisting:(0,C.Gpc)(()=>v),multi:!0},{provide:K.Cf,useExisting:(0,C.Gpc)(()=>v),multi:!0},Y]),C.TTD]}),v})();function Ne(v,I){return Object.assign(Object.assign({},v),I instanceof Function?I():I)}let J=(()=>{class v{static forRoot(r){return{ngModule:v,providers:[{provide:ee,useValue:r},{provide:x,useValue:we},{provide:D,useFactory:Ne,deps:[x,ee]},te]}}static forChild(){return{ngModule:v}}}return v.\u0275fac=function(r){return new(r||v)},v.\u0275mod=C.oAB({type:v}),v.\u0275inj=C.cJS({}),v})();const ie="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};ie.KeyboardEvent||(ie.KeyboardEvent=function(v,I){})}}]);