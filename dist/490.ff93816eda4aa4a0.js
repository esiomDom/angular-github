var ft=Object.defineProperty,pt=Object.defineProperties,gt=Object.getOwnPropertyDescriptors,et=Object.getOwnPropertySymbols,_t=Object.prototype.hasOwnProperty,mt=Object.prototype.propertyIsEnumerable,Xe=(de,M,ne)=>M in de?ft(de,M,{enumerable:!0,configurable:!0,writable:!0,value:ne}):de[M]=ne,$e=(de,M)=>{for(var ne in M||(M={}))_t.call(M,ne)&&Xe(de,ne,M[ne]);if(et)for(var ne of et(M))mt.call(M,ne)&&Xe(de,ne,M[ne]);return de},Ye=(de,M)=>pt(de,gt(M)),We=(de,M,ne)=>(Xe(de,"symbol"!=typeof M?M+"":M,ne),ne),Ke=(de,M,ne)=>{if(!M.has(de))throw TypeError("Cannot "+ne)},Ae=(de,M,ne)=>(Ke(de,M,"read from private field"),ne?ne.call(de):M.get(de)),ve=(de,M,ne)=>{if(M.has(de))throw TypeError("Cannot add the same private member more than once");M instanceof WeakSet?M.add(de):M.set(de,ne)},Te=(de,M,ne,m)=>(Ke(de,M,"write to private field"),m?m.call(de,ne):M.set(de,ne),ne),tt=(de,M,ne,m)=>({set _(he){Te(de,M,he,ne)},get _(){return Ae(de,M,m)}}),ye=(de,M,ne)=>(Ke(de,M,"access private method"),ne);(self.webpackChunknobleui_angular=self.webpackChunknobleui_angular||[]).push([[490],{6036:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(8926).default,ne;ne=()=>(()=>{"use strict";var __webpack_modules__=[,(de,M,ne)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.VerbosityLevel=M.Util=M.UnknownErrorException=M.UnexpectedResponseException=M.UNSUPPORTED_FEATURES=M.TextRenderingMode=M.StreamType=M.RenderingIntentFlag=M.PermissionFlag=M.PasswordResponses=M.PasswordException=M.PageActionEventType=M.OPS=M.MissingPDFException=M.InvalidPDFException=M.ImageKind=M.IDENTITY_MATRIX=M.FormatError=M.FontType=M.FeatureTest=M.FONT_IDENTITY_MATRIX=M.DocumentActionEventType=M.CMapCompressionType=M.BaseException=M.AnnotationType=M.AnnotationStateModelType=M.AnnotationReviewState=M.AnnotationReplyType=M.AnnotationMode=M.AnnotationMarkedState=M.AnnotationFlag=M.AnnotationFieldFlag=M.AnnotationBorderStyleType=M.AnnotationActionEventType=M.AbortException=void 0,M.arrayByteLength=j,M.arraysToBytes=function(ee){const k=ee.length;if(1===k&&ee[0]instanceof Uint8Array)return ee[0];let F=0;for(let pe=0;pe<k;pe++)F+=j(ee[pe]);let se=0;const ce=new Uint8Array(F);for(let pe=0;pe<k;pe++){let ge=ee[pe];ge instanceof Uint8Array||(ge="string"==typeof ge?B(ge):new Uint8Array(ge));const Pe=ge.byteLength;ce.set(ge,se),se+=Pe}return ce},M.assert=function(ee,k){ee||N(k)},M.bytesToString=function(ee){("object"!=typeof ee||null===ee||void 0===ee.length)&&N("Invalid argument for bytesToString");const k=ee.length,F=8192;if(k<F)return String.fromCharCode.apply(null,ee);const se=[];for(let ce=0;ce<k;ce+=F){const pe=Math.min(ce+F,k),ge=ee.subarray(ce,pe);se.push(String.fromCharCode.apply(null,ge))}return se.join("")},M.createPromiseCapability=function(){const ee=Object.create(null);let k=!1;return Object.defineProperty(ee,"settled",{get:()=>k}),ee.promise=new Promise(function(F,se){ee.resolve=function(ce){k=!0,F(ce)},ee.reject=function(ce){k=!0,se(ce)}}),ee},M.createValidAbsoluteUrl=function(ee,k=null,F=null){if(!ee)return null;try{if(F&&"string"==typeof ee){if(F.addDefaultProtocol&&ee.startsWith("www.")){const ce=ee.match(/\./g);ce&&ce.length>=2&&(ee=`http://${ee}`)}if(F.tryConvertEncoding)try{ee=fe(ee)}catch(ce){}}const se=k?new URL(ee,k):new URL(ee);if(function(ee){if(!ee)return!1;switch(ee.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(se))return se}catch(se){}return null},M.escapeString=function(ee){return ee.replace(/([()\\\n\r])/g,k=>"\n"===k?"\\n":"\r"===k?"\\r":`\\${k}`)},M.getModificationDate=function(ee=new Date){return[ee.getUTCFullYear().toString(),(ee.getUTCMonth()+1).toString().padStart(2,"0"),ee.getUTCDate().toString().padStart(2,"0"),ee.getUTCHours().toString().padStart(2,"0"),ee.getUTCMinutes().toString().padStart(2,"0"),ee.getUTCSeconds().toString().padStart(2,"0")].join("")},M.getVerbosityLevel=function(){return R},M.info=function(ee){R>=p.INFOS&&console.log(`Info: ${ee}`)},M.isArrayBuffer=function(ee){return"object"==typeof ee&&null!==ee&&void 0!==ee.byteLength},M.isArrayEqual=function(ee,k){if(ee.length!==k.length)return!1;for(let F=0,se=ee.length;F<se;F++)if(ee[F]!==k[F])return!1;return!0},M.isAscii=function(ee){return/^[\x00-\x7F]*$/.test(ee)},M.objectFromMap=function(ee){const k=Object.create(null);for(const[F,se]of ee)k[F]=se;return k},M.objectSize=function(ee){return Object.keys(ee).length},M.setVerbosityLevel=function(ee){Number.isInteger(ee)&&(R=ee)},M.shadow=ae,M.string32=function(ee){return String.fromCharCode(ee>>24&255,ee>>16&255,ee>>8&255,255&ee)},M.stringToBytes=B,M.stringToPDFString=function(ee){if(ee[0]>="\xef"){let F;if("\xfe"===ee[0]&&"\xff"===ee[1]?F="utf-16be":"\xff"===ee[0]&&"\xfe"===ee[1]?F="utf-16le":"\xef"===ee[0]&&"\xbb"===ee[1]&&"\xbf"===ee[2]&&(F="utf-8"),F)try{const se=new TextDecoder(F,{fatal:!0}),ce=B(ee);return se.decode(ce)}catch(se){Y(`stringToPDFString: "${se}".`)}}const k=[];for(let F=0,se=ee.length;F<se;F++){const ce=C[ee.charCodeAt(F)];k.push(ce?String.fromCharCode(ce):ee.charAt(F))}return k.join("")},M.stringToUTF16BEString=function(ee){const k=["\xfe\xff"];for(let F=0,se=ee.length;F<se;F++){const ce=ee.charCodeAt(F);k.push(String.fromCharCode(ce>>8&255),String.fromCharCode(255&ce))}return k.join("")},M.stringToUTF8String=fe,M.unreachable=N,M.utf8StringToString=function(ee){return unescape(encodeURIComponent(ee))},M.warn=Y,ne(2),M.IDENTITY_MATRIX=[1,0,0,1,0,0],M.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],M.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},M.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},M.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},M.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},M.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},M.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},M.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},M.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},M.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},M.AnnotationReplyType={GROUP:"Group",REPLY:"R"},M.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},M.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},M.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},M.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},M.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},M.PageActionEventType={O:"PageOpen",C:"PageClose"},M.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},M.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const p={ERRORS:0,WARNINGS:1,INFOS:5};M.VerbosityLevel=p,M.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},M.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},M.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},M.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let R=p.WARNINGS;function Y(ee){R>=p.WARNINGS&&console.log(`Warning: ${ee}`)}function N(ee){throw new Error(ee)}function ae(ee,k,F){return Object.defineProperty(ee,k,{value:F,enumerable:!0,configurable:!0,writable:!1}),F}const T=function(){function k(F,se){this.constructor===k&&N("Cannot initialize BaseException."),this.message=F,this.name=se}return k.prototype=new Error,k.constructor=k,k}();function B(ee){"string"!=typeof ee&&N("Invalid argument for stringToBytes");const k=ee.length,F=new Uint8Array(k);for(let se=0;se<k;++se)F[se]=255&ee.charCodeAt(se);return F}function j(ee){return void 0!==ee.length?ee.length:void 0!==ee.byteLength?ee.byteLength:void N("Invalid argument for arrayByteLength")}M.BaseException=T,M.PasswordException=class extends T{constructor(k,F){super(k,"PasswordException"),this.code=F}},M.UnknownErrorException=class extends T{constructor(k,F){super(k,"UnknownErrorException"),this.details=F}},M.InvalidPDFException=class extends T{constructor(k){super(k,"InvalidPDFException")}},M.MissingPDFException=class extends T{constructor(k){super(k,"MissingPDFException")}},M.UnexpectedResponseException=class extends T{constructor(k,F){super(k,"UnexpectedResponseException"),this.status=F}},M.FormatError=class extends T{constructor(k){super(k,"FormatError")}},M.AbortException=class extends T{constructor(k){super(k,"AbortException")}},M.FeatureTest=class{static get isLittleEndian(){return ae(this,"isLittleEndian",function(){const ee=new Uint8Array(4);return ee[0]=1,1===new Uint32Array(ee.buffer,0,1)[0]}())}static get isEvalSupported(){return ae(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(ee){return!1}}())}static get isOffscreenCanvasSupported(){return ae(this,"isOffscreenCanvasSupported","undefined"!=typeof OffscreenCanvas)}};const re=[...Array(256).keys()].map(ee=>ee.toString(16).padStart(2,"0"));class ie{static makeHexColor(k,F,se){return`#${re[k]}${re[F]}${re[se]}`}static scaleMinMax(k,F){let se;k[0]?(k[0]<0&&(se=F[0],F[0]=F[1],F[1]=se),F[0]*=k[0],F[1]*=k[0],k[3]<0&&(se=F[2],F[2]=F[3],F[3]=se),F[2]*=k[3],F[3]*=k[3]):(se=F[0],F[0]=F[2],F[2]=se,se=F[1],F[1]=F[3],F[3]=se,k[1]<0&&(se=F[2],F[2]=F[3],F[3]=se),F[2]*=k[1],F[3]*=k[1],k[2]<0&&(se=F[0],F[0]=F[1],F[1]=se),F[0]*=k[2],F[1]*=k[2]),F[0]+=k[4],F[1]+=k[4],F[2]+=k[5],F[3]+=k[5]}static transform(k,F){return[k[0]*F[0]+k[2]*F[1],k[1]*F[0]+k[3]*F[1],k[0]*F[2]+k[2]*F[3],k[1]*F[2]+k[3]*F[3],k[0]*F[4]+k[2]*F[5]+k[4],k[1]*F[4]+k[3]*F[5]+k[5]]}static applyTransform(k,F){return[k[0]*F[0]+k[1]*F[2]+F[4],k[0]*F[1]+k[1]*F[3]+F[5]]}static applyInverseTransform(k,F){const se=F[0]*F[3]-F[1]*F[2];return[(k[0]*F[3]-k[1]*F[2]+F[2]*F[5]-F[4]*F[3])/se,(-k[0]*F[1]+k[1]*F[0]+F[4]*F[1]-F[5]*F[0])/se]}static getAxialAlignedBoundingBox(k,F){const se=ie.applyTransform(k,F),ce=ie.applyTransform(k.slice(2,4),F),pe=ie.applyTransform([k[0],k[3]],F),ge=ie.applyTransform([k[2],k[1]],F);return[Math.min(se[0],ce[0],pe[0],ge[0]),Math.min(se[1],ce[1],pe[1],ge[1]),Math.max(se[0],ce[0],pe[0],ge[0]),Math.max(se[1],ce[1],pe[1],ge[1])]}static inverseTransform(k){const F=k[0]*k[3]-k[1]*k[2];return[k[3]/F,-k[1]/F,-k[2]/F,k[0]/F,(k[2]*k[5]-k[4]*k[3])/F,(k[4]*k[1]-k[5]*k[0])/F]}static apply3dTransform(k,F){return[k[0]*F[0]+k[1]*F[1]+k[2]*F[2],k[3]*F[0]+k[4]*F[1]+k[5]*F[2],k[6]*F[0]+k[7]*F[1]+k[8]*F[2]]}static singularValueDecompose2dScale(k){const F=[k[0],k[2],k[1],k[3]],se=k[0]*F[0]+k[1]*F[2],ge=k[2]*F[1]+k[3]*F[3],Pe=(se+ge)/2,we=Math.sqrt((se+ge)**2-4*(se*ge-(k[2]*F[0]+k[3]*F[2])*(k[0]*F[1]+k[1]*F[3])))/2,xe=Pe-we||1;return[Math.sqrt(Pe+we||1),Math.sqrt(xe)]}static normalizeRect(k){const F=k.slice(0);return k[0]>k[2]&&(F[0]=k[2],F[2]=k[0]),k[1]>k[3]&&(F[1]=k[3],F[3]=k[1]),F}static intersect(k,F){const se=Math.max(Math.min(k[0],k[2]),Math.min(F[0],F[2])),ce=Math.min(Math.max(k[0],k[2]),Math.max(F[0],F[2]));if(se>ce)return null;const pe=Math.max(Math.min(k[1],k[3]),Math.min(F[1],F[3])),ge=Math.min(Math.max(k[1],k[3]),Math.max(F[1],F[3]));return pe>ge?null:[se,pe,ce,ge]}static bezierBoundingBox(k,F,se,ce,pe,ge,Pe,we){const Me=[],xe=[[],[]];let Re,ke,Ie,Le,Oe,Be,Ne,Ve;for(let qe=0;qe<2;++qe)if(0===qe?(ke=6*k-12*se+6*pe,Re=-3*k+9*se-9*pe+3*Pe,Ie=3*se-3*k):(ke=6*F-12*ce+6*ge,Re=-3*F+9*ce-9*ge+3*we,Ie=3*ce-3*F),Math.abs(Re)<1e-12){if(Math.abs(ke)<1e-12)continue;Le=-Ie/ke,0<Le&&Le<1&&Me.push(Le)}else Ne=ke*ke-4*Ie*Re,Ve=Math.sqrt(Ne),!(Ne<0)&&(Oe=(-ke+Ve)/(2*Re),0<Oe&&Oe<1&&Me.push(Oe),Be=(-ke-Ve)/(2*Re),0<Be&&Be<1&&Me.push(Be));let Fe,De=Me.length;const Ue=De;for(;De--;)Le=Me[De],Fe=1-Le,xe[0][De]=Fe*Fe*Fe*k+3*Fe*Fe*Le*se+3*Fe*Le*Le*pe+Le*Le*Le*Pe,xe[1][De]=Fe*Fe*Fe*F+3*Fe*Fe*Le*ce+3*Fe*Le*Le*ge+Le*Le*Le*we;return xe[0][Ue]=k,xe[1][Ue]=F,xe[0][Ue+1]=Pe,xe[1][Ue+1]=we,xe[0].length=xe[1].length=Ue+2,[Math.min(...xe[0]),Math.min(...xe[1]),Math.max(...xe[0]),Math.max(...xe[1])]}}M.Util=ie;const C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function fe(ee){return decodeURIComponent(escape(ee))}},(de,M,ne)=>{ne(3)},(de,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.isNodeJS=void 0;const ne=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);M.isNodeJS=ne},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var de,ne,m,he,$,q,J,O,l,nt,b;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:y,NodeCMapReaderFactory:o,NodeStandardFontDataFactory:r}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=y,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=o,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=r}function setPDFNetworkStreamFactory(y){createPDFNetworkStream=y}function getDocument(y){const o=new PDFDocumentLoadingTask;let r;if("string"==typeof y||y instanceof URL)r={url:y};else if((0,_util.isArrayBuffer)(y))r={data:y};else if(y instanceof PDFDataRangeTransport)r={range:y};else{if("object"!=typeof y)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!y.url&&!y.data&&!y.range)throw new Error("Invalid parameter object: need either .data, .range or .url");r=y}const n=Object.create(null);let h=null,S=null;for(const _ in r){const e=r[_];switch(_){case"url":if("undefined"!=typeof window)try{n[_]=new URL(e,window.location).href;continue}catch(i){(0,_util.warn)(`Cannot create valid URL: "${i}".`)}else if("string"==typeof e||e instanceof URL){n[_]=e.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":h=e;continue;case"worker":S=e;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&e instanceof Buffer)n[_]=new Uint8Array(e);else{if(e instanceof Uint8Array)break;if("string"==typeof e)n[_]=(0,_util.stringToBytes)(e);else if("object"!=typeof e||null===e||isNaN(e.length)){if(!(0,_util.isArrayBuffer)(e))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");n[_]=new Uint8Array(e)}else n[_]=new Uint8Array(e)}continue}n[_]=e}if(n.CMapReaderFactory=n.CMapReaderFactory||DefaultCMapReaderFactory,n.StandardFontDataFactory=n.StandardFontDataFactory||DefaultStandardFontDataFactory,n.ignoreErrors=!0!==n.stopAtErrors,n.fontExtraProperties=!0===n.fontExtraProperties,n.pdfBug=!0===n.pdfBug,n.enableXfa=!0===n.enableXfa,(!Number.isInteger(n.rangeChunkSize)||n.rangeChunkSize<1)&&(n.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof n.docBaseUrl||(0,_display_utils.isDataScheme)(n.docBaseUrl))&&(n.docBaseUrl=null),(!Number.isInteger(n.maxImageSize)||n.maxImageSize<-1)&&(n.maxImageSize=-1),"string"!=typeof n.cMapUrl&&(n.cMapUrl=null),"string"!=typeof n.standardFontDataUrl&&(n.standardFontDataUrl=null),"boolean"!=typeof n.useWorkerFetch&&(n.useWorkerFetch=n.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&n.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof n.isEvalSupported&&(n.isEvalSupported=!0),"boolean"!=typeof n.disableFontFace&&(n.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof n.useSystemFonts&&(n.useSystemFonts=!_is_node.isNodeJS&&!n.disableFontFace),("object"!=typeof n.ownerDocument||null===n.ownerDocument)&&(n.ownerDocument=globalThis.document),"boolean"!=typeof n.disableRange&&(n.disableRange=!1),"boolean"!=typeof n.disableStream&&(n.disableStream=!1),"boolean"!=typeof n.disableAutoFetch&&(n.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(n.verbosity),!S){const _={verbosity:n.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};S=_.port?PDFWorker.fromPort(_):new PDFWorker(_),o._worker=S}const f=o.docId;return S.promise.then(function(){if(o.destroyed)throw new Error("Loading aborted");const _=_fetchDocument(S,n,h,f),e=new Promise(function(i){let p;h?p=new _transport_stream.PDFDataTransportStream({length:n.length,initialData:n.initialData,progressiveDone:n.progressiveDone,contentDispositionFilename:n.contentDispositionFilename,disableRange:n.disableRange,disableStream:n.disableStream},h):n.data||(p=createPDFNetworkStream({url:n.url,length:n.length,httpHeaders:n.httpHeaders,withCredentials:n.withCredentials,rangeChunkSize:n.rangeChunkSize,disableRange:n.disableRange,disableStream:n.disableStream})),i(p)});return Promise.all([_,e]).then(function([i,p]){if(o.destroyed)throw new Error("Loading aborted");const s=new _message_handler.MessageHandler(f,i,S.port),g=new WorkerTransport(s,o,p,n);o._transport=g,s.send("Ready",null)})}).catch(o._capability.reject),o}function _fetchDocument(y,o,r,n){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(y,o,r,n){if(y.destroyed)throw new Error("Worker was destroyed");r&&(o.length=r.length,o.initialData=r.initialData,o.progressiveDone=r.progressiveDone,o.contentDispositionFilename=r.contentDispositionFilename);const h=yield y.messageHandler.sendWithPromise("GetDocRequest",{docId:n,apiVersion:"2.14.305",source:{data:o.data,url:o.url,password:o.password,disableAutoFetch:o.disableAutoFetch,rangeChunkSize:o.rangeChunkSize,length:o.length},maxImageSize:o.maxImageSize,disableFontFace:o.disableFontFace,docBaseUrl:o.docBaseUrl,ignoreErrors:o.ignoreErrors,isEvalSupported:o.isEvalSupported,fontExtraProperties:o.fontExtraProperties,enableXfa:o.enableXfa,useSystemFonts:o.useSystemFonts,cMapUrl:o.useWorkerFetch?o.cMapUrl:null,standardFontDataUrl:o.useWorkerFetch?o.standardFontDataUrl:null});if(y.destroyed)throw new Error("Worker was destroyed");return h})).apply(this,arguments)}const M=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+tt(M,de)._++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var o=this;return _asyncToGenerator(function*(){var r;o.destroyed=!0,yield null==(r=o._transport)?void 0:r.destroy(),o._transport=null,o._worker&&(o._worker.destroy(),o._worker=null)})()}};let PDFDocumentLoadingTask=M;de=new WeakMap,ve(PDFDocumentLoadingTask,de,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(o,r,n=!1,h=null){this.length=o,this.initialData=r,this.progressiveDone=n,this.contentDispositionFilename=h,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(o){this._rangeListeners.push(o)}addProgressListener(o){this._progressListeners.push(o)}addProgressiveReadListener(o){this._progressiveReadListeners.push(o)}addProgressiveDoneListener(o){this._progressiveDoneListeners.push(o)}onDataRange(o,r){for(const n of this._rangeListeners)n(o,r)}onDataProgress(o,r){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(o,r)})}onDataProgressiveRead(o){this._readyCapability.promise.then(()=>{for(const r of this._progressiveReadListeners)r(o)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const o of this._progressiveDoneListeners)o()})}transportReady(){this._readyCapability.resolve()}requestDataRange(o,r){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(o,r){var h,n=this;this._pdfInfo=o,this._transport=r,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(h=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),n.stats||{streamTypes:{},fontTypes:{}}}),function(){return h.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(o){return this._transport.getPage(o)}getPageIndex(o){return this._transport.getPageIndex(o)}getDestinations(){return this._transport.getDestinations()}getDestination(o){return this._transport.getDestination(o)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(o=!1){return this._transport.startCleanup(o||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(o,r,n,h,S=!1){this._pageIndex=o,this._pageInfo=r,this._ownerDocument=h,this._transport=n,this._stats=S?new _display_utils.StatTimer:null,this._pdfBug=S,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:o,rotation:r=this.rotate,offsetX:n=0,offsetY:h=0,dontFlip:S=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:o,rotation:r,offsetX:n,offsetY:h,dontFlip:S})}getAnnotations({intent:o="display"}={}){const r=this._transport.getRenderingIntent(o);let n=this._annotationPromises.get(r.cacheKey);return n||(n=this._transport.getAnnotations(this._pageIndex,r.renderingIntent),this._annotationPromises.set(r.cacheKey,n),n=n.then(h=>{for(const S of h)void 0!==S.titleObj&&Object.defineProperty(S,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),S.titleObj.str)}),void 0!==S.contentsObj&&Object.defineProperty(S,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),S.contentsObj.str)});return h})),n}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var o=this;return _asyncToGenerator(function*(){var r;return(null==(r=o._transport._htmlForXfa)?void 0:r.children[o._pageIndex])||null})()}render({canvasContext:o,viewport:r,intent:n="display",annotationMode:h=_util.AnnotationMode.ENABLE,transform:S=null,imageLayer:f=null,canvasFactory:_=null,background:e=null,optionalContentConfigPromise:i=null,annotationCanvasMap:p=null,pageColors:s=null}){var Y,N;void 0!==(null==(Y=arguments[0])?void 0:Y.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&h===_util.AnnotationMode.ENABLE&&(h=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null==(N=arguments[0])?void 0:N.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&h===_util.AnnotationMode.ENABLE&&(h=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const g=this._transport.getRenderingIntent(n,h);this.pendingCleanup=!1,i||(i=this._transport.getOptionalContentConfig());let w=this._intentStates.get(g.cacheKey);w||(w=Object.create(null),this._intentStates.set(g.cacheKey,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const L=_||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),R=!!(g.renderingIntent&_util.RenderingIntentFlag.PRINT);w.displayReadyCapability||(w.displayReadyCapability=(0,_util.createPromiseCapability)(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(g));const I=z=>{w.renderTasks.delete(U),(this.cleanupAfterRender||R)&&(this.pendingCleanup=!0),this._tryCleanup(),z?(U.capability.reject(z),this._abortOperatorList({intentState:w,reason:z instanceof Error?z:new Error(z)})):U.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},U=new InternalRenderTask({callback:I,params:{canvasContext:o,viewport:r,transform:S,imageLayer:f,background:e},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:p,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:L,useRequestAnimationFrame:!R,pdfBug:this._pdfBug,pageColors:s});(w.renderTasks||(w.renderTasks=new Set)).add(U);const H=U.task;return Promise.all([w.displayReadyCapability.promise,i]).then(([z,K])=>{this.pendingCleanup?I():(this._stats&&this._stats.time("Rendering"),U.initializeGraphics({transparency:z,optionalContentConfig:K}),U.operatorListChanged())}).catch(I),H}getOperatorList({intent:o="display",annotationMode:r=_util.AnnotationMode.ENABLE}={}){const h=this._transport.getRenderingIntent(o,r,!0);let f,S=this._intentStates.get(h.cacheKey);return S||(S=Object.create(null),this._intentStates.set(h.cacheKey,S)),S.opListReadCapability||(f=Object.create(null),f.operatorListChanged=function(){S.operatorList.lastChunk&&(S.opListReadCapability.resolve(S.operatorList),S.renderTasks.delete(f))},S.opListReadCapability=(0,_util.createPromiseCapability)(),(S.renderTasks||(S.renderTasks=new Set)).add(f),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(h)),S.opListReadCapability.promise}streamTextContent({disableCombineTextItems:o=!1,includeMarkedContent:r=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==o,includeMarkedContent:!0===r},{highWaterMark:100,size:h=>h.items.length})}getTextContent(o={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>_xfa_text.XfaText.textContent(n));const r=this.streamTextContent(o);return new Promise(function(n,h){const f=r.getReader(),_={items:[],styles:Object.create(null)};!function S(){f.read().then(function({value:e,done:i}){i?n(_):(Object.assign(_.styles,e.styles),_.items.push(...e.items),S())},h)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const o=[];for(const r of this._intentStates.values())if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability)for(const n of r.renderTasks)o.push(n.completed),n.cancel();this.objs.clear();for(const r of this._bitmaps)r.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(o)}cleanup(o=!1){return this.pendingCleanup=!0,this._tryCleanup(o)}_tryCleanup(o=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:r,operatorList:n}of this._intentStates.values())if(r.size>0||!n.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,o&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const r of this._bitmaps)r.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(o,r){const n=this._intentStates.get(r);!n||(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(o))}_renderPageChunk(o,r){for(let n=0,h=o.length;n<h;n++)r.operatorList.fnArray.push(o.fnArray[n]),r.operatorList.argsArray.push(o.argsArray[n]);r.operatorList.lastChunk=o.lastChunk;for(const n of r.renderTasks)n.operatorListChanged();o.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:o,cacheKey:r}){const h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:o,cacheKey:r,annotationStorage:o&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),S=this._intentStates.get(r);S.streamReader=h;const f=()=>{h.read().then(({value:_,done:e})=>{e?S.streamReader=null:this._transport.destroyed||(this._renderPageChunk(_,S),f())},_=>{if(S.streamReader=null,!this._transport.destroyed){if(S.operatorList){S.operatorList.lastChunk=!0;for(const e of S.renderTasks)e.operatorListChanged();this._tryCleanup()}if(S.displayReadyCapability)S.displayReadyCapability.reject(_);else{if(!S.opListReadCapability)throw _;S.opListReadCapability.reject(_)}}})};f()}_abortOperatorList({intentState:o,reason:r,force:n=!1}){if(o.streamReader){if(!n){if(o.renderTasks.size>0)return;if(r instanceof _display_utils.RenderingCancelledException)return void(o.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:o,reason:r,force:!0}),o.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(o.streamReader.cancel(new _util.AbortException(r.message)).catch(()=>{}),o.streamReader=null,!this._transport.destroyed){for(const[h,S]of this._intentStates)if(S===o){this._intentStates.delete(h);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(o,r){const n={data:structuredClone(o,r)};this._deferred.then(()=>{for(const h of this._listeners)h.call(this,n)})}addEventListener(o,r){this._listeners.push(r)}removeEventListener(o,r){const n=this._listeners.indexOf(r);this._listeners.splice(n,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const y=null==(ne=null==document?void 0:document.currentScript)?void 0:ne.src;y&&(PDFWorkerUtil.fallbackWorkerSrc=y.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(y,o){let r;try{if(r=new URL(y),!r.origin||"null"===r.origin)return!1}catch(h){return!1}const n=new URL(o,r);return r.origin===n.origin},PDFWorkerUtil.createCDNWrapper=function(y){return URL.createObjectURL(new Blob([`importScripts("${y}");`]))};const _PDFWorker=class{constructor({name:y=null,port:o=null,verbosity:r=(0,_util.getVerbosityLevel)()}={}){if(o&&Ae(_PDFWorker,m).has(o))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=y,this.destroyed=!1,this.verbosity=r,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,o)return Ae(_PDFWorker,m).set(o,this),void this._initializeFromPort(o);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(y){this._port=y,this._messageHandler=new _message_handler.MessageHandler("main","worker",y),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if("undefined"!=typeof Worker&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let y=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,y)||(y=PDFWorkerUtil.createCDNWrapper(new URL(y,window.location).href));const o=new Worker(y),r=new _message_handler.MessageHandler("main","worker",o),n=()=>{o.removeEventListener("error",h),r.destroy(),o.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},h=()=>{this._webWorker||n()};o.addEventListener("error",h),r.on("test",f=>{o.removeEventListener("error",h),this.destroyed?n():f?(this._messageHandler=r,this._port=o,this._webWorker=o,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),r.destroy(),o.terminate())}),r.on("ready",f=>{if(o.removeEventListener("error",h),this.destroyed)n();else try{S()}catch(_){this._setupFakeWorker()}});const S=()=>{const f=new Uint8Array;r.send("test",f,[f.buffer])};return void S()}catch(o){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(y=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const o=new LoopbackPort;this._port=o;const r="fake"+PDFWorkerUtil.fakeWorkerId++,n=new _message_handler.MessageHandler(r+"_worker",r,o);y.setup(n,o);const h=new _message_handler.MessageHandler(r,r+"_worker",o);this._messageHandler=h,this._readyCapability.resolve(),h.send("configure",{verbosity:this.verbosity})}).catch(y=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${y.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Ae(_PDFWorker,m).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(y){if(!(null==y?void 0:y.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Ae(this,m).has(y.port)?Ae(this,m).get(y.port):new _PDFWorker(y)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var y;try{return(null==(y=globalThis.pdfjsWorker)?void 0:y.WorkerMessageHandler)||null}catch(o){return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;m=new WeakMap,ve(PDFWorker,m,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(o,r,n,h){ve(this,he,null),ve(this,$,new Map),ve(this,q,new Map),ve(this,J,null),this.messageHandler=o,this.loadingTask=r,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:r.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:h.ownerDocument,styleElement:h.styleElement}),this._params=h,h.useWorkerFetch||(this.CMapReaderFactory=new h.CMapReaderFactory({baseUrl:h.cMapUrl,isCompressed:h.cMapPacked}),this.StandardFontDataFactory=new h.StandardFontDataFactory({baseUrl:h.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return Ae(this,he)}getRenderingIntent(o,r=_util.AnnotationMode.ENABLE,n=!1){let h=_util.RenderingIntentFlag.DISPLAY,S="";switch(o){case"any":h=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":h=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${o}`)}switch(r){case _util.AnnotationMode.DISABLE:h+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:h+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:h+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,S=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${r}`)}return n&&(h+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:h,cacheKey:`${h}_${S}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const o=[];for(const n of Ae(this,$).values())o.push(n._destroy());Ae(this,$).clear(),Ae(this,q).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const r=this.messageHandler.sendWithPromise("Terminate",null);return o.push(r),Promise.all(o).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Te(this,J,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:o,loadingTask:r}=this;o.on("GetReader",(n,h)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=S=>{this._lastProgress={loaded:S.loaded,total:S.total}},h.onPull=()=>{this._fullReader.read().then(function({value:S,done:f}){f?h.close():((0,_util.assert)((0,_util.isArrayBuffer)(S),"GetReader - expected an ArrayBuffer."),h.enqueue(new Uint8Array(S),1,[S]))}).catch(S=>{h.error(S)})},h.onCancel=S=>{this._fullReader.cancel(S),h.ready.catch(f=>{if(!this.destroyed)throw f})}}),o.on("ReaderHeadersReady",n=>{const h=(0,_util.createPromiseCapability)(),S=this._fullReader;return S.headersReady.then(()=>{var f;(!S.isStreamingSupported||!S.isRangeSupported)&&(this._lastProgress&&(null==(f=r.onProgress)||f.call(r,this._lastProgress)),S.onProgress=_=>{var e;null==(e=r.onProgress)||e.call(r,{loaded:_.loaded,total:_.total})}),h.resolve({isStreamingSupported:S.isStreamingSupported,isRangeSupported:S.isRangeSupported,contentLength:S.contentLength})},h.reject),h.promise}),o.on("GetRangeReader",(n,h)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const S=this._networkStream.getRangeReader(n.begin,n.end);S?(h.onPull=()=>{S.read().then(function({value:f,done:_}){_?h.close():((0,_util.assert)((0,_util.isArrayBuffer)(f),"GetRangeReader - expected an ArrayBuffer."),h.enqueue(new Uint8Array(f),1,[f]))}).catch(f=>{h.error(f)})},h.onCancel=f=>{S.cancel(f),h.ready.catch(_=>{if(!this.destroyed)throw _})}):h.close()}),o.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,r._capability.resolve(new PDFDocumentProxy(n,this))}),o.on("DocException",function(n){let h;switch(n.name){case"PasswordException":h=new _util.PasswordException(n.message,n.code);break;case"InvalidPDFException":h=new _util.InvalidPDFException(n.message);break;case"MissingPDFException":h=new _util.MissingPDFException(n.message);break;case"UnexpectedResponseException":h=new _util.UnexpectedResponseException(n.message,n.status);break;case"UnknownErrorException":h=new _util.UnknownErrorException(n.message,n.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}r._capability.reject(h)}),o.on("PasswordRequest",n=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),r.onPassword){const h=S=>{S instanceof Error?this._passwordCapability.reject(S):this._passwordCapability.resolve({password:S})};try{r.onPassword(h,n.code)}catch(S){this._passwordCapability.reject(S)}}else this._passwordCapability.reject(new _util.PasswordException(n.message,n.code));return this._passwordCapability.promise}),o.on("DataLoaded",n=>{var h;null==(h=r.onProgress)||h.call(r,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),o.on("StartRenderPage",n=>{this.destroyed||Ae(this,$).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),o.on("commonobj",([n,h,S])=>{var f;if(!this.destroyed&&!this.commonObjs.has(n))switch(h){case"Font":const _=this._params;if("error"in S){const p=S.error;(0,_util.warn)(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}let e=null;_.pdfBug&&(null==(f=globalThis.FontInspector)?void 0:f.enabled)&&(e={registerFont(p,s){globalThis.FontInspector.fontAdded(p,s)}});const i=new _font_loader.FontFaceObject(S,{isEvalSupported:_.isEvalSupported,disableFontFace:_.disableFontFace,ignoreErrors:_.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:e});this.fontLoader.bind(i).catch(p=>o.sendWithPromise("FontFallback",{id:n})).finally(()=>{!_.fontExtraProperties&&i.data&&(i.data=null),this.commonObjs.resolve(n,i)});break;case"FontPath":case"Image":this.commonObjs.resolve(n,S);break;default:throw new Error(`Got unknown common object type ${h}`)}}),o.on("obj",([n,h,S,f])=>{var e;if(this.destroyed)return;const _=Ae(this,$).get(h);if(!_.objs.has(n))switch(S){case"Image":_.objs.resolve(n,f);const i=8e6;if(f){let p;if(f.bitmap){const{bitmap:s,width:g,height:w}=f;p=g*w*4,_._bitmaps.add(s)}else p=(null==(e=f.data)?void 0:e.length)||0;p>i&&(_.cleanupAfterRender=!0)}break;case"Pattern":_.objs.resolve(n,f);break;default:throw new Error(`Got unknown object type ${S}`)}}),o.on("DocProgress",n=>{var h;this.destroyed||null==(h=r.onProgress)||h.call(r,{loaded:n.loaded,total:n.total})}),o.on("DocStats",n=>{this.destroyed||Te(this,he,Object.freeze({streamTypes:Object.freeze(n.streamTypes),fontTypes:Object.freeze(n.fontTypes)}))}),o.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),o.on("FetchBuiltInCMap",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(n):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),o.on("FetchStandardFontData",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(n):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:o}){var r,n;this.destroyed||null==(n=(r=this.loadingTask).onUnsupportedFeature)||n.call(r,o)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(o){if(!Number.isInteger(o)||o<=0||o>this._numPages)return Promise.reject(new Error("Invalid page request."));const r=o-1,n=Ae(this,q).get(r);if(n)return n;const h=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(S=>{if(this.destroyed)throw new Error("Transport destroyed");const f=new PDFPageProxy(r,S,this,this._params.ownerDocument,this._params.pdfBug);return Ae(this,$).set(r,f),f});return Ae(this,q).set(r,h),h}getPageIndex(o){return"object"!=typeof o||null===o||!Number.isInteger(o.num)||o.num<0||!Number.isInteger(o.gen)||o.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:o.num,gen:o.gen})}getAnnotations(o,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:o,intent:r})}saveDocument(){var o,r;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!=(r=null==(o=this._fullReader)?void 0:o.filename)?r:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(o){return"string"!=typeof o?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:o})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(o){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:o})}getStructTree(o){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:o})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(o=>new _optional_content_config.OptionalContentConfig(o))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return Ae(this,J)||Te(this,J,this.messageHandler.sendWithPromise("GetMetadata",null).then(o=>{var r,n,h,S;return{info:o[0],metadata:o[1]?new _metadata.Metadata(o[1]):null,contentDispositionFilename:null!=(n=null==(r=this._fullReader)?void 0:r.filename)?n:null,contentLength:null!=(S=null==(h=this._fullReader)?void 0:h.contentLength)?S:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(o=!1){var r=this;return _asyncToGenerator(function*(){if(yield r.messageHandler.sendWithPromise("Cleanup",null),!r.destroyed){for(const n of Ae(r,$).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);r.commonObjs.clear(),o||r.fontLoader.clear(),Te(r,J,null),r._getFieldObjectsPromise=null,r._hasJSActionsPromise=null}})()}get loadingParams(){const o=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:o.disableAutoFetch,enableXfa:o.enableXfa})}}he=new WeakMap,$=new WeakMap,q=new WeakMap,J=new WeakMap;class PDFObjects{constructor(){ve(this,l),ve(this,O,Object.create(null))}get(o,r=null){if(r){const h=ye(this,l,nt).call(this,o);return h.capability.promise.then(()=>r(h.data)),null}const n=Ae(this,O)[o];if(!(null==n?void 0:n.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${o}.`);return n.data}has(o){const r=Ae(this,O)[o];return(null==r?void 0:r.capability.settled)||!1}resolve(o,r=null){const n=ye(this,l,nt).call(this,o);n.data=r,n.capability.resolve()}clear(){Te(this,O,Object.create(null))}}O=new WeakMap,l=new WeakSet,nt=function(o){return Ae(this,O)[o]||(Ae(this,O)[o]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(o){this._internalRenderTask=o,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;const A=class{constructor({callback:o,params:r,objs:n,commonObjs:h,annotationCanvasMap:S,operatorList:f,pageIndex:_,canvasFactory:e,useRequestAnimationFrame:i=!1,pdfBug:p=!1,pageColors:s=null}){this.callback=o,this.params=r,this.objs=n,this.commonObjs=h,this.annotationCanvasMap=S,this.operatorListIdx=null,this.operatorList=f,this._pageIndex=_,this.canvasFactory=e,this._pdfBug=p,this.pageColors=s,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===i&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:o=!1,optionalContentConfig:r}){var e;if(this.cancelled)return;if(this._canvas){if(Ae(A,b).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ae(A,b).add(this._canvas)}this._pdfBug&&(null==(e=globalThis.StepperManager)?void 0:e.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:h,transform:S,imageLayer:f,background:_}=this.params;this.gfx=new _canvas.CanvasGraphics(n,this.commonObjs,this.objs,this.canvasFactory,f,r,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:S,viewport:h,transparency:o,background:_}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(o=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&Ae(A,b).delete(this._canvas),this.callback(o||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var o=this;return _asyncToGenerator(function*(){o.cancelled||(o.operatorListIdx=o.gfx.executeOperatorList(o.operatorList,o.operatorListIdx,o._continueBound,o.stepper),o.operatorListIdx===o.operatorList.argsArray.length&&(o.running=!1,o.operatorList.lastChunk&&(o.gfx.endDrawing(),o._canvas&&Ae(A,b).delete(o._canvas),o.callback())))})()}};let InternalRenderTask=A;b=new WeakMap,ve(InternalRenderTask,b,new WeakSet);const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(de,M,ne)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.StatTimer=M.RenderingCancelledException=M.PixelsPerInch=M.PageViewport=M.PDFDateString=M.DOMStandardFontDataFactory=M.DOMSVGFactory=M.DOMCanvasFactory=M.DOMCMapReaderFactory=void 0,M.deprecated=function(L){console.log("Deprecated API usage: "+L)},M.getFilenameFromUrl=function(L){const R=L.indexOf("#"),I=L.indexOf("?"),U=Math.min(R>0?R:L.length,I>0?I:L.length);return L.substring(L.lastIndexOf("/",U)+1,U)},M.getPdfFilenameFromUrl=function(L,R="document.pdf"){if("string"!=typeof L)return R;if(r(L))return(0,he.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),R;const U=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,H=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(L);let Y=U.exec(H[1])||U.exec(H[2])||U.exec(H[3]);if(Y&&(Y=Y[0],Y.includes("%")))try{Y=U.exec(decodeURIComponent(Y))[0]}catch(N){}return Y||R},M.getXfaPageViewport=function(L,{scale:R=1,rotation:I=0}){const{width:U,height:H}=L.attributes.style,Y=[0,0,parseInt(U),parseInt(H)];return new y({viewBox:Y,scale:R,rotation:I})},M.isDataScheme=r,M.isPdfFile=function(L){return"string"==typeof L&&/\.pdf$/i.test(L)},M.isValidFetchUrl=_,M.loadScript=function(L,R=!1){return new Promise((I,U)=>{const H=document.createElement("script");H.src=L,H.onload=function(Y){R&&H.remove(),I(Y)},H.onerror=function(){U(new Error(`Cannot load script at: ${H.src}`))},(document.head||document.documentElement).appendChild(H)})};var m=ne(6),he=ne(1);const w=class{};let p,q=w;function O(L){return l.apply(this,arguments)}function l(){return(l=_asyncToGenerator(function*(L,R=!1){if(_(L,document.baseURI)){const I=yield fetch(L);if(!I.ok)throw new Error(I.statusText);return R?new Uint8Array(yield I.arrayBuffer()):(0,he.stringToBytes)(yield I.text())}return new Promise((I,U)=>{const H=new XMLHttpRequest;H.open("GET",L,!0),R&&(H.responseType="arraybuffer"),H.onreadystatechange=()=>{if(H.readyState===XMLHttpRequest.DONE){if(200===H.status||0===H.status){let Y;if(R&&H.response?Y=new Uint8Array(H.response):!R&&H.responseText&&(Y=(0,he.stringToBytes)(H.responseText)),Y)return void I(Y)}U(new Error(H.statusText))}},H.send(null)})})).apply(this,arguments)}We(q,"CSS",96),We(q,"PDF",72),We(q,"PDF_TO_CSS_UNITS",w.CSS/w.PDF),M.PixelsPerInch=q,M.DOMCanvasFactory=class extends m.BaseCanvasFactory{constructor({ownerDocument:R=globalThis.document}={}){super(),this._document=R}_createCanvas(R,I){const U=this._document.createElement("canvas");return U.width=R,U.height=I,U}},M.DOMCMapReaderFactory=class extends m.BaseCMapReaderFactory{_fetchData(R,I){return O(R,this.isCompressed).then(U=>({cMapData:U,compressionType:I}))}},M.DOMStandardFontDataFactory=class extends m.BaseStandardFontDataFactory{_fetchData(R){return O(R,!0)}},M.DOMSVGFactory=class extends m.BaseSVGFactory{_createSVG(R){return document.createElementNS("http://www.w3.org/2000/svg",R)}};class y{constructor({viewBox:R,scale:I,rotation:U,offsetX:H=0,offsetY:Y=0,dontFlip:N=!1}){this.viewBox=R,this.scale=I,this.rotation=U,this.offsetX=H,this.offsetY=Y;const z=(R[2]+R[0])/2,K=(R[3]+R[1])/2;let te,ae,T,a,u,t,c,d;switch((U%=360)<0&&(U+=360),U){case 180:te=-1,ae=0,T=0,a=1;break;case 90:te=0,ae=1,T=1,a=0;break;case 270:te=0,ae=-1,T=-1,a=0;break;case 0:te=1,ae=0,T=0,a=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}N&&(T=-T,a=-a),0===te?(u=Math.abs(K-R[1])*I+H,t=Math.abs(z-R[0])*I+Y,c=Math.abs(R[3]-R[1])*I,d=Math.abs(R[2]-R[0])*I):(u=Math.abs(z-R[0])*I+H,t=Math.abs(K-R[1])*I+Y,c=Math.abs(R[2]-R[0])*I,d=Math.abs(R[3]-R[1])*I),this.transform=[te*I,ae*I,T*I,a*I,u-te*I*z-T*I*K,t-ae*I*z-a*I*K],this.width=c,this.height=d}clone({scale:R=this.scale,rotation:I=this.rotation,offsetX:U=this.offsetX,offsetY:H=this.offsetY,dontFlip:Y=!1}={}){return new y({viewBox:this.viewBox.slice(),scale:R,rotation:I,offsetX:U,offsetY:H,dontFlip:Y})}convertToViewportPoint(R,I){return he.Util.applyTransform([R,I],this.transform)}convertToViewportRectangle(R){const I=he.Util.applyTransform([R[0],R[1]],this.transform),U=he.Util.applyTransform([R[2],R[3]],this.transform);return[I[0],I[1],U[0],U[1]]}convertToPdfPoint(R,I){return he.Util.applyInverseTransform([R,I],this.transform)}}function r(L){const R=L.length;let I=0;for(;I<R&&""===L[I].trim();)I++;return"data:"===L.substring(I,I+5).toLowerCase()}function _(L,R){try{const{protocol:I}=R?new URL(L,R):new URL(L);return"http:"===I||"https:"===I}catch(I){return!1}}M.PageViewport=y,M.RenderingCancelledException=class extends he.BaseException{constructor(R,I){super(R,"RenderingCancelledException"),this.type=I}},M.StatTimer=class{constructor(){this.started=Object.create(null),this.times=[]}time(R){R in this.started&&(0,he.warn)(`Timer is already running for ${R}`),this.started[R]=Date.now()}timeEnd(R){R in this.started||(0,he.warn)(`Timer has not been started for ${R}`),this.times.push({name:R,start:this.started[R],end:Date.now()}),delete this.started[R]}toString(){const R=[];let I=0;for(const U of this.times){const H=U.name;H.length>I&&(I=H.length)}for(const U of this.times){const H=U.end-U.start;R.push(`${U.name.padEnd(I)} ${H}ms\n`)}return R.join("")}},M.PDFDateString=class{static toDateObject(R){if(!R||"string"!=typeof R)return null;p||(p=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const I=p.exec(R);if(!I)return null;const U=parseInt(I[1],10);let H=parseInt(I[2],10);H=H>=1&&H<=12?H-1:0;let Y=parseInt(I[3],10);Y=Y>=1&&Y<=31?Y:1;let N=parseInt(I[4],10);N=N>=0&&N<=23?N:0;let z=parseInt(I[5],10);z=z>=0&&z<=59?z:0;let K=parseInt(I[6],10);K=K>=0&&K<=59?K:0;const te=I[7]||"Z";let ae=parseInt(I[8],10);ae=ae>=0&&ae<=23?ae:0;let T=parseInt(I[9],10)||0;return T=T>=0&&T<=59?T:0,"-"===te?(N+=ae,z+=T):"+"===te&&(N-=ae,z-=T),new Date(Date.UTC(U,H,Y,N,z,K))}}},(de,M,ne)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.BaseStandardFontDataFactory=M.BaseSVGFactory=M.BaseCanvasFactory=M.BaseCMapReaderFactory=void 0;var m=ne(1);class he{constructor(){this.constructor===he&&(0,m.unreachable)("Cannot initialize BaseCanvasFactory.")}create(l,x){if(l<=0||x<=0)throw new Error("Invalid canvas size");const b=this._createCanvas(l,x);return{canvas:b,context:b.getContext("2d")}}reset(l,x,b){if(!l.canvas)throw new Error("Canvas is not specified");if(x<=0||b<=0)throw new Error("Invalid canvas size");l.canvas.width=x,l.canvas.height=b}destroy(l){if(!l.canvas)throw new Error("Canvas is not specified");l.canvas.width=0,l.canvas.height=0,l.canvas=null,l.context=null}_createCanvas(l,x){(0,m.unreachable)("Abstract method `_createCanvas` called.")}}M.BaseCanvasFactory=he;class ${constructor({baseUrl:l=null,isCompressed:x=!1}){this.constructor===$&&(0,m.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=l,this.isCompressed=x}fetch({name:l}){var x=this;return _asyncToGenerator(function*(){if(!x.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!l)throw new Error("CMap name must be specified.");const b=x.baseUrl+l+(x.isCompressed?".bcmap":"");return x._fetchData(b,x.isCompressed?m.CMapCompressionType.BINARY:m.CMapCompressionType.NONE).catch(y=>{throw new Error(`Unable to load ${x.isCompressed?"binary ":""}CMap at: ${b}`)})})()}_fetchData(l,x){(0,m.unreachable)("Abstract method `_fetchData` called.")}}M.BaseCMapReaderFactory=$;class q{constructor({baseUrl:l=null}){this.constructor===q&&(0,m.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=l}fetch({filename:l}){var x=this;return _asyncToGenerator(function*(){if(!x.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!l)throw new Error("Font filename must be specified.");const b=`${x.baseUrl}${l}`;return x._fetchData(b).catch(A=>{throw new Error(`Unable to load font data at: ${b}`)})})()}_fetchData(l){(0,m.unreachable)("Abstract method `_fetchData` called.")}}M.BaseStandardFontDataFactory=q;class J{constructor(){this.constructor===J&&(0,m.unreachable)("Cannot initialize BaseSVGFactory.")}create(l,x){if(l<=0||x<=0)throw new Error("Invalid SVG dimensions");const b=this._createSVG("svg:svg");return b.setAttribute("version","1.1"),b.setAttribute("width",`${l}px`),b.setAttribute("height",`${x}px`),b.setAttribute("preserveAspectRatio","none"),b.setAttribute("viewBox",`0 0 ${l} ${x}`),b}createElement(l){if("string"!=typeof l)throw new Error("Invalid SVG element type");return this._createSVG(l)}_createSVG(l){(0,m.unreachable)("Abstract method `_createSVG` called.")}}M.BaseSVGFactory=J},(de,M,ne)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.FontLoader=M.FontFaceObject=void 0;var m=ne(1);class he{constructor({docId:O,onUnsupportedFeature:l,ownerDocument:x=globalThis.document,styleElement:b=null}){this.constructor===he&&(0,m.unreachable)("Cannot initialize BaseFontLoader."),this.docId=O,this._onUnsupportedFeature=l,this._document=x,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(O){this.nativeFontFaces.push(O),this._document.fonts.add(O)}insertRule(O){let l=this.styleElement;l||(l=this.styleElement=this._document.createElement("style"),l.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(l));const x=l.sheet;x.insertRule(O,x.cssRules.length)}clear(){for(const O of this.nativeFontFaces)this._document.fonts.delete(O);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(O){var l=this;return _asyncToGenerator(function*(){if(O.attached||O.missingFile)return;if(O.attached=!0,l.isFontLoadingAPISupported){const b=O.createNativeFontFace();if(b){l.addNativeFontFace(b);try{yield b.loaded}catch(A){throw l._onUnsupportedFeature({featureId:m.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,m.warn)(`Failed to load font '${b.family}': '${A}'.`),O.disableFontFace=!0,A}}return}const x=O.createFontFaceRule();if(x){if(l.insertRule(x),l.isSyncFontLoadingSupported)return;yield new Promise(b=>{const A=l._queueLoadingCallback(b);l._prepareFontLoadEvent([x],[O],A)})}})()}_queueLoadingCallback(O){(0,m.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var l;const O=!!(null==(l=this._document)?void 0:l.fonts);return(0,m.shadow)(this,"isFontLoadingAPISupported",O)}get isSyncFontLoadingSupported(){(0,m.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,m.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(O,l,x){(0,m.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let $;M.FontLoader=$,M.FontLoader=$=class extends he{constructor(O){super(O),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let O=!1;if("undefined"==typeof navigator)O=!0;else{const l=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==l?void 0:l[1])>=14&&(O=!0)}return(0,m.shadow)(this,"isSyncFontLoadingSupported",O)}_queueLoadingCallback(O){const x=this.loadingContext,b={id:"pdfjs-font-loading-"+x.nextRequestId++,done:!1,complete:function(){for((0,m.assert)(!b.done,"completeRequest() cannot be called twice."),b.done=!0;x.requests.length>0&&x.requests[0].done;){const A=x.requests.shift();setTimeout(A.callback,0)}},callback:O};return x.requests.push(b),b}get _loadTestFont(){return(0,m.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(O,l,x){function b(I,U){return I.charCodeAt(U)<<24|I.charCodeAt(U+1)<<16|I.charCodeAt(U+2)<<8|255&I.charCodeAt(U+3)}function A(I,U,H,Y){return I.substring(0,U)+Y+I.substring(U+H)}let y,o;const r=this._document.createElement("canvas");r.width=1,r.height=1;const n=r.getContext("2d");let h=0;const f=`lt${Date.now()}${this.loadTestFontId++}`;let _=this._loadTestFont;_=A(_,976,f.length,f);const p=1482184792;let s=b(_,16);for(y=0,o=f.length-3;y<o;y+=4)s=s-p+b(f,y)|0;y<f.length&&(s=s-p+b(f+"XXX",y)|0),_=A(_,16,4,(0,m.string32)(s));const g=`url(data:font/opentype;base64,${btoa(_)});`;this.insertRule(`@font-face {font-family:"${f}";src:${g}}`);const L=[];for(const I of l)L.push(I.loadedName);L.push(f);const R=this._document.createElement("div");R.style.visibility="hidden",R.style.width=R.style.height="10px",R.style.position="absolute",R.style.top=R.style.left="0px";for(const I of L){const U=this._document.createElement("span");U.textContent="Hi",U.style.fontFamily=I,R.appendChild(U)}this._document.body.appendChild(R),function S(I,U){if(h++,h>30)return(0,m.warn)("Load test font never loaded."),void U();n.font="30px "+I,n.fillText(".",0,20),n.getImageData(0,0,1,1).data[3]>0?U():setTimeout(S.bind(null,I,U))}(f,()=>{R.remove(),x.complete()})}},M.FontFaceObject=class{constructor(O,{isEvalSupported:l=!0,disableFontFace:x=!1,ignoreErrors:b=!1,onUnsupportedFeature:A,fontRegistry:y=null}){this.compiledGlyphs=Object.create(null);for(const o in O)this[o]=O[o];this.isEvalSupported=!1!==l,this.disableFontFace=!0===x,this.ignoreErrors=!0===b,this._onUnsupportedFeature=A,this.fontRegistry=y}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let O;if(this.cssFontInfo){const l={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(l.style=`oblique ${this.cssFontInfo.italicAngle}deg`),O=new FontFace(this.cssFontInfo.fontFamily,this.data,l)}else O=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),O}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const O=(0,m.bytesToString)(this.data),l=`url(data:${this.mimetype};base64,${btoa(O)});`;let x;if(this.cssFontInfo){let b=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(b+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),x=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${b}src:${l}}`}else x=`@font-face {font-family:"${this.loadedName}";src:${l}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,l),x}getPathGenerator(O,l){if(void 0!==this.compiledGlyphs[l])return this.compiledGlyphs[l];let x;try{x=O.get(this.loadedName+"_path_"+l)}catch(b){if(!this.ignoreErrors)throw b;return this._onUnsupportedFeature({featureId:m.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,m.warn)(`getPathGenerator - ignoring character: "${b}".`),this.compiledGlyphs[l]=function(A,y){}}if(this.isEvalSupported&&m.FeatureTest.isEvalSupported){const b=[];for(const A of x){const y=void 0!==A.args?A.args.join(","):"";b.push("c.",A.cmd,"(",y,");\n")}return this.compiledGlyphs[l]=new Function("c","size",b.join(""))}return this.compiledGlyphs[l]=function(b,A){for(const y of x)"scale"===y.cmd&&(y.args=[A,-A]),b[y.cmd].apply(b,y.args)}}}},(de,M,ne)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.AnnotationStorage=void 0;var m=ne(9),he=ne(1);M.AnnotationStorage=class{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(J,O){const l=this._storage.get(J);return void 0===l?O:Object.assign(O,l)}getRawValue(J){return this._storage.get(J)}setValue(J,O){const l=this._storage.get(J);let x=!1;if(void 0!==l)for(const[b,A]of Object.entries(O))l[b]!==A&&(x=!0,l[b]=A);else x=!0,this._storage.set(J,O);x&&this._setModified()}getAll(){return this._storage.size>0?(0,he.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const J=new m.MurmurHash3_64;for(const[O,l]of this._storage)J.update(`${O}:${JSON.stringify(l)}`);return J.hexdigest()}}},(de,M,ne)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.MurmurHash3_64=void 0;var m=ne(1);const he=3285377520,$=4294901760,q=65535;M.MurmurHash3_64=class{constructor(l){this.h1=l?4294967295&l:he,this.h2=l?4294967295&l:he}update(l){let x,b;if("string"==typeof l){x=new Uint8Array(2*l.length),b=0;for(let p=0,s=l.length;p<s;p++){const g=l.charCodeAt(p);g<=255?x[b++]=g:(x[b++]=g>>>8,x[b++]=255&g)}}else{if(!(0,m.isArrayBuffer)(l))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");x=l.slice(),b=x.byteLength}const A=b>>2,y=b-4*A,o=new Uint32Array(x.buffer,0,A);let r=0,n=0,h=this.h1,S=this.h2;const f=3432918353,_=461845907,e=f&q,i=_&q;for(let p=0;p<A;p++)1&p?(r=o[p],r=r*f&$|r*e&q,r=r<<15|r>>>17,r=r*_&$|r*i&q,h^=r,h=h<<13|h>>>19,h=5*h+3864292196):(n=o[p],n=n*f&$|n*e&q,n=n<<15|n>>>17,n=n*_&$|n*i&q,S^=n,S=S<<13|S>>>19,S=5*S+3864292196);switch(r=0,y){case 3:r^=x[4*A+2]<<16;case 2:r^=x[4*A+1]<<8;case 1:r^=x[4*A],r=r*f&$|r*e&q,r=r<<15|r>>>17,r=r*_&$|r*i&q,1&A?h^=r:S^=r}this.h1=h,this.h2=S}hexdigest(){let l=this.h1,x=this.h2;l^=x>>>1,l=3981806797*l&$|36045*l&q,x=4283543511*x&$|(2950163797*(x<<16|l>>>16)&$)>>>16,l^=x>>>1,l=444984403*l&$|60499*l&q,x=3301882366*x&$|(3120437893*(x<<16|l>>>16)&$)>>>16,l^=x>>>1;const b=(l>>>0).toString(16),A=(x>>>0).toString(16);return b.padStart(8,"0")+A.padStart(8,"0")}}},(de,M,ne)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.CanvasGraphics=void 0;var m=ne(1),he=ne(11),$=ne(12),q=ne(3),J=ne(5);const x=4096,r=16;function S(T){if(T._transformStack&&(T._transformStack=[]),!T.mozCurrentTransform){T._originalSave=T.save,T._originalRestore=T.restore,T._originalRotate=T.rotate,T._originalScale=T.scale,T._originalTranslate=T.translate,T._originalTransform=T.transform,T._originalSetTransform=T.setTransform,T._originalResetTransform=T.resetTransform,T._transformMatrix=T._transformMatrix||[1,0,0,1,0,0],T._transformStack=[];try{const a=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(T),"lineWidth");T._setLineWidth=a.set,T._getLineWidth=a.get,Object.defineProperty(T,"lineWidth",{set:function(t){this._setLineWidth(1.000001*t)},get:function(){return this._getLineWidth()}})}catch(a){}Object.defineProperty(T,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(T,"mozCurrentTransformInverse",{get:function(){const[u,t,c,d,P,v]=this._transformMatrix,E=u*d-t*c,B=t*c-u*d;return[d/E,t/B,c/B,u/E,(d*P-c*v)/B,(t*P-u*v)/E]}}),T.save=function(){const u=this._transformMatrix;this._transformStack.push(u),this._transformMatrix=u.slice(0,6),this._originalSave()},T.restore=function(){0===this._transformStack.length&&(0,m.warn)("Tried to restore a ctx when the stack was already empty.");const u=this._transformStack.pop();u&&(this._transformMatrix=u,this._originalRestore())},T.translate=function(u,t){const c=this._transformMatrix;c[4]=c[0]*u+c[2]*t+c[4],c[5]=c[1]*u+c[3]*t+c[5],this._originalTranslate(u,t)},T.scale=function(u,t){const c=this._transformMatrix;c[0]*=u,c[1]*=u,c[2]*=t,c[3]*=t,this._originalScale(u,t)},T.transform=function(u,t,c,d,P,v){const E=this._transformMatrix;this._transformMatrix=[E[0]*u+E[2]*t,E[1]*u+E[3]*t,E[0]*c+E[2]*d,E[1]*c+E[3]*d,E[0]*P+E[2]*v+E[4],E[1]*P+E[3]*v+E[5]],T._originalTransform(u,t,c,d,P,v)},T.setTransform=function(u,t,c,d,P,v){this._transformMatrix=[u,t,c,d,P,v],T._originalSetTransform(u,t,c,d,P,v)},T.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],T._originalResetTransform()},T.rotate=function(u){const t=Math.cos(u),c=Math.sin(u),d=this._transformMatrix;this._transformMatrix=[d[0]*t+d[2]*c,d[1]*t+d[3]*c,d[0]*-c+d[2]*t,d[1]*-c+d[3]*t,d[4],d[5]],this._originalRotate(u)}}}class f{constructor(a){this.canvasFactory=a,this.cache=Object.create(null)}getCanvas(a,u,t,c){let d;return void 0!==this.cache[a]?(d=this.cache[a],this.canvasFactory.reset(d,u,t),d.context.setTransform(1,0,0,1,0,0)):(d=this.canvasFactory.create(u,t),this.cache[a]=d),c&&S(d.context),d}delete(a){delete this.cache[a]}clear(){for(const a in this.cache)this.canvasFactory.destroy(this.cache[a]),delete this.cache[a]}}function _(T,a,u,t,c,d,P,v,E,B){const[j,V,W,X,Q,oe]=T.mozCurrentTransform;if(0===V&&0===W){const ie=Math.round(P*j+Q),D=Math.round(v*X+oe),ue=Math.abs(Math.round((P+E)*j+Q)-ie)||1,fe=Math.abs(Math.round((v+B)*X+oe)-D)||1;return T.setTransform(Math.sign(j),0,0,Math.sign(X),ie,D),T.drawImage(a,u,t,c,d,0,0,ue,fe),T.setTransform(j,V,W,X,Q,oe),[ue,fe]}if(0===j&&0===X){const ie=Math.round(v*W+Q),D=Math.round(P*V+oe),ue=Math.abs(Math.round((v+B)*W+Q)-ie)||1,fe=Math.abs(Math.round((P+E)*V+oe)-D)||1;return T.setTransform(0,Math.sign(V),Math.sign(W),0,ie,D),T.drawImage(a,u,t,c,d,0,0,fe,ue),T.setTransform(j,V,W,X,Q,oe),[fe,ue]}return T.drawImage(a,u,t,c,d,P,v,E,B),[Math.hypot(j,V)*E,Math.hypot(W,X)*B]}class i{constructor(a,u){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=m.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=m.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=m.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,a,u])}clone(){const a=Object.create(this);return a.clipBox=this.clipBox.slice(),a}setCurrentPoint(a,u){this.x=a,this.y=u}updatePathMinMax(a,u,t){[u,t]=m.Util.applyTransform([u,t],a),this.minX=Math.min(this.minX,u),this.minY=Math.min(this.minY,t),this.maxX=Math.max(this.maxX,u),this.maxY=Math.max(this.maxY,t)}updateRectMinMax(a,u){const t=m.Util.applyTransform(u,a),c=m.Util.applyTransform(u.slice(2),a);this.minX=Math.min(this.minX,t[0],c[0]),this.minY=Math.min(this.minY,t[1],c[1]),this.maxX=Math.max(this.maxX,t[0],c[0]),this.maxY=Math.max(this.maxY,t[1],c[1])}updateScalingPathMinMax(a,u){m.Util.scaleMinMax(a,u),this.minX=Math.min(this.minX,u[0]),this.maxX=Math.max(this.maxX,u[1]),this.minY=Math.min(this.minY,u[2]),this.maxY=Math.max(this.maxY,u[3])}updateCurvePathMinMax(a,u,t,c,d,P,v,E,B,j){const V=m.Util.bezierBoundingBox(u,t,c,d,P,v,E,B);if(j)return j[0]=Math.min(j[0],V[0],V[2]),j[1]=Math.max(j[1],V[0],V[2]),j[2]=Math.min(j[2],V[1],V[3]),void(j[3]=Math.max(j[3],V[1],V[3]));this.updateRectMinMax(a,V)}getPathBoundingBox(a=he.PathType.FILL,u=null){const t=[this.minX,this.minY,this.maxX,this.maxY];if(a===he.PathType.STROKE){u||(0,m.unreachable)("Stroke bounding box must include transform.");const c=m.Util.singularValueDecompose2dScale(u),d=c[0]*this.lineWidth/2,P=c[1]*this.lineWidth/2;t[0]-=d,t[1]-=P,t[2]+=d,t[3]+=P}return t}updateClipFromPath(){const a=m.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(a||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(a){this.clipBox=a,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(a=he.PathType.FILL,u=null){return m.Util.intersect(this.clipBox,this.getPathBoundingBox(a,u))}}function p(T,a,u=null){if("undefined"!=typeof ImageData&&a instanceof ImageData)return void T.putImageData(a,0,0);const t=a.height,c=a.width,d=t%r,P=(t-d)/r,v=0===d?P:P+1,E=T.createImageData(c,r);let j,B=0;const V=a.data,W=E.data;let X,Q,oe,_e,Z,re,ie,C;if(u)switch(u.length){case 1:Z=u[0],re=u[0],ie=u[0],C=u[0];break;case 4:Z=u[0],re=u[1],ie=u[2],C=u[3]}if(a.kind===m.ImageKind.GRAYSCALE_1BPP){const D=V.byteLength,G=new Uint32Array(W.buffer,0,W.byteLength>>2),ue=G.length,le=c+7>>3;let fe=4294967295,me=m.FeatureTest.isLittleEndian?4278190080:255;for(C&&255===C[0]&&0===C[255]&&([fe,me]=[me,fe]),X=0;X<v;X++){for(oe=X<P?r:d,j=0,Q=0;Q<oe;Q++){const be=D-B;let Se=0;const Ce=be>le?c:8*be-7,Ee=-8&Ce;let ee=0,k=0;for(;Se<Ee;Se+=8)k=V[B++],G[j++]=128&k?fe:me,G[j++]=64&k?fe:me,G[j++]=32&k?fe:me,G[j++]=16&k?fe:me,G[j++]=8&k?fe:me,G[j++]=4&k?fe:me,G[j++]=2&k?fe:me,G[j++]=1&k?fe:me;for(;Se<Ce;Se++)0===ee&&(k=V[B++],ee=128),G[j++]=k&ee?fe:me,ee>>=1}for(;j<ue;)G[j++]=0;T.putImageData(E,0,X*r)}}else if(a.kind===m.ImageKind.RGBA_32BPP){const D=!!(Z||re||ie);for(Q=0,_e=c*r*4,X=0;X<P;X++){if(W.set(V.subarray(B,B+_e)),B+=_e,D)for(let G=0;G<_e;G+=4)Z&&(W[G+0]=Z[W[G+0]]),re&&(W[G+1]=re[W[G+1]]),ie&&(W[G+2]=ie[W[G+2]]);T.putImageData(E,0,Q),Q+=r}if(X<v){if(_e=c*d*4,W.set(V.subarray(B,B+_e)),D)for(let G=0;G<_e;G+=4)Z&&(W[G+0]=Z[W[G+0]]),re&&(W[G+1]=re[W[G+1]]),ie&&(W[G+2]=ie[W[G+2]]);T.putImageData(E,0,Q)}}else{if(a.kind!==m.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${a.kind}`);{const D=!!(Z||re||ie);for(oe=r,_e=c*oe,X=0;X<v;X++){for(X>=P&&(oe=d,_e=c*oe),j=0,Q=_e;Q--;)W[j++]=V[B++],W[j++]=V[B++],W[j++]=V[B++],W[j++]=255;if(D)for(let G=0;G<j;G+=4)Z&&(W[G+0]=Z[W[G+0]]),re&&(W[G+1]=re[W[G+1]]),ie&&(W[G+2]=ie[W[G+2]]);T.putImageData(E,0,X*r)}}}}function s(T,a){if(a.bitmap)return void T.drawImage(a.bitmap,0,0);const u=a.height,t=a.width,c=u%r,d=(u-c)/r,P=0===c?d:d+1,v=T.createImageData(t,r);let E=0;const B=a.data,j=v.data;for(let V=0;V<P;V++){const W=V<d?r:c;({srcPos:E}=(0,$.applyMaskImageData)({src:B,srcPos:E,dest:j,width:t,height:W})),T.putImageData(v,0,V*r)}}function g(T,a){const u=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let t=0,c=u.length;t<c;t++){const d=u[t];void 0!==T[d]&&(a[d]=T[d])}void 0!==T.setLineDash&&(a.setLineDash(T.getLineDash()),a.lineDashOffset=T.lineDashOffset)}function w(T,a){T.strokeStyle=T.fillStyle=a||"#000000",T.fillRule="nonzero",T.globalAlpha=1,T.lineWidth=1,T.lineCap="butt",T.lineJoin="miter",T.miterLimit=10,T.globalCompositeOperation="source-over",T.font="10px sans-serif",void 0!==T.setLineDash&&(T.setLineDash([]),T.lineDashOffset=0)}function L(T,a,u,t){const c=T.length;for(let d=3;d<c;d+=4){const P=T[d];if(0===P)T[d-3]=a,T[d-2]=u,T[d-1]=t;else if(P<255){const v=255-P;T[d-3]=T[d-3]*P+a*v>>8,T[d-2]=T[d-2]*P+u*v>>8,T[d-1]=T[d-1]*P+t*v>>8}}}function R(T,a,u){const t=T.length;for(let d=3;d<t;d+=4)a[d]=a[d]*(u?u[T[d]]:T[d])*.00392156862745098|0}function I(T,a,u){const t=T.length;for(let c=3;c<t;c+=4){const d=77*T[c-3]+152*T[c-2]+28*T[c-1];a[c]=u?a[c]*u[d>>8]>>8:a[c]*d>>16}}function Y(T,a){const u=m.Util.singularValueDecompose2dScale(T);u[0]=Math.fround(u[0]),u[1]=Math.fround(u[1]);const t=Math.fround((globalThis.devicePixelRatio||1)*J.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==a?a:u[0]<=t||u[1]<=t}const N=["butt","round","square"],z=["miter","round","bevel"],K={},te={};class ae{constructor(a,u,t,c,d,P,v,E){this.ctx=a,this.current=new i(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=u,this.objs=t,this.canvasFactory=c,this.imageLayer=d,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=P,this.cachedCanvases=new f(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=v,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(null==E?void 0:E.background)||null,this.foregroundColor=(null==E?void 0:E.foreground)||null,a&&S(a),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(a,u=null){return"string"==typeof a?a.startsWith("g_")?this.commonObjs.get(a):this.objs.get(a):u}beginDrawing({transform:a,viewport:u,transparency:t=!1,background:c=null}){const d=this.ctx.canvas.width,P=this.ctx.canvas.height,v=c||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const E=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const B=this.backgroundColor=this.ctx.fillStyle;let j=!0,V=v;if(this.ctx.fillStyle=v,V=this.ctx.fillStyle,j="string"==typeof V&&/^#[0-9A-Fa-f]{6}$/.test(V),"#000000"===E&&"#ffffff"===B||E===B||!j)this.foregroundColor=this.backgroundColor=null;else{const W=parseInt(V.slice(1),16),Q=(W&&65280)>>8,oe=W&&255,_e=re=>(re/=255)<=.03928?re/12.92:((re+.055)/1.055)**2.4,Z=Math.round(.2126*_e((W&&16711680)>>16)+.7152*_e(Q)+.0722*_e(oe));this.selectColor=(re,ie,C)=>{const D=.2126*_e(re)+.7152*_e(ie)+.0722*_e(C);return Math.round(D)===Z?B:E}}}if(this.ctx.fillStyle=this.backgroundColor||v,this.ctx.fillRect(0,0,d,P),this.ctx.restore(),t){const E=this.cachedCanvases.getCanvas("transparent",d,P,!0);this.compositeCtx=this.ctx,this.transparentCanvas=E.canvas,this.ctx=E.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),w(this.ctx,this.foregroundColor),a&&(this.ctx.transform.apply(this.ctx,a),this.outputScaleX=a[0],this.outputScaleY=a[0]),this.ctx.transform.apply(this.ctx,u.transform),this.viewportScale=u.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(a,u,t,c){const d=a.argsArray,P=a.fnArray;let v=u||0;const E=d.length;if(E===v)return v;const B=E-v>10&&"function"==typeof t,j=B?Date.now()+15:0;let V=0;const W=this.commonObjs,X=this.objs;let Q;for(;;){if(void 0!==c&&v===c.nextBreakPoint)return c.breakIt(v,t),v;if(Q=P[v],Q!==m.OPS.dependency)this[Q].apply(this,d[v]);else for(const oe of d[v]){const _e=oe.startsWith("g_")?W:X;if(!_e.has(oe))return _e.get(oe,t),v}if(v++,v===E)return v;if(B&&++V>10){if(Date.now()>j)return t(),v;V=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const a of this._cachedBitmapsMap.values()){for(const u of a.values())"undefined"!=typeof HTMLCanvasElement&&u instanceof HTMLCanvasElement&&(u.width=u.height=0);a.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(a,u){const t=a.width,c=a.height;let j,V,d=Math.max(Math.hypot(u[0],u[1]),1),P=Math.max(Math.hypot(u[2],u[3]),1),v=t,E=c,B="prescale1";for(;d>2&&v>1||P>2&&E>1;){let W=v,X=E;d>2&&v>1&&(W=Math.ceil(v/2),d/=v/W),P>2&&E>1&&(X=Math.ceil(E/2),P/=E/X),j=this.cachedCanvases.getCanvas(B,W,X,!1),V=j.context,V.clearRect(0,0,W,X),V.drawImage(a,0,0,v,E,0,0,W,X),a=j.canvas,v=W,E=X,B="prescale1"===B?"prescale2":"prescale1"}return{img:a,paintWidth:v,paintHeight:E}}_createMaskCanvas(a){const u=this.ctx,{width:t,height:c}=a,d=this.current.fillColor,P=this.current.patternFill,v=u.mozCurrentTransform;let E,B,j,V;if((a.bitmap||a.data)&&a.count>1){const ue=a.bitmap||a.data.buffer,le=v.slice(0,4);B=JSON.stringify(P?le:[le,d]),E=this._cachedBitmapsMap.get(ue),E||(E=new Map,this._cachedBitmapsMap.set(ue,E));const fe=E.get(B);if(fe&&!P)return{canvas:fe,offsetX:Math.round(Math.min(v[0],v[2])+v[4]),offsetY:Math.round(Math.min(v[1],v[3])+v[5])};j=fe}j||(V=this.cachedCanvases.getCanvas("maskCanvas",t,c,!1),s(V.context,a));let W=m.Util.transform(v,[1/t,0,0,-1/c,0,0]);W=m.Util.transform(W,[1,0,0,1,0,-c]);const X=m.Util.applyTransform([0,0],W),Q=m.Util.applyTransform([t,c],W),oe=m.Util.normalizeRect([X[0],X[1],Q[0],Q[1]]),_e=Math.round(oe[2]-oe[0])||1,Z=Math.round(oe[3]-oe[1])||1,re=this.cachedCanvases.getCanvas("fillCanvas",_e,Z,!0),ie=re.context,C=Math.min(X[0],Q[0]),D=Math.min(X[1],Q[1]);ie.translate(-C,-D),ie.transform.apply(ie,W),j||(j=this._scaleImage(V.canvas,ie.mozCurrentTransformInverse),j=j.img,E&&P&&E.set(B,j)),ie.imageSmoothingEnabled=Y(ie.mozCurrentTransform,a.interpolate),_(ie,j,0,0,j.width,j.height,0,0,t,c),ie.globalCompositeOperation="source-in";const G=m.Util.transform(ie.mozCurrentTransformInverse,[1,0,0,1,-C,-D]);return ie.fillStyle=P?d.getPattern(u,this,G,he.PathType.FILL):d,ie.fillRect(0,0,t,c),E&&!P&&(this.cachedCanvases.delete("fillCanvas"),E.set(B,re.canvas)),{canvas:re.canvas,offsetX:Math.round(C),offsetY:Math.round(D)}}setLineWidth(a){a!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=a,this.ctx.lineWidth=a}setLineCap(a){this.ctx.lineCap=N[a]}setLineJoin(a){this.ctx.lineJoin=z[a]}setMiterLimit(a){this.ctx.miterLimit=a}setDash(a,u){const t=this.ctx;void 0!==t.setLineDash&&(t.setLineDash(a),t.lineDashOffset=u)}setRenderingIntent(a){}setFlatness(a){}setGState(a){for(let u=0,t=a.length;u<t;u++){const c=a[u],P=c[1];switch(c[0]){case"LW":this.setLineWidth(P);break;case"LC":this.setLineCap(P);break;case"LJ":this.setLineJoin(P);break;case"ML":this.setMiterLimit(P);break;case"D":this.setDash(P[0],P[1]);break;case"RI":this.setRenderingIntent(P);break;case"FL":this.setFlatness(P);break;case"Font":this.setFont(P[0],P[1]);break;case"CA":this.current.strokeAlpha=c[1];break;case"ca":this.current.fillAlpha=c[1],this.ctx.globalAlpha=c[1];break;case"BM":this.ctx.globalCompositeOperation=P;break;case"SMask":this.current.activeSMask=P?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=P}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const a=this.inSMaskMode;this.current.activeSMask&&!a?this.beginSMaskMode():!this.current.activeSMask&&a&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const c=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=c.context;const d=this.ctx;d.setTransform.apply(d,this.suspendedCtx.mozCurrentTransform),g(this.suspendedCtx,d),function(T,a){if(T._removeMirroring)throw new Error("Context is already forwarding operations.");T.__originalSave=T.save,T.__originalRestore=T.restore,T.__originalRotate=T.rotate,T.__originalScale=T.scale,T.__originalTranslate=T.translate,T.__originalTransform=T.transform,T.__originalSetTransform=T.setTransform,T.__originalResetTransform=T.resetTransform,T.__originalClip=T.clip,T.__originalMoveTo=T.moveTo,T.__originalLineTo=T.lineTo,T.__originalBezierCurveTo=T.bezierCurveTo,T.__originalRect=T.rect,T.__originalClosePath=T.closePath,T.__originalBeginPath=T.beginPath,T._removeMirroring=()=>{T.save=T.__originalSave,T.restore=T.__originalRestore,T.rotate=T.__originalRotate,T.scale=T.__originalScale,T.translate=T.__originalTranslate,T.transform=T.__originalTransform,T.setTransform=T.__originalSetTransform,T.resetTransform=T.__originalResetTransform,T.clip=T.__originalClip,T.moveTo=T.__originalMoveTo,T.lineTo=T.__originalLineTo,T.bezierCurveTo=T.__originalBezierCurveTo,T.rect=T.__originalRect,T.closePath=T.__originalClosePath,T.beginPath=T.__originalBeginPath,delete T._removeMirroring},T.save=function(){a.save(),this.__originalSave()},T.restore=function(){a.restore(),this.__originalRestore()},T.translate=function(t,c){a.translate(t,c),this.__originalTranslate(t,c)},T.scale=function(t,c){a.scale(t,c),this.__originalScale(t,c)},T.transform=function(t,c,d,P,v,E){a.transform(t,c,d,P,v,E),this.__originalTransform(t,c,d,P,v,E)},T.setTransform=function(t,c,d,P,v,E){a.setTransform(t,c,d,P,v,E),this.__originalSetTransform(t,c,d,P,v,E)},T.resetTransform=function(){a.resetTransform(),this.__originalResetTransform()},T.rotate=function(t){a.rotate(t),this.__originalRotate(t)},T.clip=function(t){a.clip(t),this.__originalClip(t)},T.moveTo=function(u,t){a.moveTo(u,t),this.__originalMoveTo(u,t)},T.lineTo=function(u,t){a.lineTo(u,t),this.__originalLineTo(u,t)},T.bezierCurveTo=function(u,t,c,d,P,v){a.bezierCurveTo(u,t,c,d,P,v),this.__originalBezierCurveTo(u,t,c,d,P,v)},T.rect=function(u,t,c,d){a.rect(u,t,c,d),this.__originalRect(u,t,c,d)},T.closePath=function(){a.closePath(),this.__originalClosePath()},T.beginPath=function(){a.beginPath(),this.__originalBeginPath()}}(d,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),g(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(a){this.current.activeSMask&&(a?(a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.ceil(a[2]),a[3]=Math.ceil(a[3])):a=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function(T,a,u,t){const c=t[0],d=t[1],P=t[2]-c,v=t[3]-d;0===P||0===v||(function(T,a,u,t,c,d,P,v,E,B,j){const V=!!d,W=V?d[0]:0,X=V?d[1]:0,Q=V?d[2]:0;let oe;oe="Luminosity"===c?I:R;const Z=Math.min(t,Math.ceil(1048576/u));for(let re=0;re<t;re+=Z){const ie=Math.min(Z,t-re),C=T.getImageData(v-B,re+(E-j),u,ie),D=a.getImageData(v,re+E,u,ie);V&&L(C.data,W,X,Q),oe(C.data,D.data,P),a.putImageData(D,v,re+E)}}(a.context,u,P,v,a.subtype,a.backdrop,a.transferMap,c,d,a.offsetX,a.offsetY),T.save(),T.globalAlpha=1,T.globalCompositeOperation="source-over",T.setTransform(1,0,0,1,0,0),T.drawImage(u.canvas,0,0),T.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,a),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(g(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const a=this.current;this.stateStack.push(a),this.current=a.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),g(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(a,u,t,c,d,P){this.ctx.transform(a,u,t,c,d,P),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(a,u,t){const c=this.ctx,d=this.current;let E,B,P=d.x,v=d.y;const j=c.mozCurrentTransform,V=0===j[0]&&0===j[3]||0===j[1]&&0===j[2],W=V?t.slice(0):null;for(let X=0,Q=0,oe=a.length;X<oe;X++)switch(0|a[X]){case m.OPS.rectangle:P=u[Q++],v=u[Q++];const _e=u[Q++],Z=u[Q++],re=P+_e,ie=v+Z;c.moveTo(P,v),0===_e||0===Z?c.lineTo(re,ie):(c.lineTo(re,v),c.lineTo(re,ie),c.lineTo(P,ie)),V||d.updateRectMinMax(j,[P,v,re,ie]),c.closePath();break;case m.OPS.moveTo:P=u[Q++],v=u[Q++],c.moveTo(P,v),V||d.updatePathMinMax(j,P,v);break;case m.OPS.lineTo:P=u[Q++],v=u[Q++],c.lineTo(P,v),V||d.updatePathMinMax(j,P,v);break;case m.OPS.curveTo:E=P,B=v,P=u[Q+4],v=u[Q+5],c.bezierCurveTo(u[Q],u[Q+1],u[Q+2],u[Q+3],P,v),d.updateCurvePathMinMax(j,E,B,u[Q],u[Q+1],u[Q+2],u[Q+3],P,v,W),Q+=6;break;case m.OPS.curveTo2:E=P,B=v,c.bezierCurveTo(P,v,u[Q],u[Q+1],u[Q+2],u[Q+3]),d.updateCurvePathMinMax(j,E,B,P,v,u[Q],u[Q+1],u[Q+2],u[Q+3],W),P=u[Q+2],v=u[Q+3],Q+=4;break;case m.OPS.curveTo3:E=P,B=v,P=u[Q+2],v=u[Q+3],c.bezierCurveTo(u[Q],u[Q+1],P,v,P,v),d.updateCurvePathMinMax(j,E,B,u[Q],u[Q+1],P,v,P,v,W),Q+=4;break;case m.OPS.closePath:c.closePath()}V&&d.updateScalingPathMinMax(j,W),d.setCurrentPoint(P,v)}closePath(){this.ctx.closePath()}stroke(a){a=void 0===a||a;const u=this.ctx,t=this.current.strokeColor;u.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof t&&(null==t?void 0:t.getPattern)?(u.save(),u.strokeStyle=t.getPattern(u,this,u.mozCurrentTransformInverse,he.PathType.STROKE),this.rescaleAndStroke(!1),u.restore()):this.rescaleAndStroke(!0)),a&&this.consumePath(this.current.getClippedPathBoundingBox()),u.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(a){a=void 0===a||a;const u=this.ctx,t=this.current.fillColor;let d=!1;this.current.patternFill&&(u.save(),u.fillStyle=t.getPattern(u,this,u.mozCurrentTransformInverse,he.PathType.FILL),d=!0);const P=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==P&&(this.pendingEOFill?(u.fill("evenodd"),this.pendingEOFill=!1):u.fill()),d&&u.restore(),a&&this.consumePath(P)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=K}eoClip(){this.pendingClip=te}beginText(){this.current.textMatrix=m.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const a=this.pendingTextPaths,u=this.ctx;if(void 0!==a){u.save(),u.beginPath();for(let t=0;t<a.length;t++){const c=a[t];u.setTransform.apply(u,c.transform),u.translate(c.x,c.y),c.addToPath(u,c.fontSize)}u.restore(),u.clip(),u.beginPath(),delete this.pendingTextPaths}else u.beginPath()}setCharSpacing(a){this.current.charSpacing=a}setWordSpacing(a){this.current.wordSpacing=a}setHScale(a){this.current.textHScale=a/100}setLeading(a){this.current.leading=-a}setFont(a,u){const t=this.commonObjs.get(a),c=this.current;if(!t)throw new Error(`Can't find font for ${a}`);if(c.fontMatrix=t.fontMatrix||m.FONT_IDENTITY_MATRIX,(0===c.fontMatrix[0]||0===c.fontMatrix[3])&&(0,m.warn)("Invalid font matrix for font "+a),u<0?(u=-u,c.fontDirection=-1):c.fontDirection=1,this.current.font=t,this.current.fontSize=u,t.isType3Font)return;let P="normal";t.black?P="900":t.bold&&(P="bold");const v=t.italic?"italic":"normal",E=`"${t.loadedName||"sans-serif"}", ${t.fallbackName}`;let B=u;u<16?B=16:u>100&&(B=100),this.current.fontSizeScale=u/B,this.ctx.font=`${v} ${P} ${B}px ${E}`}setTextRenderingMode(a){this.current.textRenderingMode=a}setTextRise(a){this.current.textRise=a}moveText(a,u){this.current.x=this.current.lineX+=a,this.current.y=this.current.lineY+=u}setLeadingMoveText(a,u){this.setLeading(-u),this.moveText(a,u)}setTextMatrix(a,u,t,c,d,P){this.current.textMatrix=[a,u,t,c,d,P],this.current.textMatrixScale=Math.hypot(a,u),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(a,u,t,c){const d=this.ctx,P=this.current,v=P.font,E=P.textRenderingMode,B=P.fontSize/P.fontSizeScale,j=E&m.TextRenderingMode.FILL_STROKE_MASK,V=!!(E&m.TextRenderingMode.ADD_TO_PATH_FLAG),W=P.patternFill&&!v.missingFile;let X;(v.disableFontFace||V||W)&&(X=v.getPathGenerator(this.commonObjs,a)),v.disableFontFace||W?(d.save(),d.translate(u,t),d.beginPath(),X(d,B),c&&d.setTransform.apply(d,c),(j===m.TextRenderingMode.FILL||j===m.TextRenderingMode.FILL_STROKE)&&d.fill(),(j===m.TextRenderingMode.STROKE||j===m.TextRenderingMode.FILL_STROKE)&&d.stroke(),d.restore()):((j===m.TextRenderingMode.FILL||j===m.TextRenderingMode.FILL_STROKE)&&d.fillText(a,u,t),(j===m.TextRenderingMode.STROKE||j===m.TextRenderingMode.FILL_STROKE)&&d.strokeText(a,u,t)),V&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:d.mozCurrentTransform,x:u,y:t,fontSize:B,addToPath:X})}get isFontSubpixelAAEnabled(){const{context:a}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);a.scale(1.5,1),a.fillText("I",0,10);const u=a.getImageData(0,0,10,10).data;let t=!1;for(let c=3;c<u.length;c+=4)if(u[c]>0&&u[c]<255){t=!0;break}return(0,m.shadow)(this,"isFontSubpixelAAEnabled",t)}showText(a){const u=this.current,t=u.font;if(t.isType3Font)return this.showType3Text(a);const c=u.fontSize;if(0===c)return;const d=this.ctx,P=u.fontSizeScale,v=u.charSpacing,E=u.wordSpacing,B=u.fontDirection,j=u.textHScale*B,V=a.length,W=t.vertical,X=W?1:-1,Q=t.defaultVMetrics,oe=c*u.fontMatrix[0],_e=u.textRenderingMode===m.TextRenderingMode.FILL&&!t.disableFontFace&&!u.patternFill;let Z;if(d.save(),d.transform.apply(d,u.textMatrix),d.translate(u.x,u.y+u.textRise),d.scale(j,B>0?-1:1),u.patternFill){d.save();const G=u.fillColor.getPattern(d,this,d.mozCurrentTransformInverse,he.PathType.FILL);Z=d.mozCurrentTransform,d.restore(),d.fillStyle=G}let re=u.lineWidth;const ie=u.textMatrixScale;if(0===ie||0===re){const G=u.textRenderingMode&m.TextRenderingMode.FILL_STROKE_MASK;(G===m.TextRenderingMode.STROKE||G===m.TextRenderingMode.FILL_STROKE)&&(re=this.getSinglePixelWidth())}else re/=ie;1!==P&&(d.scale(P,P),re/=P),d.lineWidth=re;let D,C=0;for(D=0;D<V;++D){const G=a[D];if("number"==typeof G){C+=X*G*c/1e3;continue}let ue=!1;const le=(G.isSpace?E:0)+v,fe=G.fontChar,me=G.accent;let be,Se,Ee,Ce=G.width;if(W){const ee=G.vmetric||Q,k=-(G.vmetric?ee[1]:.5*Ce)*oe;Ce=ee?-ee[0]:Ce,be=k/P,Se=(C+ee[2]*oe)/P}else be=C/P,Se=0;if(t.remeasure&&Ce>0){const ee=1e3*d.measureText(fe).width/c*P;if(Ce<ee&&this.isFontSubpixelAAEnabled){const k=Ce/ee;ue=!0,d.save(),d.scale(k,1),be/=k}else Ce!==ee&&(be+=(Ce-ee)/2e3*c/P)}this.contentVisible&&(G.isInFont||t.missingFile)&&(_e&&!me?d.fillText(fe,be,Se):(this.paintChar(fe,be,Se,Z),me&&this.paintChar(me.fontChar,be+c*me.offset.x/P,Se-c*me.offset.y/P,Z))),Ee=W?Ce*oe-le*B:Ce*oe+le*B,C+=Ee,ue&&d.restore()}W?u.y-=C:u.x+=C*j,d.restore(),this.compose()}showType3Text(a){const u=this.ctx,t=this.current,c=t.font,d=t.fontSize,P=t.fontDirection,v=c.vertical?1:-1,E=t.charSpacing,B=t.wordSpacing,j=t.textHScale*P,V=t.fontMatrix||m.FONT_IDENTITY_MATRIX,W=a.length;let Q,oe,_e,Z;if(t.textRenderingMode!==m.TextRenderingMode.INVISIBLE&&0!==d){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,u.save(),u.transform.apply(u,t.textMatrix),u.translate(t.x,t.y),u.scale(j,P),Q=0;Q<W;++Q){if(oe=a[Q],"number"==typeof oe){Z=v*oe*d/1e3,this.ctx.translate(Z,0),t.x+=Z*j;continue}const re=(oe.isSpace?B:0)+E,ie=c.charProcOperatorList[oe.operatorListId];ie?(this.contentVisible&&(this.processingType3=oe,this.save(),u.scale(d,d),u.transform.apply(u,V),this.executeOperatorList(ie),this.restore()),_e=m.Util.applyTransform([oe.width,0],V)[0]*d+re,u.translate(_e,0),t.x+=_e*j):(0,m.warn)(`Type3 character "${oe.operatorListId}" is not available.`)}u.restore(),this.processingType3=null}}setCharWidth(a,u){}setCharWidthAndBounds(a,u,t,c,d,P){this.ctx.rect(t,c,d-t,P-c),this.ctx.clip(),this.endPath()}getColorN_Pattern(a){let u;if("TilingPattern"===a[0]){const t=a[1],c=this.baseTransform||this.ctx.mozCurrentTransform.slice();u=new he.TilingPattern(a,t,this.ctx,{createCanvasGraphics:P=>new ae(P,this.commonObjs,this.objs,this.canvasFactory)},c)}else u=this._getPattern(a[1],a[2]);return u}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(a,u,t){var d;const c=(null==(d=this.selectColor)?void 0:d.call(this,a,u,t))||m.Util.makeHexColor(a,u,t);this.ctx.strokeStyle=c,this.current.strokeColor=c}setFillRGBColor(a,u,t){var d;const c=(null==(d=this.selectColor)?void 0:d.call(this,a,u,t))||m.Util.makeHexColor(a,u,t);this.ctx.fillStyle=c,this.current.fillColor=c,this.current.patternFill=!1}_getPattern(a,u=null){let t;return this.cachedPatterns.has(a)?t=this.cachedPatterns.get(a):(t=(0,he.getShadingPattern)(this.objs.get(a)),this.cachedPatterns.set(a,t)),u&&(t.matrix=u),t}shadingFill(a){if(!this.contentVisible)return;const u=this.ctx;this.save();const t=this._getPattern(a);u.fillStyle=t.getPattern(u,this,u.mozCurrentTransformInverse,he.PathType.SHADING);const c=u.mozCurrentTransformInverse;if(c){const d=u.canvas,P=d.width,v=d.height,E=m.Util.applyTransform([0,0],c),B=m.Util.applyTransform([0,v],c),j=m.Util.applyTransform([P,0],c),V=m.Util.applyTransform([P,v],c),W=Math.min(E[0],B[0],j[0],V[0]),X=Math.min(E[1],B[1],j[1],V[1]),Q=Math.max(E[0],B[0],j[0],V[0]),oe=Math.max(E[1],B[1],j[1],V[1]);this.ctx.fillRect(W,X,Q-W,oe-X)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,m.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,m.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(a,u){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(a)&&6===a.length&&this.transform.apply(this,a),this.baseTransform=this.ctx.mozCurrentTransform,u)&&(this.ctx.rect(u[0],u[1],u[2]-u[0],u[3]-u[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,u),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(a){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const u=this.ctx;a.isolated||(0,m.info)("TODO: Support non-isolated groups."),a.knockout&&(0,m.warn)("Knockout groups not supported.");const t=u.mozCurrentTransform;if(a.matrix&&u.transform.apply(u,a.matrix),!a.bbox)throw new Error("Bounding box is required.");let c=m.Util.getAxialAlignedBoundingBox(a.bbox,u.mozCurrentTransform);c=m.Util.intersect(c,[0,0,u.canvas.width,u.canvas.height])||[0,0,0,0];const P=Math.floor(c[0]),v=Math.floor(c[1]);let E=Math.max(Math.ceil(c[2])-P,1),B=Math.max(Math.ceil(c[3])-v,1),j=1,V=1;E>x&&(j=E/x,E=x),B>x&&(V=B/x,B=x),this.current.startNewPathAndClipBox([0,0,E,B]);let W="groupAt"+this.groupLevel;a.smask&&(W+="_smask_"+this.smaskCounter++%2);const X=this.cachedCanvases.getCanvas(W,E,B,!0),Q=X.context;Q.scale(1/j,1/V),Q.translate(-P,-v),Q.transform.apply(Q,t),a.smask?this.smaskStack.push({canvas:X.canvas,context:Q,offsetX:P,offsetY:v,scaleX:j,scaleY:V,subtype:a.smask.subtype,backdrop:a.smask.backdrop,transferMap:a.smask.transferMap||null,startTransformInverse:null}):(u.setTransform(1,0,0,1,0,0),u.translate(P,v),u.scale(j,V),u.save()),g(u,Q),this.ctx=Q,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(u),this.groupLevel++}endGroup(a){if(!this.contentVisible)return;this.groupLevel--;const u=this.ctx,t=this.groupStack.pop();if(this.ctx=t,this.ctx.imageSmoothingEnabled=!1,a.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const c=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,c);const d=m.Util.getAxialAlignedBoundingBox([0,0,u.canvas.width,u.canvas.height],c);this.ctx.drawImage(u.canvas,0,0),this.ctx.restore(),this.compose(d)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(a,u,t,c,d){if(this.save(),Array.isArray(u)&&4===u.length){const P=u[2]-u[0],v=u[3]-u[1];if(d&&this.annotationCanvasMap){(t=t.slice())[4]-=u[0],t[5]-=u[1],(u=u.slice())[0]=u[1]=0,u[2]=P,u[3]=v;const[E,B]=m.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:j}=this,V=Math.ceil(P*this.outputScaleX*j),W=Math.ceil(v*this.outputScaleY*j);this.annotationCanvas=this.canvasFactory.create(V,W);const{canvas:X,context:Q}=this.annotationCanvas,oe=`var(--zoom-factor) * ${J.PixelsPerInch.PDF_TO_CSS_UNITS}`;X.style.width=`calc(${P}px * ${oe})`,X.style.height=`calc(${v}px * ${oe})`,this.annotationCanvasMap.set(a,X),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Q,this.ctx.setTransform(E,0,0,-B,0,v*B),S(this.ctx),w(this.ctx,this.foregroundColor)}else w(this.ctx,this.foregroundColor),this.ctx.rect(u[0],u[1],P,v),this.ctx.clip(),this.endPath()}this.current=new i(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,t),this.transform.apply(this,c)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(a){if(!this.contentVisible)return;const u=a.count;(a=this.getObject(a.data,a)).count=u;const t=this.ctx,c=this.processingType3;if(c&&(void 0===c.compiled&&(c.compiled=function(T){const{width:a,height:u}=T;if(a>1e3||u>1e3)return null;const c=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),d=a+1;let v,E,B,P=new Uint8Array(d*(u+1));const j=a+7&-8;let V=new Uint8Array(j*u),W=0;for(const ie of T.data){let C=128;for(;C>0;)V[W++]=ie&C?0:255,C>>=1}let X=0;for(W=0,0!==V[W]&&(P[0]=1,++X),E=1;E<a;E++)V[W]!==V[W+1]&&(P[E]=V[W]?2:1,++X),W++;for(0!==V[W]&&(P[E]=2,++X),v=1;v<u;v++){W=v*j,B=v*d,V[W-j]!==V[W]&&(P[B]=V[W]?1:8,++X);let ie=(V[W]?4:0)+(V[W-j]?8:0);for(E=1;E<a;E++)ie=(ie>>2)+(V[W+1]?4:0)+(V[W-j+1]?8:0),c[ie]&&(P[B+E]=c[ie],++X),W++;if(V[W-j]!==V[W]&&(P[B+E]=V[W]?2:4,++X),X>1e3)return null}for(W=j*(u-1),B=v*d,0!==V[W]&&(P[B]=8,++X),E=1;E<a;E++)V[W]!==V[W+1]&&(P[B+E]=V[W]?4:8,++X),W++;if(0!==V[W]&&(P[B+E]=4,++X),X>1e3)return null;const Q=new Int32Array([0,d,-1,0,-d,0,0,0,1]);let oe,_e,Z;for(q.isNodeJS?_e=[]:oe=new Path2D,v=0;X&&v<=u;v++){let ie=v*d;const C=ie+a;for(;ie<C&&!P[ie];)ie++;if(ie===C)continue;oe?oe.moveTo(ie%d,v):Z=[ie%d,v];const D=ie;let G=P[ie];do{const ue=Q[G];do{ie+=ue}while(!P[ie]);const le=P[ie];5!==le&&10!==le?(G=le,P[ie]=0):(G=le&51*G>>4,P[ie]&=G>>2|G<<2),oe?oe.lineTo(ie%d,ie/d|0):Z.push(ie%d,ie/d|0),P[ie]||--X}while(D!==ie);oe||_e.push(Z),--v}return V=null,P=null,function(ie){if(ie.save(),ie.scale(1/a,-1/u),ie.translate(0,-u),oe)ie.fill(oe);else{ie.beginPath();for(const C of _e){ie.moveTo(C[0],C[1]);for(let D=2,G=C.length;D<G;D+=2)ie.lineTo(C[D],C[D+1])}ie.fill()}ie.beginPath(),ie.restore()}}(a)),c.compiled))return void c.compiled(t);const d=this._createMaskCanvas(a),P=d.canvas;t.save(),t.setTransform(1,0,0,1,0,0),t.drawImage(P,d.offsetX,d.offsetY),t.restore(),this.compose()}paintImageMaskXObjectRepeat(a,u,t=0,c=0,d,P){if(!this.contentVisible)return;a=this.getObject(a.data,a);const v=this.ctx;v.save();const E=v.mozCurrentTransform;v.transform(u,t,c,d,0,0);const B=this._createMaskCanvas(a);v.setTransform(1,0,0,1,0,0);for(let j=0,V=P.length;j<V;j+=2){const W=m.Util.transform(E,[u,t,c,d,P[j],P[j+1]]),[X,Q]=m.Util.applyTransform([0,0],W);v.drawImage(B.canvas,X,Q)}v.restore(),this.compose()}paintImageMaskXObjectGroup(a){if(!this.contentVisible)return;const u=this.ctx,t=this.current.fillColor,c=this.current.patternFill;for(let d=0,P=a.length;d<P;d++){const v=a[d],E=v.width,B=v.height,j=this.cachedCanvases.getCanvas("maskCanvas",E,B,!1),V=j.context;V.save(),s(V,v),V.globalCompositeOperation="source-in",V.fillStyle=c?t.getPattern(V,this,u.mozCurrentTransformInverse,he.PathType.FILL):t,V.fillRect(0,0,E,B),V.restore(),u.save(),u.transform.apply(u,v.transform),u.scale(1,-1),_(u,j.canvas,0,0,E,B,0,-1,1,1),u.restore()}this.compose()}paintImageXObject(a){if(!this.contentVisible)return;const u=this.getObject(a);u?this.paintInlineImageXObject(u):(0,m.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(a,u,t,c){if(!this.contentVisible)return;const d=this.getObject(a);if(!d)return void(0,m.warn)("Dependent image isn't ready yet");const P=d.width,v=d.height,E=[];for(let B=0,j=c.length;B<j;B+=2)E.push({transform:[u,0,0,t,c[B],c[B+1]],x:0,y:0,w:P,h:v});this.paintInlineImageXObjectGroup(d,E)}paintInlineImageXObject(a){if(!this.contentVisible)return;const u=a.width,t=a.height,c=this.ctx;let d;if(this.save(),c.scale(1/u,-1/t),"function"==typeof HTMLElement&&a instanceof HTMLElement||!a.data)d=a;else{const B=this.cachedCanvases.getCanvas("inlineImage",u,t,!1);p(B.context,a,this.current.transferMaps),d=B.canvas}const P=this._scaleImage(d,c.mozCurrentTransformInverse);c.imageSmoothingEnabled=Y(c.mozCurrentTransform,a.interpolate);const[v,E]=_(c,P.img,0,0,P.paintWidth,P.paintHeight,0,-t,u,t);if(this.imageLayer){const B=this.getCanvasPosition(0,-t);this.imageLayer.appendImage({imgData:a,left:B[0],top:B[1],width:v,height:E})}this.compose(),this.restore()}paintInlineImageXObjectGroup(a,u){if(!this.contentVisible)return;const t=this.ctx,c=a.width,d=a.height,P=this.cachedCanvases.getCanvas("inlineImage",c,d,!1);p(P.context,a,this.current.transferMaps);for(let E=0,B=u.length;E<B;E++){const j=u[E];if(t.save(),t.transform.apply(t,j.transform),t.scale(1,-1),_(t,P.canvas,j.x,j.y,j.w,j.h,0,-1,1,1),this.imageLayer){const V=this.getCanvasPosition(j.x,j.y);this.imageLayer.appendImage({imgData:a,left:V[0],top:V[1],width:c,height:d})}t.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(a){}markPointProps(a,u){}beginMarkedContent(a){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(a,u){this.markedContentStack.push("OC"===a?{visible:this.optionalContentConfig.isVisible(u)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(a){const u=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(a);const t=this.ctx;this.pendingClip&&(u||(this.pendingClip===te?t.clip("evenodd"):t.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),t.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const a=this.ctx.mozCurrentTransform;if(0===a[1]&&0===a[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(a[0]),Math.abs(a[3]));else{const u=Math.abs(a[0]*a[3]-a[2]*a[1]),t=Math.hypot(a[0],a[2]),c=Math.hypot(a[1],a[3]);this._cachedGetSinglePixelWidth=Math.max(t,c)/u}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:a}=this.current,u=this.ctx.mozCurrentTransform;let t,c;if(0===u[1]&&0===u[2]){const d=Math.abs(u[0]),P=Math.abs(u[3]);if(0===a)t=1/d,c=1/P;else{const v=d*a,E=P*a;t=v<1?1/v:1,c=E<1?1/E:1}}else{const d=Math.abs(u[0]*u[3]-u[2]*u[1]),P=Math.hypot(u[0],u[1]),v=Math.hypot(u[2],u[3]);if(0===a)t=v/d,c=P/d;else{const E=a*d;t=v>E?v/E:1,c=P>E?P/E:1}}this._cachedScaleForStroking=[t,c]}return this._cachedScaleForStroking}rescaleAndStroke(a){const{ctx:u}=this,{lineWidth:t}=this.current,[c,d]=this.getScaleForStroking();if(u.lineWidth=t||1,1===c&&1===d)return void u.stroke();let P,v,E;a&&(P=u.mozCurrentTransform.slice(),v=u.getLineDash().slice(),E=u.lineDashOffset),u.scale(c,d);const B=Math.max(c,d);u.setLineDash(u.getLineDash().map(j=>j/B)),u.lineDashOffset/=B,u.stroke(),a&&(u.setTransform(...P),u.setLineDash(v),u.lineDashOffset=E)}getCanvasPosition(a,u){const t=this.ctx.mozCurrentTransform;return[t[0]*a+t[2]*u+t[4],t[1]*a+t[3]*u+t[5]]}isContentVisible(){for(let a=this.markedContentStack.length-1;a>=0;a--)if(!this.markedContentStack[a].visible)return!1;return!0}}M.CanvasGraphics=ae;for(const T in m.OPS)void 0!==ae.prototype[T]&&(ae.prototype[m.OPS[T]]=ae.prototype[T])},(de,M,ne)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.TilingPattern=M.PathType=void 0,M.getShadingPattern=function(n){switch(n[0]){case"RadialAxial":return new O(n);case"Mesh":return new b(n);case"Dummy":return new A}throw new Error(`Unknown IR type: ${n[0]}`)};var m=ne(1),he=ne(3);const $={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function q(n,h){if(!h||he.isNodeJS)return;const S=h[2]-h[0],f=h[3]-h[1],_=new Path2D;_.rect(h[0],h[1],S,f),n.clip(_)}M.PathType=$;class J{constructor(){this.constructor===J&&(0,m.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,m.unreachable)("Abstract method `getPattern` called.")}}class O extends J{constructor(h){super(),this._type=h[1],this._bbox=h[2],this._colorStops=h[3],this._p0=h[4],this._p1=h[5],this._r0=h[6],this._r1=h[7],this.matrix=null}_createGradient(h){let S;"axial"===this._type?S=h.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(S=h.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const f of this._colorStops)S.addColorStop(f[0],f[1]);return S}getPattern(h,S,f,_){let e;if(_===$.STROKE||_===$.FILL){const i=S.current.getClippedPathBoundingBox(_,h.mozCurrentTransform)||[0,0,0,0],p=Math.ceil(i[2]-i[0])||1,s=Math.ceil(i[3]-i[1])||1,g=S.cachedCanvases.getCanvas("pattern",p,s,!0),w=g.context;w.clearRect(0,0,w.canvas.width,w.canvas.height),w.beginPath(),w.rect(0,0,w.canvas.width,w.canvas.height),w.translate(-i[0],-i[1]),f=m.Util.transform(f,[1,0,0,1,i[0],i[1]]),w.transform.apply(w,S.baseTransform),this.matrix&&w.transform.apply(w,this.matrix),q(w,this._bbox),w.fillStyle=this._createGradient(w),w.fill(),e=h.createPattern(g.canvas,"no-repeat");const L=new DOMMatrix(f);try{e.setTransform(L)}catch(R){(0,m.warn)(`RadialAxialShadingPattern.getPattern: "${null==R?void 0:R.message}".`)}}else q(h,this._bbox),e=this._createGradient(h);return e}}function l(n,h,S,f,_,e,i,p){const s=h.coords,g=h.colors,w=n.data,L=4*n.width;let R;s[S+1]>s[f+1]&&(R=S,S=f,f=R,R=e,e=i,i=R),s[f+1]>s[_+1]&&(R=f,f=_,_=R,R=i,i=p,p=R),s[S+1]>s[f+1]&&(R=S,S=f,f=R,R=e,e=i,i=R);const I=(s[S]+h.offsetX)*h.scaleX,U=(s[S+1]+h.offsetY)*h.scaleY,H=(s[f]+h.offsetX)*h.scaleX,Y=(s[f+1]+h.offsetY)*h.scaleY,N=(s[_]+h.offsetX)*h.scaleX,z=(s[_+1]+h.offsetY)*h.scaleY;if(U>=z)return;const K=g[e],te=g[e+1],ae=g[e+2],T=g[i],a=g[i+1],u=g[i+2],t=g[p],c=g[p+1],d=g[p+2],P=Math.round(U),v=Math.round(z);let E,B,j,V,W,X,Q,oe;for(let _e=P;_e<=v;_e++){if(_e<Y){let D;D=_e<U?0:(U-_e)/(U-Y),E=I-(I-H)*D,B=K-(K-T)*D,j=te-(te-a)*D,V=ae-(ae-u)*D}else{let D;D=_e>z?1:Y===z?0:(Y-_e)/(Y-z),E=H-(H-N)*D,B=T-(T-t)*D,j=a-(a-c)*D,V=u-(u-d)*D}let Z;Z=_e<U?0:_e>z?1:(U-_e)/(U-z),W=I-(I-N)*Z,X=K-(K-t)*Z,Q=te-(te-c)*Z,oe=ae-(ae-d)*Z;const re=Math.round(Math.min(E,W)),ie=Math.round(Math.max(E,W));let C=L*_e+4*re;for(let D=re;D<=ie;D++)Z=(E-D)/(E-W),Z<0?Z=0:Z>1&&(Z=1),w[C++]=B-(B-X)*Z|0,w[C++]=j-(j-Q)*Z|0,w[C++]=V-(V-oe)*Z|0,w[C++]=255}}function x(n,h,S){const f=h.coords,_=h.colors;let e,i;switch(h.type){case"lattice":const p=h.verticesPerRow,s=Math.floor(f.length/p)-1,g=p-1;for(e=0;e<s;e++){let w=e*p;for(let L=0;L<g;L++,w++)l(n,S,f[w],f[w+1],f[w+p],_[w],_[w+1],_[w+p]),l(n,S,f[w+p+1],f[w+1],f[w+p],_[w+p+1],_[w+1],_[w+p])}break;case"triangles":for(e=0,i=f.length;e<i;e+=3)l(n,S,f[e],f[e+1],f[e+2],_[e],_[e+1],_[e+2]);break;default:throw new Error("illegal figure")}}class b extends J{constructor(h){super(),this._coords=h[2],this._colors=h[3],this._figures=h[4],this._bounds=h[5],this._bbox=h[7],this._background=h[8],this.matrix=null}_createMeshCanvas(h,S,f){const p=Math.floor(this._bounds[0]),s=Math.floor(this._bounds[1]),g=Math.ceil(this._bounds[2])-p,w=Math.ceil(this._bounds[3])-s,L=Math.min(Math.ceil(Math.abs(g*h[0]*1.1)),3e3),R=Math.min(Math.ceil(Math.abs(w*h[1]*1.1)),3e3),I=g/L,U=w/R,H={coords:this._coords,colors:this._colors,offsetX:-p,offsetY:-s,scaleX:1/I,scaleY:1/U},z=f.getCanvas("mesh",L+4,R+4,!1),K=z.context,te=K.createImageData(L,R);if(S){const T=te.data;for(let a=0,u=T.length;a<u;a+=4)T[a]=S[0],T[a+1]=S[1],T[a+2]=S[2],T[a+3]=255}for(const T of this._figures)x(te,T,H);return K.putImageData(te,2,2),{canvas:z.canvas,offsetX:p-2*I,offsetY:s-2*U,scaleX:I,scaleY:U}}getPattern(h,S,f,_){let e;if(q(h,this._bbox),_===$.SHADING)e=m.Util.singularValueDecompose2dScale(h.mozCurrentTransform);else if(e=m.Util.singularValueDecompose2dScale(S.baseTransform),this.matrix){const p=m.Util.singularValueDecompose2dScale(this.matrix);e=[e[0]*p[0],e[1]*p[1]]}const i=this._createMeshCanvas(e,_===$.SHADING?null:this._background,S.cachedCanvases);return _!==$.SHADING&&(h.setTransform.apply(h,S.baseTransform),this.matrix&&h.transform.apply(h,this.matrix)),h.translate(i.offsetX,i.offsetY),h.scale(i.scaleX,i.scaleY),h.createPattern(i.canvas,"no-repeat")}}class A extends J{getPattern(){return"hotpink"}}class r{static get MAX_PATTERN_SIZE(){return(0,m.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(h,S,f,_,e){this.operatorList=h[2],this.matrix=h[3]||[1,0,0,1,0,0],this.bbox=h[4],this.xstep=h[5],this.ystep=h[6],this.paintType=h[7],this.tilingType=h[8],this.color=S,this.ctx=f,this.canvasGraphicsFactory=_,this.baseTransform=e}createPatternCanvas(h){const S=this.operatorList,f=this.bbox,_=this.xstep,e=this.ystep,i=this.paintType,s=this.color,g=this.canvasGraphicsFactory;(0,m.info)("TilingType: "+this.tilingType);const w=f[0],L=f[1],R=f[2],I=f[3],U=m.Util.singularValueDecompose2dScale(this.matrix),H=m.Util.singularValueDecompose2dScale(this.baseTransform),Y=[U[0]*H[0],U[1]*H[1]],N=this.getSizeAndScale(_,this.ctx.canvas.width,Y[0]),z=this.getSizeAndScale(e,this.ctx.canvas.height,Y[1]),K=h.cachedCanvases.getCanvas("pattern",N.size,z.size,!0),te=K.context,ae=g.createCanvasGraphics(te);ae.groupLevel=h.groupLevel,this.setFillAndStrokeStyleToContext(ae,i,s);let T=w,a=L,u=R,t=I;return w<0&&(T=0,u+=Math.abs(w)),L<0&&(a=0,t+=Math.abs(L)),te.translate(-N.scale*T,-z.scale*a),ae.transform(N.scale,0,0,z.scale,0,0),te.save(),this.clipBbox(ae,T,a,u,t),ae.baseTransform=ae.ctx.mozCurrentTransform.slice(),ae.executeOperatorList(S),ae.endDrawing(),{canvas:K.canvas,scaleX:N.scale,scaleY:z.scale,offsetX:T,offsetY:a}}getSizeAndScale(h,S,f){h=Math.abs(h);const _=Math.max(r.MAX_PATTERN_SIZE,S);let e=Math.ceil(h*f);return e>=_?e=_:f=e/h,{scale:f,size:e}}clipBbox(h,S,f,_,e){h.ctx.rect(S,f,_-S,e-f),h.current.updateRectMinMax(h.ctx.mozCurrentTransform,[S,f,_,e]),h.clip(),h.endPath()}setFillAndStrokeStyleToContext(h,S,f){const _=h.ctx,e=h.current;switch(S){case 1:const i=this.ctx;_.fillStyle=i.fillStyle,_.strokeStyle=i.strokeStyle,e.fillColor=i.fillStyle,e.strokeColor=i.strokeStyle;break;case 2:const p=m.Util.makeHexColor(f[0],f[1],f[2]);_.fillStyle=p,_.strokeStyle=p,e.fillColor=p,e.strokeColor=p;break;default:throw new m.FormatError(`Unsupported paint type: ${S}`)}}getPattern(h,S,f,_){let e=f;_!==$.SHADING&&(e=m.Util.transform(e,S.baseTransform),this.matrix&&(e=m.Util.transform(e,this.matrix)));const i=this.createPatternCanvas(S);let p=new DOMMatrix(e);p=p.translate(i.offsetX,i.offsetY),p=p.scale(1/i.scaleX,1/i.scaleY);const s=h.createPattern(i.canvas,"repeat");try{s.setTransform(p)}catch(g){(0,m.warn)(`TilingPattern.getPattern: "${null==g?void 0:g.message}".`)}return s}}M.TilingPattern=r},(de,M,ne)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.applyMaskImageData=function({src:$,srcPos:q=0,dest:J,destPos:O=0,width:l,height:x,inverseDecode:b=!1}){const A=m.FeatureTest.isLittleEndian?4278190080:255,[y,o]=b?[0,A]:[A,0],r=l>>3,n=7&l,h=$.length;J=new Uint32Array(J.buffer);for(let S=0;S<x;S++){for(const _=q+r;q<_;q++){const e=q<h?$[q]:255;J[O++]=128&e?o:y,J[O++]=64&e?o:y,J[O++]=32&e?o:y,J[O++]=16&e?o:y,J[O++]=8&e?o:y,J[O++]=4&e?o:y,J[O++]=2&e?o:y,J[O++]=1&e?o:y}if(0===n)continue;const f=q<h?$[q++]:255;for(let _=0;_<n;_++)J[O++]=f&1<<7-_?o:y}return{srcPos:q,destPos:O}};var m=ne(1)},(de,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.GlobalWorkerOptions=void 0;const ne=Object.create(null);M.GlobalWorkerOptions=ne,ne.workerPort=void 0===ne.workerPort?null:ne.workerPort,ne.workerSrc=void 0===ne.workerSrc?"":ne.workerSrc},(de,M,ne)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.MessageHandler=void 0;var m=ne(1);function q(O){switch(O instanceof Error||"object"==typeof O&&null!==O||(0,m.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),O.name){case"AbortException":return new m.AbortException(O.message);case"MissingPDFException":return new m.MissingPDFException(O.message);case"PasswordException":return new m.PasswordException(O.message,O.code);case"UnexpectedResponseException":return new m.UnexpectedResponseException(O.message,O.status);case"UnknownErrorException":return new m.UnknownErrorException(O.message,O.details);default:return new m.UnknownErrorException(O.message,O.toString())}}M.MessageHandler=class{constructor(l,x,b){this.sourceName=l,this.targetName=x,this.comObj=b,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=A=>{const y=A.data;if(y.targetName!==this.sourceName)return;if(y.stream)return void this._processStreamMessage(y);if(y.callback){const r=y.callbackId,n=this.callbackCapabilities[r];if(!n)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],1===y.callback)n.resolve(y.data);else{if(2!==y.callback)throw new Error("Unexpected callback case");n.reject(q(y.reason))}return}const o=this.actionHandler[y.action];if(!o)throw new Error(`Unknown action from worker: ${y.action}`);if(y.callbackId){const r=this.sourceName,n=y.sourceName;new Promise(function(h){h(o(y.data))}).then(function(h){b.postMessage({sourceName:r,targetName:n,callback:1,callbackId:y.callbackId,data:h})},function(h){b.postMessage({sourceName:r,targetName:n,callback:2,callbackId:y.callbackId,reason:q(h)})})}else y.streamId?this._createStreamSink(y):o(y.data)},b.addEventListener("message",this._onComObjOnMessage)}on(l,x){const b=this.actionHandler;if(b[l])throw new Error(`There is already an actionName called "${l}"`);b[l]=x}send(l,x,b){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:l,data:x},b)}sendWithPromise(l,x,b){const A=this.callbackId++,y=(0,m.createPromiseCapability)();this.callbackCapabilities[A]=y;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:l,callbackId:A,data:x},b)}catch(o){y.reject(o)}return y.promise}sendWithStream(l,x,b,A){const y=this.streamId++,o=this.sourceName,r=this.targetName,n=this.comObj;return new ReadableStream({start:h=>{const S=(0,m.createPromiseCapability)();return this.streamControllers[y]={controller:h,startCall:S,pullCall:null,cancelCall:null,isClosed:!1},n.postMessage({sourceName:o,targetName:r,action:l,streamId:y,data:x,desiredSize:h.desiredSize},A),S.promise},pull:h=>{const S=(0,m.createPromiseCapability)();return this.streamControllers[y].pullCall=S,n.postMessage({sourceName:o,targetName:r,stream:6,streamId:y,desiredSize:h.desiredSize}),S.promise},cancel:h=>{(0,m.assert)(h instanceof Error,"cancel must have a valid reason");const S=(0,m.createPromiseCapability)();return this.streamControllers[y].cancelCall=S,this.streamControllers[y].isClosed=!0,n.postMessage({sourceName:o,targetName:r,stream:1,streamId:y,reason:q(h)}),S.promise}},b)}_createStreamSink(l){const x=l.streamId,b=this.sourceName,A=l.sourceName,y=this.comObj,o=this,r=this.actionHandler[l.action],n={enqueue(h,S=1,f){if(this.isCancelled)return;const _=this.desiredSize;this.desiredSize-=S,_>0&&this.desiredSize<=0&&(this.sinkCapability=(0,m.createPromiseCapability)(),this.ready=this.sinkCapability.promise),y.postMessage({sourceName:b,targetName:A,stream:4,streamId:x,chunk:h},f)},close(){this.isCancelled||(this.isCancelled=!0,y.postMessage({sourceName:b,targetName:A,stream:3,streamId:x}),delete o.streamSinks[x])},error(h){(0,m.assert)(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,y.postMessage({sourceName:b,targetName:A,stream:5,streamId:x,reason:q(h)}))},sinkCapability:(0,m.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:l.desiredSize,ready:null};n.sinkCapability.resolve(),n.ready=n.sinkCapability.promise,this.streamSinks[x]=n,new Promise(function(h){h(r(l.data,n))}).then(function(){y.postMessage({sourceName:b,targetName:A,stream:8,streamId:x,success:!0})},function(h){y.postMessage({sourceName:b,targetName:A,stream:8,streamId:x,reason:q(h)})})}_processStreamMessage(l){const x=l.streamId,b=this.sourceName,A=l.sourceName,y=this.comObj,o=this.streamControllers[x],r=this.streamSinks[x];switch(l.stream){case 8:l.success?o.startCall.resolve():o.startCall.reject(q(l.reason));break;case 7:l.success?o.pullCall.resolve():o.pullCall.reject(q(l.reason));break;case 6:if(!r){y.postMessage({sourceName:b,targetName:A,stream:7,streamId:x,success:!0});break}r.desiredSize<=0&&l.desiredSize>0&&r.sinkCapability.resolve(),r.desiredSize=l.desiredSize,new Promise(function(n){n(r.onPull&&r.onPull())}).then(function(){y.postMessage({sourceName:b,targetName:A,stream:7,streamId:x,success:!0})},function(n){y.postMessage({sourceName:b,targetName:A,stream:7,streamId:x,reason:q(n)})});break;case 4:if((0,m.assert)(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(l.chunk);break;case 3:if((0,m.assert)(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this._deleteStreamController(o,x);break;case 5:(0,m.assert)(o,"error should have stream controller"),o.controller.error(q(l.reason)),this._deleteStreamController(o,x);break;case 2:l.success?o.cancelCall.resolve():o.cancelCall.reject(q(l.reason)),this._deleteStreamController(o,x);break;case 1:if(!r)break;new Promise(function(n){n(r.onCancel&&r.onCancel(q(l.reason)))}).then(function(){y.postMessage({sourceName:b,targetName:A,stream:2,streamId:x,success:!0})},function(n){y.postMessage({sourceName:b,targetName:A,stream:2,streamId:x,reason:q(n)})}),r.sinkCapability.reject(q(l.reason)),r.isCancelled=!0,delete this.streamSinks[x];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(l,x){var b=this;return _asyncToGenerator(function*(){yield Promise.allSettled([l.startCall&&l.startCall.promise,l.pullCall&&l.pullCall.promise,l.cancelCall&&l.cancelCall.promise]),delete b.streamControllers[x]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(de,M,ne)=>{var $,q;Object.defineProperty(M,"__esModule",{value:!0}),M.Metadata=void 0;var m=ne(1);$=new WeakMap,q=new WeakMap,M.Metadata=class{constructor({parsedData:O,rawData:l}){ve(this,$,void 0),ve(this,q,void 0),Te(this,$,O),Te(this,q,l)}getRaw(){return Ae(this,q)}get(O){var l;return null!=(l=Ae(this,$).get(O))?l:null}getAll(){return(0,m.objectFromMap)(Ae(this,$))}has(O){return Ae(this,$).has(O)}}},(de,M,ne)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.OptionalContentConfig=void 0;var m=ne(1);class he{constructor(J,O){this.visible=!0,this.name=J,this.intent=O}}M.OptionalContentConfig=class{constructor(J){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==J){this.name=J.name,this.creator=J.creator,this._order=J.order;for(const O of J.groups)this._groups.set(O.id,new he(O.name,O.intent));if("OFF"===J.baseState)for(const O of this._groups)O.visible=!1;for(const O of J.on)this._groups.get(O).visible=!0;for(const O of J.off)this._groups.get(O).visible=!1}}_evaluateVisibilityExpression(J){const O=J.length;if(O<2)return!0;const l=J[0];for(let x=1;x<O;x++){const b=J[x];let A;if(Array.isArray(b))A=this._evaluateVisibilityExpression(b);else{if(!this._groups.has(b))return(0,m.warn)(`Optional content group not found: ${b}`),!0;A=this._groups.get(b).visible}switch(l){case"And":if(!A)return!1;break;case"Or":if(A)return!0;break;case"Not":return!A;default:return!0}}return"And"===l}isVisible(J){if(0===this._groups.size)return!0;if(!J)return(0,m.warn)("Optional content group not defined."),!0;if("OCG"===J.type)return this._groups.has(J.id)?this._groups.get(J.id).visible:((0,m.warn)(`Optional content group not found: ${J.id}`),!0);if("OCMD"===J.type){if(J.expression)return this._evaluateVisibilityExpression(J.expression);if(!J.policy||"AnyOn"===J.policy){for(const O of J.ids){if(!this._groups.has(O))return(0,m.warn)(`Optional content group not found: ${O}`),!0;if(this._groups.get(O).visible)return!0}return!1}if("AllOn"===J.policy){for(const O of J.ids){if(!this._groups.has(O))return(0,m.warn)(`Optional content group not found: ${O}`),!0;if(!this._groups.get(O).visible)return!1}return!0}if("AnyOff"===J.policy){for(const O of J.ids){if(!this._groups.has(O))return(0,m.warn)(`Optional content group not found: ${O}`),!0;if(!this._groups.get(O).visible)return!0}return!1}if("AllOff"===J.policy){for(const O of J.ids){if(!this._groups.has(O))return(0,m.warn)(`Optional content group not found: ${O}`),!0;if(this._groups.get(O).visible)return!1}return!0}return(0,m.warn)(`Unknown optional content policy ${J.policy}.`),!0}return(0,m.warn)(`Unknown group type ${J.type}.`),!0}setVisibility(J,O=!0){this._groups.has(J)?this._groups.get(J).visible=!!O:(0,m.warn)(`Optional content group not found: ${J}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,m.objectFromMap)(this._groups):null}getGroup(J){return this._groups.get(J)||null}}},(de,M,ne)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFDataTransportStream=void 0;var m=ne(1),he=ne(5);M.PDFDataTransportStream=class{constructor(l,x){(0,m.assert)(x,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=l.progressiveDone||!1,this._contentDispositionFilename=l.contentDispositionFilename||null;const b=l.initialData;if((null==b?void 0:b.length)>0){const A=new Uint8Array(b).buffer;this._queuedChunks.push(A)}this._pdfDataRangeTransport=x,this._isStreamingSupported=!l.disableStream,this._isRangeSupported=!l.disableRange,this._contentLength=l.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((A,y)=>{this._onReceiveData({begin:A,chunk:y})}),this._pdfDataRangeTransport.addProgressListener((A,y)=>{this._onProgress({loaded:A,total:y})}),this._pdfDataRangeTransport.addProgressiveReadListener(A=>{this._onReceiveData({chunk:A})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(l){const x=new Uint8Array(l.chunk).buffer;if(void 0===l.begin)this._fullRequestReader?this._fullRequestReader._enqueue(x):this._queuedChunks.push(x);else{const b=this._rangeReaders.some(function(A){return A._begin===l.begin&&(A._enqueue(x),!0)});(0,m.assert)(b,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var l,x;return null!=(x=null==(l=this._fullRequestReader)?void 0:l._loaded)?x:0}_onProgress(l){if(void 0===l.total){const x=this._rangeReaders[0];(null==x?void 0:x.onProgress)&&x.onProgress({loaded:l.loaded})}else{const x=this._fullRequestReader;(null==x?void 0:x.onProgress)&&x.onProgress({loaded:l.loaded,total:l.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(l){const x=this._rangeReaders.indexOf(l);x>=0&&this._rangeReaders.splice(x,1)}getFullReader(){(0,m.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const l=this._queuedChunks;return this._queuedChunks=null,new q(this,l,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(l,x){if(x<=this._progressiveDataLength)return null;const b=new J(this,l,x);return this._pdfDataRangeTransport.requestDataRange(l,x),this._rangeReaders.push(b),b}cancelAllRequests(l){this._fullRequestReader&&this._fullRequestReader.cancel(l);for(const x of this._rangeReaders.slice(0))x.cancel(l);this._pdfDataRangeTransport.abort()}};class q{constructor(l,x,b=!1,A=null){this._stream=l,this._done=b||!1,this._filename=(0,he.isPdfFile)(A)?A:null,this._queuedChunks=x||[],this._loaded=0;for(const y of this._queuedChunks)this._loaded+=y.byteLength;this._requests=[],this._headersReady=Promise.resolve(),l._fullRequestReader=this,this.onProgress=null}_enqueue(l){this._done||(this._requests.length>0?this._requests.shift().resolve({value:l,done:!1}):this._queuedChunks.push(l),this._loaded+=l.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var l=this;return _asyncToGenerator(function*(){if(l._queuedChunks.length>0)return{value:l._queuedChunks.shift(),done:!1};if(l._done)return{value:void 0,done:!0};const x=(0,m.createPromiseCapability)();return l._requests.push(x),x.promise})()}cancel(l){this._done=!0;for(const x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class J{constructor(l,x,b){this._stream=l,this._begin=x,this._end=b,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(l){if(!this._done){if(0===this._requests.length)this._queuedChunk=l;else{this._requests.shift().resolve({value:l,done:!1});for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var l=this;return _asyncToGenerator(function*(){if(l._queuedChunk){const b=l._queuedChunk;return l._queuedChunk=null,{value:b,done:!1}}if(l._done)return{value:void 0,done:!0};const x=(0,m.createPromiseCapability)();return l._requests.push(x),x.promise})()}cancel(l){this._done=!0;for(const x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(de,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.XfaText=void 0;class ne{static textContent(he){const $=[],q={items:$,styles:Object.create(null)};return function J(O){var b;if(!O)return;let l=null;const x=O.name;if("#text"===x)l=O.value;else{if(!ne.shouldBuildText(x))return;(null==(b=null==O?void 0:O.attributes)?void 0:b.textContent)?l=O.attributes.textContent:O.value&&(l=O.value)}if(null!==l&&$.push({str:l}),O.children)for(const A of O.children)J(A)}(he),q}static shouldBuildText(he){return!("textarea"===he||"input"===he||"option"===he||"select"===he)}}M.XfaText=ne},(de,M,ne)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.NodeStandardFontDataFactory=M.NodeCanvasFactory=M.NodeCMapReaderFactory=void 0;var m=ne(6);const he=function(O){return new Promise((l,x)=>{__webpack_require__(172).readFile(O,(A,y)=>{!A&&y?l(new Uint8Array(y)):x(new Error(A))})})};M.NodeCanvasFactory=class extends m.BaseCanvasFactory{_createCanvas(l,x){return __webpack_require__(3414).createCanvas(l,x)}},M.NodeCMapReaderFactory=class extends m.BaseCMapReaderFactory{_fetchData(l,x){return he(l).then(b=>({cMapData:b,compressionType:x}))}},M.NodeStandardFontDataFactory=class extends m.BaseStandardFontDataFactory{_fetchData(l){return he(l)}}},(de,M,ne)=>{var T,it;Object.defineProperty(M,"__esModule",{value:!0}),M.AnnotationLayer=void 0;var m=ne(1),he=ne(5),$=ne(8),q=ne(21),J=ne(22);const O=1e3,l=new WeakSet;function x(u){return{width:u[2]-u[0],height:u[3]-u[1]}}class b{static create(t){switch(t.data.annotationType){case m.AnnotationType.LINK:return new y(t);case m.AnnotationType.TEXT:return new o(t);case m.AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new n(t);case"Btn":return t.data.radioButton?new S(t):t.data.checkBox?new h(t):new f(t);case"Ch":return new _(t)}return new r(t);case m.AnnotationType.POPUP:return new e(t);case m.AnnotationType.FREETEXT:return new p(t);case m.AnnotationType.LINE:return new s(t);case m.AnnotationType.SQUARE:return new g(t);case m.AnnotationType.CIRCLE:return new w(t);case m.AnnotationType.POLYLINE:return new L(t);case m.AnnotationType.CARET:return new I(t);case m.AnnotationType.INK:return new U(t);case m.AnnotationType.POLYGON:return new R(t);case m.AnnotationType.HIGHLIGHT:return new H(t);case m.AnnotationType.UNDERLINE:return new Y(t);case m.AnnotationType.SQUIGGLY:return new N(t);case m.AnnotationType.STRIKEOUT:return new z(t);case m.AnnotationType.STAMP:return new K(t);case m.AnnotationType.FILEATTACHMENT:return new te(t);default:return new A(t)}}}class A{constructor(t,{isRenderable:c=!1,ignoreBorder:d=!1,createQuadrilaterals:P=!1}={}){this.isRenderable=c,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this._mouseState=t.mouseState,c&&(this.container=this._createContainer(d)),P&&(this.quadrilaterals=this._createQuadrilaterals(d))}_createContainer(t=!1){const c=this.data,d=this.page,P=this.viewport,v=document.createElement("section");let{width:E,height:B}=x(c.rect);v.setAttribute("data-annotation-id",c.id);const j=m.Util.normalizeRect([c.rect[0],d.view[3]-c.rect[1]+d.view[1],c.rect[2],d.view[3]-c.rect[3]+d.view[1]]);if(c.hasOwnCanvas){const V=P.transform.slice(),[W,X]=m.Util.singularValueDecompose2dScale(V);E=Math.ceil(E*W),B=Math.ceil(B*X),j[0]*=W,j[1]*=X;for(let Q=0;Q<4;Q++)V[Q]=Math.sign(V[Q]);v.style.transform=`matrix(${V.join(",")})`}else v.style.transform=`matrix(${P.transform.join(",")})`;if(v.style.transformOrigin=`${-j[0]}px ${-j[1]}px`,!t&&c.borderStyle.width>0){v.style.borderWidth=`${c.borderStyle.width}px`,c.borderStyle.style!==m.AnnotationBorderStyleType.UNDERLINE&&(E-=2*c.borderStyle.width,B-=2*c.borderStyle.width);const V=c.borderStyle.horizontalCornerRadius,W=c.borderStyle.verticalCornerRadius;switch((V>0||W>0)&&(v.style.borderRadius=`${V}px / ${W}px`),c.borderStyle.style){case m.AnnotationBorderStyleType.SOLID:v.style.borderStyle="solid";break;case m.AnnotationBorderStyleType.DASHED:v.style.borderStyle="dashed";break;case m.AnnotationBorderStyleType.BEVELED:(0,m.warn)("Unimplemented border style: beveled");break;case m.AnnotationBorderStyleType.INSET:(0,m.warn)("Unimplemented border style: inset");break;case m.AnnotationBorderStyleType.UNDERLINE:v.style.borderBottomStyle="solid"}c.borderColor||c.color?v.style.borderColor=m.Util.makeHexColor(0|c.color[0],0|c.color[1],0|c.color[2]):v.style.borderWidth=0}return v.style.left=`${j[0]}px`,v.style.top=`${j[1]}px`,c.hasOwnCanvas?v.style.width=v.style.height="auto":(v.style.width=`${E}px`,v.style.height=`${B}px`),v}get _commonActions(){const t=(c,d,P)=>{const v=P.detail[c];P.target.style[d]=q.ColorConverters[`${v[0]}_HTML`](v.slice(1))};return(0,m.shadow)(this,"_commonActions",{display:c=>{const d=c.detail.display%2==1;c.target.style.visibility=d?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:d,print:0===c.detail.display||3===c.detail.display})},print:c=>{this.annotationStorage.setValue(this.data.id,{print:c.detail.print})},hidden:c=>{c.target.style.visibility=c.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:c.detail.hidden})},focus:c=>{setTimeout(()=>c.target.focus({preventScroll:!1}),0)},userName:c=>{c.target.title=c.detail.userName},readonly:c=>{c.detail.readonly?c.target.setAttribute("readonly",""):c.target.removeAttribute("readonly")},required:c=>{c.detail.required?c.target.setAttribute("required",""):c.target.removeAttribute("required")},bgColor:c=>{t("bgColor","backgroundColor",c)},fillColor:c=>{t("fillColor","backgroundColor",c)},fgColor:c=>{t("fgColor","color",c)},textColor:c=>{t("textColor","color",c)},borderColor:c=>{t("borderColor","borderColor",c)},strokeColor:c=>{t("strokeColor","borderColor",c)}})}_dispatchEventFromSandbox(t,c){const d=this._commonActions;for(const P of Object.keys(c.detail)){const v=t[P]||d[P];v&&v(c)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const c=this.annotationStorage.getRawValue(this.data.id);if(!c)return;const d=this._commonActions;for(const[P,v]of Object.entries(c)){const E=d[P];E&&(E({detail:v,target:t}),delete c[P])}}_createQuadrilaterals(t=!1){if(!this.data.quadPoints)return null;const c=[],d=this.data.rect;for(const P of this.data.quadPoints)this.data.rect=[P[2].x,P[2].y,P[1].x,P[1].y],c.push(this._createContainer(t));return this.data.rect=d,c}_createPopup(t,c){let d=this.container;this.quadrilaterals&&(t=t||this.quadrilaterals,d=this.quadrilaterals[0]),t||((t=document.createElement("div")).style.height=d.style.height,t.style.width=d.style.width,d.appendChild(t));const v=new i({container:d,trigger:t,color:c.color,titleObj:c.titleObj,modificationDate:c.modificationDate,contentsObj:c.contentsObj,richText:c.richText,hideWrapper:!0}).render();v.style.left=d.style.width,d.appendChild(v)}_renderQuadrilaterals(t){for(const c of this.quadrilaterals)c.className=t;return this.quadrilaterals}render(){(0,m.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,c=null){const d=[];if(this._fieldObjects){const P=this._fieldObjects[t];if(P)for(const{page:v,id:E,exportValues:B}of P){if(-1===v||E===c)continue;const j="string"==typeof B?B:null,V=document.getElementById(E);!V||l.has(V)?d.push({id:E,exportValue:j,domElement:V}):(0,m.warn)(`_getElementsByName - element not allowed: ${E}`)}return d}for(const P of document.getElementsByName(t)){const{id:v,exportValue:E}=P;v!==c&&(!l.has(P)||d.push({id:v,exportValue:E,domElement:P}))}return d}static get platform(){const t="undefined"!=typeof navigator?navigator.platform:"";return(0,m.shadow)(this,"platform",{isWin:t.includes("Win"),isMac:t.includes("Mac")})}}class y extends A{constructor(t,c=null){super(t,{isRenderable:!!(t.data.url||t.data.dest||t.data.action||t.data.isTooltipOnly||t.data.resetForm||t.data.actions&&(t.data.actions.Action||t.data.actions["Mouse Up"]||t.data.actions["Mouse Down"])),ignoreBorder:!!(null==c?void 0:c.ignoreBorder),createQuadrilaterals:!0})}render(){const{data:t,linkService:c}=this,d=document.createElement("a");if(t.url)c.addLinkAttributes(d,t.url,t.newWindow);else if(t.action)this._bindNamedAction(d,t.action);else if(t.dest)this._bindLink(d,t.dest);else{let P=!1;t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(P=!0,this._bindJSAction(d,t)),t.resetForm?this._bindResetFormAction(d,t.resetForm):P||this._bindLink(d,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((P,v)=>{const E=0===v?d:d.cloneNode();return P.appendChild(E),P}):(this.container.className="linkAnnotation",this.container.appendChild(d),this.container)}_bindLink(t,c){t.href=this.linkService.getDestinationHash(c),t.onclick=()=>(c&&this.linkService.goToDestination(c),!1),(c||""===c)&&(t.className="internalLink")}_bindNamedAction(t,c){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(c),!1),t.className="internalLink"}_bindJSAction(t,c){t.href=this.linkService.getAnchorUrl("");const d=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const P of Object.keys(c.actions)){const v=d.get(P);!v||(t[v]=()=>{var E;return null==(E=this.linkService.eventBus)||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c.id,name:P}}),!1})}t.onclick||(t.onclick=()=>!1),t.className="internalLink"}_bindResetFormAction(t,c){const d=t.onclick;if(d||(t.href=this.linkService.getAnchorUrl("")),t.className="internalLink",!this._fieldObjects)return(0,m.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(d||(t.onclick=()=>!1));t.onclick=()=>{var W;d&&d();const{fields:P,refs:v,include:E}=c,B=[];if(0!==P.length||0!==v.length){const X=new Set(v);for(const Q of P){const oe=this._fieldObjects[Q]||[];for(const{id:_e}of oe)X.add(_e)}for(const Q of Object.values(this._fieldObjects))for(const oe of Q)X.has(oe.id)===E&&B.push(oe)}else for(const X of Object.values(this._fieldObjects))B.push(...X);const j=this.annotationStorage,V=[];for(const X of B){const{id:Q}=X;switch(V.push(Q),X.type){case"text":case"combobox":case"listbox":j.setValue(Q,{value:X.defaultValue||""});break;case"checkbox":case"radiobutton":j.setValue(Q,{value:X.defaultValue===X.exportValues});break;default:continue}const oe=document.getElementById(Q);!oe||!l.has(oe)||oe.dispatchEvent(new Event("resetform"))}return this.enableScripting&&(null==(W=this.linkService.eventBus)||W.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:V,name:"ResetForm"}})),!1}}}class o extends A{constructor(t){var d,P,v;super(t,{isRenderable:!!(t.data.hasPopup||(null==(d=t.data.titleObj)?void 0:d.str)||(null==(P=t.data.contentsObj)?void 0:P.str)||(null==(v=t.data.richText)?void 0:v.str))})}render(){this.container.className="textAnnotation";const t=document.createElement("img");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.alt="[{{type}} Annotation]",t.dataset.l10nId="text_annotation_type",t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(t,this.data),this.container.appendChild(t),this.container}}class r extends A{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(t){const{isWin:c,isMac:d}=A.platform;return c&&t.ctrlKey||d&&t.metaKey}_setEventListener(t,c,d,P){c.includes("mouse")?t.addEventListener(c,v=>{var E;null==(E=this.linkService.eventBus)||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:d,value:P(v),shift:v.shiftKey,modifier:this._getKeyModifier(v)}})}):t.addEventListener(c,v=>{var E;null==(E=this.linkService.eventBus)||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:d,value:P(v)}})})}_setEventListeners(t,c,d){var P;for(const[v,E]of c)("Action"===E||(null==(P=this.data.actions)?void 0:P[E]))&&this._setEventListener(t,v,E,d)}_setBackgroundColor(t){const c=this.data.backgroundColor||null;t.style.backgroundColor=null===c?"transparent":m.Util.makeHexColor(c[0],c[1],c[2])}}class n extends r{constructor(t){super(t,{isRenderable:t.renderForms||!t.data.hasAppearance&&!!t.data.fieldValue})}setPropertyOnSiblings(t,c,d,P){const v=this.annotationStorage;for(const E of this._getElementsByName(t.name,t.id))E.domElement&&(E.domElement[c]=d),v.setValue(E.id,{[P]:d})}render(){var P;const t=this.annotationStorage,c=this.data.id;this.container.className="textWidgetAnnotation";let d=null;if(this.renderForms){const v=t.getValue(c,{value:this.data.fieldValue}),E=v.formattedValue||v.value||"",B={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(d=document.createElement("textarea"),d.textContent=E):(d=document.createElement("input"),d.type="text",d.setAttribute("value",E)),l.add(d),d.disabled=this.data.readOnly,d.name=this.data.fieldName,d.tabIndex=O,B.userValue=E,d.setAttribute("id",c),d.addEventListener("input",V=>{t.setValue(c,{value:V.target.value}),this.setPropertyOnSiblings(d,"value",V.target.value,"value")}),d.addEventListener("resetform",V=>{var X;const W=null!=(X=this.data.defaultFieldValue)?X:"";d.value=B.userValue=W,B.formattedValue=null});let j=V=>{const{formattedValue:W}=B;null!=W&&(V.target.value=W),V.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){d.addEventListener("focus",W=>{B.userValue&&(W.target.value=B.userValue),B.valueOnFocus=W.target.value}),d.addEventListener("updatefromsandbox",W=>{this._dispatchEventFromSandbox({value(Q){var oe;B.userValue=null!=(oe=Q.detail.value)?oe:"",t.setValue(c,{value:B.userValue.toString()}),Q.target.value=B.userValue},formattedValue(Q){const{formattedValue:oe}=Q.detail;B.formattedValue=oe,null!=oe&&Q.target!==document.activeElement&&(Q.target.value=oe),t.setValue(c,{formattedValue:oe})},selRange(Q){Q.target.setSelectionRange(...Q.detail.selRange)}},W)}),d.addEventListener("keydown",W=>{var oe;let X=-1;if("Escape"===W.key?X=0:"Enter"===W.key?X=2:"Tab"===W.key&&(X=3),-1===X)return;const{value:Q}=W.target;B.valueOnFocus!==Q&&(B.userValue=Q,null==(oe=this.linkService.eventBus)||oe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:Q,willCommit:!0,commitKey:X,selStart:W.target.selectionStart,selEnd:W.target.selectionEnd}}))});const V=j;j=null,d.addEventListener("blur",W=>{var Q;const{value:X}=W.target;B.userValue=X,this._mouseState.isDown&&B.valueOnFocus!==X&&(null==(Q=this.linkService.eventBus)||Q.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:X,willCommit:!0,commitKey:1,selStart:W.target.selectionStart,selEnd:W.target.selectionEnd}})),V(W)}),(null==(P=this.data.actions)?void 0:P.Keystroke)&&d.addEventListener("beforeinput",W=>{var C;const{data:X,target:Q}=W,{value:oe,selectionStart:_e,selectionEnd:Z}=Q;let re=_e,ie=Z;switch(W.inputType){case"deleteWordBackward":{const D=oe.substring(0,_e).match(/\w*[^\w]*$/);D&&(re-=D[0].length);break}case"deleteWordForward":{const D=oe.substring(_e).match(/^[^\w]*\w*/);D&&(ie+=D[0].length);break}case"deleteContentBackward":_e===Z&&(re-=1);break;case"deleteContentForward":_e===Z&&(ie+=1)}W.preventDefault(),null==(C=this.linkService.eventBus)||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:oe,change:X||"",willCommit:!1,selStart:re,selEnd:ie}})}),this._setEventListeners(d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],W=>W.target.value)}if(j&&d.addEventListener("blur",j),null!==this.data.maxLen&&(d.maxLength=this.data.maxLen),this.data.comb){const W=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;d.classList.add("comb"),d.style.letterSpacing=`calc(${W}px - 1ch)`}}else d=document.createElement("div"),d.textContent=this.data.fieldValue,d.style.verticalAlign="middle",d.style.display="table-cell";return this._setTextStyle(d),this._setBackgroundColor(d),this._setDefaultPropertiesFromJS(d),this.container.appendChild(d),this.container}_setTextStyle(t){const{fontSize:d,fontColor:P}=this.data.defaultAppearanceData,v=t.style;d&&(v.fontSize=`${d}px`),v.color=m.Util.makeHexColor(P[0],P[1],P[2]),null!==this.data.textAlignment&&(v.textAlign=["left","center","right"][this.data.textAlignment])}}class h extends r{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,c=this.data,d=c.id;let P=t.getValue(d,{value:c.exportValue===c.fieldValue}).value;"string"==typeof P&&(P="Off"!==P,t.setValue(d,{value:P})),this.container.className="buttonWidgetAnnotation checkBox";const v=document.createElement("input");return l.add(v),v.disabled=c.readOnly,v.type="checkbox",v.name=c.fieldName,P&&v.setAttribute("checked",!0),v.setAttribute("id",d),v.setAttribute("exportValue",c.exportValue),v.tabIndex=O,v.addEventListener("change",E=>{const{name:B,checked:j}=E.target;for(const V of this._getElementsByName(B,d)){const W=j&&V.exportValue===c.exportValue;V.domElement&&(V.domElement.checked=W),t.setValue(V.id,{value:W})}t.setValue(d,{value:j})}),v.addEventListener("resetform",E=>{E.target.checked=(c.defaultFieldValue||"Off")===c.exportValue}),this.enableScripting&&this.hasJSActions&&(v.addEventListener("updatefromsandbox",E=>{this._dispatchEventFromSandbox({value(j){j.target.checked="Off"!==j.detail.value,t.setValue(d,{value:j.target.checked})}},E)}),this._setEventListeners(v,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],E=>E.target.checked)),this._setBackgroundColor(v),this._setDefaultPropertiesFromJS(v),this.container.appendChild(v),this.container}}class S extends r{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const t=this.annotationStorage,c=this.data,d=c.id;let P=t.getValue(d,{value:c.fieldValue===c.buttonValue}).value;"string"==typeof P&&(P=P!==c.buttonValue,t.setValue(d,{value:P}));const v=document.createElement("input");if(l.add(v),v.disabled=c.readOnly,v.type="radio",v.name=c.fieldName,P&&v.setAttribute("checked",!0),v.setAttribute("id",d),v.tabIndex=O,v.addEventListener("change",E=>{const{name:B,checked:j}=E.target;for(const V of this._getElementsByName(B,d))t.setValue(V.id,{value:!1});t.setValue(d,{value:j})}),v.addEventListener("resetform",E=>{const B=c.defaultFieldValue;E.target.checked=null!=B&&B===c.buttonValue}),this.enableScripting&&this.hasJSActions){const E=c.buttonValue;v.addEventListener("updatefromsandbox",B=>{this._dispatchEventFromSandbox({value:V=>{const W=E===V.detail.value;for(const X of this._getElementsByName(V.target.name)){const Q=W&&X.id===d;X.domElement&&(X.domElement.checked=Q),t.setValue(X.id,{value:Q})}}},B)}),this._setEventListeners(v,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],B=>B.target.checked)}return this._setBackgroundColor(v),this._setDefaultPropertiesFromJS(v),this.container.appendChild(v),this.container}}class f extends y{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();return t.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(t.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(t),t}}class _ extends r{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const t=this.annotationStorage,c=this.data.id,d=t.getValue(c,{value:this.data.fieldValue});let{fontSize:P}=this.data.defaultAppearanceData;P||(P=9);const v=`calc(${P}px * var(--zoom-factor))`,E=document.createElement("select");l.add(E),E.disabled=this.data.readOnly,E.name=this.data.fieldName,E.setAttribute("id",c),E.tabIndex=O,E.style.fontSize=`${P}px`,this.data.combo||(E.size=this.data.options.length,this.data.multiSelect&&(E.multiple=!0)),E.addEventListener("resetform",V=>{const W=this.data.defaultFieldValue;for(const X of E.options)X.selected=X.value===W});for(const V of this.data.options){const W=document.createElement("option");W.textContent=V.displayValue,W.value=V.exportValue,this.data.combo&&(W.style.fontSize=v),d.value.includes(V.exportValue)&&W.setAttribute("selected",!0),E.appendChild(W)}const B=(V,W)=>{const X=W?"value":"textContent",Q=V.target.options;return V.target.multiple?Array.prototype.filter.call(Q,oe=>oe.selected).map(oe=>oe[X]):-1===Q.selectedIndex?null:Q[Q.selectedIndex][X]},j=V=>Array.prototype.map.call(V.target.options,X=>({displayValue:X.textContent,exportValue:X.value}));return this.enableScripting&&this.hasJSActions?(E.addEventListener("updatefromsandbox",V=>{this._dispatchEventFromSandbox({value(X){const Q=X.detail.value,oe=new Set(Array.isArray(Q)?Q:[Q]);for(const _e of E.options)_e.selected=oe.has(_e.value);t.setValue(c,{value:B(X,!0)})},multipleSelection(X){E.multiple=!0},remove(X){const Q=E.options,oe=X.detail.remove;Q[oe].selected=!1,E.remove(oe),Q.length>0&&-1===Array.prototype.findIndex.call(Q,Z=>Z.selected)&&(Q[0].selected=!0),t.setValue(c,{value:B(X,!0),items:j(X)})},clear(X){for(;0!==E.length;)E.remove(0);t.setValue(c,{value:null,items:[]})},insert(X){const{index:Q,displayValue:oe,exportValue:_e}=X.detail.insert,Z=document.createElement("option");Z.textContent=oe,Z.value=_e,E.insertBefore(Z,E.children[Q]),t.setValue(c,{value:B(X,!0),items:j(X)})},items(X){const{items:Q}=X.detail;for(;0!==E.length;)E.remove(0);for(const oe of Q){const{displayValue:_e,exportValue:Z}=oe,re=document.createElement("option");re.textContent=_e,re.value=Z,E.appendChild(re)}E.options.length>0&&(E.options[0].selected=!0),t.setValue(c,{value:B(X,!0),items:j(X)})},indices(X){const Q=new Set(X.detail.indices);for(const oe of X.target.options)oe.selected=Q.has(oe.index);t.setValue(c,{value:B(X,!0)})},editable(X){X.target.disabled=!X.detail.editable}},V)}),E.addEventListener("input",V=>{var Q;const W=B(V,!0),X=B(V,!1);t.setValue(c,{value:W}),null==(Q=this.linkService.eventBus)||Q.dispatch("dispatcheventinsandbox",{source:this,detail:{id:c,name:"Keystroke",value:X,changeEx:W,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(E,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],V=>V.target.checked)):E.addEventListener("input",function(V){t.setValue(c,{value:B(V,!0)})}),this._setBackgroundColor(E),this._setDefaultPropertiesFromJS(E),this.container.appendChild(E),this.container}}class e extends A{constructor(t){var d,P,v;super(t,{isRenderable:!!((null==(d=t.data.titleObj)?void 0:d.str)||(null==(P=t.data.contentsObj)?void 0:P.str)||(null==(v=t.data.richText)?void 0:v.str))})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const d=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===d.length)return this.container;const P=new i({container:this.container,trigger:Array.from(d),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),v=this.page,E=m.Util.normalizeRect([this.data.parentRect[0],v.view[3]-this.data.parentRect[1]+v.view[1],this.data.parentRect[2],v.view[3]-this.data.parentRect[3]+v.view[1]]),B=E[0]+this.data.parentRect[2]-this.data.parentRect[0],j=E[1];return this.container.style.transformOrigin=`${-B}px ${-j}px`,this.container.style.left=`${B}px`,this.container.style.top=`${j}px`,this.container.appendChild(P.render()),this.container}}class i{constructor(t){this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.titleObj=t.titleObj,this.modificationDate=t.modificationDate,this.contentsObj=t.contentsObj,this.richText=t.richText,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}render(){var B,j;const c=document.createElement("div");c.className="popupWrapper",this.hideElement=this.hideWrapper?c:this.container,this.hideElement.hidden=!0;const d=document.createElement("div");d.className="popup";const P=this.color;P&&(d.style.backgroundColor=m.Util.makeHexColor(0|.7*(255-P[0])+P[0],0|.7*(255-P[1])+P[1],0|.7*(255-P[2])+P[2]));const v=document.createElement("h1");v.dir=this.titleObj.dir,v.textContent=this.titleObj.str,d.appendChild(v);const E=he.PDFDateString.toDateObject(this.modificationDate);if(E){const V=document.createElement("span");V.className="popupDate",V.textContent="{{date}}, {{time}}",V.dataset.l10nId="annotation_date_string",V.dataset.l10nArgs=JSON.stringify({date:E.toLocaleDateString(),time:E.toLocaleTimeString()}),d.appendChild(V)}if(!(null==(B=this.richText)?void 0:B.str)||(null==(j=this.contentsObj)?void 0:j.str)&&this.contentsObj.str!==this.richText.str){const V=this._formatContents(this.contentsObj);d.appendChild(V)}else J.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:d}),d.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const V of this.trigger)V.addEventListener("click",this._toggle.bind(this)),V.addEventListener("mouseover",this._show.bind(this,!1)),V.addEventListener("mouseout",this._hide.bind(this,!1));return d.addEventListener("click",this._hide.bind(this,!0)),c.appendChild(d),c}_formatContents({str:t,dir:c}){const d=document.createElement("p");d.className="popupContent",d.dir=c;const P=t.split(/(?:\r\n?|\n)/);for(let v=0,E=P.length;v<E;++v)d.appendChild(document.createTextNode(P[v])),v<E-1&&d.appendChild(document.createElement("br"));return d}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(t=!1){t&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(t=!0){t&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class p extends A{constructor(t){var d,P,v;super(t,{isRenderable:!!(t.data.hasPopup||(null==(d=t.data.titleObj)?void 0:d.str)||(null==(P=t.data.contentsObj)?void 0:P.str)||(null==(v=t.data.richText)?void 0:v.str)),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class s extends A{constructor(t){var d,P,v;super(t,{isRenderable:!!(t.data.hasPopup||(null==(d=t.data.titleObj)?void 0:d.str)||(null==(P=t.data.contentsObj)?void 0:P.str)||(null==(v=t.data.richText)?void 0:v.str)),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const t=this.data,{width:c,height:d}=x(t.rect),P=this.svgFactory.create(c,d),v=this.svgFactory.createElement("svg:line");return v.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),v.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),v.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),v.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),v.setAttribute("stroke-width",t.borderStyle.width||1),v.setAttribute("stroke","transparent"),v.setAttribute("fill","transparent"),P.appendChild(v),this.container.append(P),this._createPopup(v,t),this.container}}class g extends A{constructor(t){var d,P,v;super(t,{isRenderable:!!(t.data.hasPopup||(null==(d=t.data.titleObj)?void 0:d.str)||(null==(P=t.data.contentsObj)?void 0:P.str)||(null==(v=t.data.richText)?void 0:v.str)),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const t=this.data,{width:c,height:d}=x(t.rect),P=this.svgFactory.create(c,d),v=t.borderStyle.width,E=this.svgFactory.createElement("svg:rect");return E.setAttribute("x",v/2),E.setAttribute("y",v/2),E.setAttribute("width",c-v),E.setAttribute("height",d-v),E.setAttribute("stroke-width",v||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),P.appendChild(E),this.container.append(P),this._createPopup(E,t),this.container}}class w extends A{constructor(t){var d,P,v;super(t,{isRenderable:!!(t.data.hasPopup||(null==(d=t.data.titleObj)?void 0:d.str)||(null==(P=t.data.contentsObj)?void 0:P.str)||(null==(v=t.data.richText)?void 0:v.str)),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const t=this.data,{width:c,height:d}=x(t.rect),P=this.svgFactory.create(c,d),v=t.borderStyle.width,E=this.svgFactory.createElement("svg:ellipse");return E.setAttribute("cx",c/2),E.setAttribute("cy",d/2),E.setAttribute("rx",c/2-v/2),E.setAttribute("ry",d/2-v/2),E.setAttribute("stroke-width",v||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),P.appendChild(E),this.container.append(P),this._createPopup(E,t),this.container}}class L extends A{constructor(t){var d,P,v;super(t,{isRenderable:!!(t.data.hasPopup||(null==(d=t.data.titleObj)?void 0:d.str)||(null==(P=t.data.contentsObj)?void 0:P.str)||(null==(v=t.data.richText)?void 0:v.str)),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:c,height:d}=x(t.rect),P=this.svgFactory.create(c,d);let v=[];for(const B of t.vertices)v.push(B.x-t.rect[0]+","+(t.rect[3]-B.y));v=v.join(" ");const E=this.svgFactory.createElement(this.svgElementName);return E.setAttribute("points",v),E.setAttribute("stroke-width",t.borderStyle.width||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),P.appendChild(E),this.container.append(P),this._createPopup(E,t),this.container}}class R extends L{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class I extends A{constructor(t){var d,P,v;super(t,{isRenderable:!!(t.data.hasPopup||(null==(d=t.data.titleObj)?void 0:d.str)||(null==(P=t.data.contentsObj)?void 0:P.str)||(null==(v=t.data.richText)?void 0:v.str)),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class U extends A{constructor(t){var d,P,v;super(t,{isRenderable:!!(t.data.hasPopup||(null==(d=t.data.titleObj)?void 0:d.str)||(null==(P=t.data.contentsObj)?void 0:P.str)||(null==(v=t.data.richText)?void 0:v.str)),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:c,height:d}=x(t.rect),P=this.svgFactory.create(c,d);for(const v of t.inkLists){let E=[];for(const j of v)E.push(`${j.x-t.rect[0]},${t.rect[3]-j.y}`);E=E.join(" ");const B=this.svgFactory.createElement(this.svgElementName);B.setAttribute("points",E),B.setAttribute("stroke-width",t.borderStyle.width||1),B.setAttribute("stroke","transparent"),B.setAttribute("fill","transparent"),this._createPopup(B,t),P.appendChild(B)}return this.container.append(P),this.container}}class H extends A{constructor(t){var d,P,v;super(t,{isRenderable:!!(t.data.hasPopup||(null==(d=t.data.titleObj)?void 0:d.str)||(null==(P=t.data.contentsObj)?void 0:P.str)||(null==(v=t.data.richText)?void 0:v.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Y extends A{constructor(t){var d,P,v;super(t,{isRenderable:!!(t.data.hasPopup||(null==(d=t.data.titleObj)?void 0:d.str)||(null==(P=t.data.contentsObj)?void 0:P.str)||(null==(v=t.data.richText)?void 0:v.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class N extends A{constructor(t){var d,P,v;super(t,{isRenderable:!!(t.data.hasPopup||(null==(d=t.data.titleObj)?void 0:d.str)||(null==(P=t.data.contentsObj)?void 0:P.str)||(null==(v=t.data.richText)?void 0:v.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class z extends A{constructor(t){var d,P,v;super(t,{isRenderable:!!(t.data.hasPopup||(null==(d=t.data.titleObj)?void 0:d.str)||(null==(P=t.data.contentsObj)?void 0:P.str)||(null==(v=t.data.richText)?void 0:v.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class K extends A{constructor(t){var d,P,v;super(t,{isRenderable:!!(t.data.hasPopup||(null==(d=t.data.titleObj)?void 0:d.str)||(null==(P=t.data.contentsObj)?void 0:P.str)||(null==(v=t.data.richText)?void 0:v.str)),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class te extends A{constructor(t){var P;super(t,{isRenderable:!0});const{filename:c,content:d}=this.data.file;this.filename=(0,he.getFilenameFromUrl)(c),this.content=d,null==(P=this.linkService.eventBus)||P.dispatch("fileattachmentannotation",{source:this,filename:c,content:d})}render(){var c,d;this.container.className="fileAttachmentAnnotation";const t=document.createElement("div");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((null==(c=this.data.titleObj)?void 0:c.str)||(null==(d=this.data.contentsObj)?void 0:d.str)||this.data.richText)&&this._createPopup(t,this.data),this.container.appendChild(t),this.container}_download(){var t;null==(t=this.downloadManager)||t.openOrDownloadData(this.container,this.content,this.filename)}}class ae{static render(t){const c=[],d=[];for(const v of t.annotations){if(!v)continue;const{width:E,height:B}=x(v.rect);if(!(E<=0||B<=0)){if(v.annotationType===m.AnnotationType.POPUP){d.push(v);continue}c.push(v)}}d.length&&c.push(...d);const P=t.div;for(const v of c){const E=b.create({data:v,layer:P,page:t.page,viewport:t.viewport,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new he.DOMSVGFactory,annotationStorage:t.annotationStorage||new $.AnnotationStorage,enableScripting:t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,mouseState:t.mouseState||{isDown:!1}});if(E.isRenderable){const B=E.render();if(v.hidden&&(B.style.visibility="hidden"),Array.isArray(B))for(const j of B)P.appendChild(j);else E instanceof e?P.prepend(B):P.appendChild(B)}}ye(this,T,it).call(this,P,t.annotationCanvasMap)}static update(t){const{page:c,viewport:d,annotations:P,annotationCanvasMap:v,div:E}=t,B=d.transform,j=`matrix(${B.join(",")})`;let V,W;for(const X of P){const Q=E.querySelectorAll(`[data-annotation-id="${X.id}"]`);if(Q)for(const oe of Q)if(X.hasOwnCanvas){const _e=m.Util.normalizeRect([X.rect[0],c.view[3]-X.rect[1]+c.view[1],X.rect[2],c.view[3]-X.rect[3]+c.view[1]]);if(!W){V=Math.abs(B[0]||B[1]);const ie=B.slice();for(let C=0;C<4;C++)ie[C]=Math.sign(ie[C]);W=`matrix(${ie.join(",")})`}const Z=_e[0]*V,re=_e[1]*V;oe.style.left=`${Z}px`,oe.style.top=`${re}px`,oe.style.transformOrigin=`${-Z}px ${-re}px`,oe.style.transform=W}else oe.style.transform=j}ye(this,T,it).call(this,E,v),E.hidden=!1}}T=new WeakSet,it=function(t,c){if(c){for(const[d,P]of c){const v=t.querySelector(`[data-annotation-id="${d}"]`);if(!v)continue;const{firstChild:E}=v;"CANVAS"===E.nodeName?v.replaceChild(P,E):v.insertBefore(P,E)}c.clear()}},ve(ae,T),M.AnnotationLayer=ae},(de,M)=>{function ne(he){return Math.floor(255*Math.max(0,Math.min(1,he))).toString(16).padStart(2,"0")}Object.defineProperty(M,"__esModule",{value:!0}),M.ColorConverters=void 0,M.ColorConverters=class{static CMYK_G([$,q,J,O]){return["G",1-Math.min(1,.3*$+.59*J+.11*q+O)]}static G_CMYK([$]){return["CMYK",0,0,0,1-$]}static G_RGB([$]){return["RGB",$,$,$]}static G_HTML([$]){const q=ne($);return`#${q}${q}${q}`}static RGB_G([$,q,J]){return["G",.3*$+.59*q+.11*J]}static RGB_HTML([$,q,J]){return`#${ne($)}${ne(q)}${ne(J)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([$,q,J,O]){return["RGB",1-Math.min(1,$+O),1-Math.min(1,J+O),1-Math.min(1,q+O)]}static CMYK_HTML($){return this.RGB_HTML(this.CMYK_RGB($))}static RGB_CMYK([$,q,J]){const O=1-$,l=1-q,x=1-J;return["CMYK",O,l,x,Math.min(O,l,x)]}}},(de,M,ne)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.XfaLayer=void 0;var m=ne(18);M.XfaLayer=class{static setupStorage(q,J,O,l,x){const b=l.getValue(J,{value:null});switch(O.name){case"textarea":if(null!==b.value&&(q.textContent=b.value),"print"===x)break;q.addEventListener("input",A=>{l.setValue(J,{value:A.target.value})});break;case"input":if("radio"===O.attributes.type||"checkbox"===O.attributes.type){if(b.value===O.attributes.xfaOn?q.setAttribute("checked",!0):b.value===O.attributes.xfaOff&&q.removeAttribute("checked"),"print"===x)break;q.addEventListener("change",A=>{l.setValue(J,{value:A.target.getAttribute(A.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==b.value&&q.setAttribute("value",b.value),"print"===x)break;q.addEventListener("input",A=>{l.setValue(J,{value:A.target.value})})}break;case"select":if(null!==b.value)for(const A of O.children)A.attributes.value===b.value&&(A.attributes.selected=!0);q.addEventListener("input",A=>{const y=A.target.options;l.setValue(J,{value:-1===y.selectedIndex?"":y[y.selectedIndex].value})})}}static setAttributes({html:q,element:J,storage:O=null,intent:l,linkService:x}){const{attributes:b}=J,A=q instanceof HTMLAnchorElement;"radio"===b.type&&(b.name=`${b.name}-${l}`);for(const[y,o]of Object.entries(b))if(null!=o&&"dataId"!==y)if("style"!==y)if("textContent"===y)q.textContent=o;else if("class"===y)o.length&&q.setAttribute(y,o.join(" "));else{if(A&&("href"===y||"newWindow"===y))continue;q.setAttribute(y,o)}else Object.assign(q.style,o);A&&x.addLinkAttributes(q,b.href,b.newWindow),O&&b.dataId&&this.setupStorage(q,b.dataId,J,O)}static render(q){var r;const J=q.annotationStorage,O=q.linkService,l=q.xfaHtml,x=q.intent||"display",b=document.createElement(l.name);l.attributes&&this.setAttributes({html:b,element:l,intent:x,linkService:O});const A=[[l,-1,b]],y=q.div;if(y.appendChild(b),q.viewport){const n=`matrix(${q.viewport.transform.join(",")})`;y.style.transform=n}"richText"!==x&&y.setAttribute("class","xfaLayer xfaFont");const o=[];for(;A.length>0;){const[n,h,S]=A[A.length-1];if(h+1===n.children.length){A.pop();continue}const f=n.children[++A[A.length-1][1]];if(null===f)continue;const{name:_}=f;if("#text"===_){const i=document.createTextNode(f.value);o.push(i),S.appendChild(i);continue}let e;if(e=(null==(r=null==f?void 0:f.attributes)?void 0:r.xmlns)?document.createElementNS(f.attributes.xmlns,_):document.createElement(_),S.appendChild(e),f.attributes&&this.setAttributes({html:e,element:f,storage:J,intent:x,linkService:O}),f.children&&f.children.length>0)A.push([f,-1,e]);else if(f.value){const i=document.createTextNode(f.value);m.XfaText.shouldBuildText(_)&&o.push(i),e.appendChild(i)}}for(const n of y.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))n.setAttribute("readOnly",!0);return{textDivs:o}}static update(q){const J=`matrix(${q.viewport.transform.join(",")})`;q.div.style.transform=J,q.div.hidden=!1}}},(de,M,ne)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.renderTextLayer=function(S){const f=new n({textContent:S.textContent,textContentStream:S.textContentStream,container:S.container,viewport:S.viewport,textDivs:S.textDivs,textContentItemsStr:S.textContentItemsStr,enhanceTextSelection:S.enhanceTextSelection});return f._render(S.timeout),f};var m=ne(1);const $=30,J=new Map,O=/^\s+$/g;function x(S,f,_,e){const i=document.createElement("span"),p=S._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==f.str,hasEOL:f.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==f.str,hasEOL:f.hasEOL};S._textDivs.push(i);const s=m.Util.transform(S._viewport.transform,f.transform);let g=Math.atan2(s[1],s[0]);const w=_[f.fontName];w.vertical&&(g+=Math.PI/2);const L=Math.hypot(s[2],s[3]),R=L*function(S,f){const _=J.get(S);if(_)return _;f.save(),f.font=`30px ${S}`;const e=f.measureText("");let i=e.fontBoundingBoxAscent,p=Math.abs(e.fontBoundingBoxDescent);if(i){f.restore();const g=i/(i+p);return J.set(S,g),g}f.strokeStyle="red",f.clearRect(0,0,$,$),f.strokeText("g",0,0);let s=f.getImageData(0,0,$,$).data;p=0;for(let g=s.length-1-3;g>=0;g-=4)if(s[g]>0){p=Math.ceil(g/4/$);break}f.clearRect(0,0,$,$),f.strokeText("A",0,$),s=f.getImageData(0,0,$,$).data,i=0;for(let g=0,w=s.length;g<w;g+=4)if(s[g]>0){i=$-Math.floor(g/4/$);break}if(f.restore(),i){const g=i/(i+p);return J.set(S,g),g}return J.set(S,.8),.8}(w.fontFamily,e);let I,U;0===g?(I=s[4],U=s[5]-R):(I=s[4]+R*Math.sin(g),U=s[5]-R*Math.cos(g)),i.style.left=`${I}px`,i.style.top=`${U}px`,i.style.fontSize=`${L}px`,i.style.fontFamily=w.fontFamily,i.setAttribute("role","presentation"),i.textContent=f.str,i.dir=f.dir,S._fontInspectorEnabled&&(i.dataset.fontName=f.fontName),0!==g&&(p.angle=g*(180/Math.PI));let H=!1;if(f.str.length>1||S._enhanceTextSelection&&O.test(f.str))H=!0;else if(" "!==f.str&&f.transform[0]!==f.transform[3]){const Y=Math.abs(f.transform[0]),N=Math.abs(f.transform[3]);Y!==N&&Math.max(Y,N)/Math.min(Y,N)>1.5&&(H=!0)}if(H&&(p.canvasWidth=w.vertical?f.height*S._viewport.scale:f.width*S._viewport.scale),S._textDivProperties.set(i,p),S._textContentStream&&S._layoutText(i),S._enhanceTextSelection&&p.hasText){let Y=1,N=0;0!==g&&(Y=Math.cos(g),N=Math.sin(g));const z=(w.vertical?f.height:f.width)*S._viewport.scale,K=L;let te,ae;0!==g?(te=[Y,N,-N,Y,I,U],ae=m.Util.getAxialAlignedBoundingBox([0,0,z,K],te)):ae=[I,U,I+z,U+K],S._bounds.push({left:ae[0],top:ae[1],right:ae[2],bottom:ae[3],div:i,size:[z,K],m:te})}}function b(S){if(S._canceled)return;const f=S._textDivs,_=S._capability,e=f.length;if(e>1e5)return S._renderingDone=!0,void _.resolve();if(!S._textContentStream)for(let i=0;i<e;i++)S._layoutText(f[i]);S._renderingDone=!0,_.resolve()}function A(S,f,_){let e=0;for(let i=0;i<_;i++){const p=S[f++];p>0&&(e=e?Math.min(p,e):p)}return e}function r(S,f){f.sort(function(i,p){return i.x1-p.x1||i.index-p.index});const e=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const i of f){let p=0;for(;p<e.length&&e[p].end<=i.y1;)p++;let s=e.length-1;for(;s>=0&&e[s].start>=i.y2;)s--;let g,w,L,R,I=-1/0;for(L=p;L<=s;L++){let Y;g=e[L],w=g.boundary,Y=w.x2>i.x1?w.index>i.index?w.x1New:i.x1:void 0===w.x2New?(w.x2+i.x1)/2:w.x2New,Y>I&&(I=Y)}for(i.x1New=I,L=p;L<=s;L++)g=e[L],w=g.boundary,void 0===w.x2New?w.x2>i.x1?w.index>i.index&&(w.x2New=w.x2):w.x2New=I:w.x2New>I&&(w.x2New=Math.max(I,w.x2));const U=[];let H=null;for(L=p;L<=s;L++){g=e[L],w=g.boundary;const Y=w.x2>i.x2?w:i;H===Y?U[U.length-1].end=g.end:(U.push({start:g.start,end:g.end,boundary:Y}),H=Y)}for(e[p].start<i.y1&&(U[0].start=i.y1,U.unshift({start:e[p].start,end:i.y1,boundary:e[p].boundary})),i.y2<e[s].end&&(U[U.length-1].end=i.y2,U.push({start:i.y2,end:e[s].end,boundary:e[s].boundary})),L=p;L<=s;L++){if(g=e[L],w=g.boundary,void 0!==w.x2New)continue;let Y=!1;for(R=p-1;!Y&&R>=0&&e[R].start>=w.y1;R--)Y=e[R].boundary===w;for(R=s+1;!Y&&R<e.length&&e[R].end<=w.y2;R++)Y=e[R].boundary===w;for(R=0;!Y&&R<U.length;R++)Y=U[R].boundary===w;Y||(w.x2New=I)}Array.prototype.splice.apply(e,[p,s-p+1].concat(U))}for(const i of e){const p=i.boundary;void 0===p.x2New&&(p.x2New=Math.max(S,p.x2))}}class n{constructor({textContent:f,textContentStream:_,container:e,viewport:i,textDivs:p,textContentItemsStr:s,enhanceTextSelection:g}){var w;this._textContent=f,this._textContentStream=_,this._container=e,this._document=e.ownerDocument,this._viewport=i,this._textDivs=p||[],this._textContentItemsStr=s||[],this._enhanceTextSelection=!!g,this._fontInspectorEnabled=!!(null==(w=globalThis.FontInspector)?void 0:w.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,m.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new m.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(f,_){for(let e=0,i=f.length;e<i;e++)if(void 0!==f[e].str)this._textContentItemsStr.push(f[e].str),x(this,f[e],_,this._layoutTextCtx);else if("beginMarkedContentProps"===f[e].type||"beginMarkedContent"===f[e].type){const p=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==f[e].id&&this._container.setAttribute("id",`${f[e].id}`),p.appendChild(this._container)}else"endMarkedContent"===f[e].type&&(this._container=this._container.parentNode)}_layoutText(f){const _=this._textDivProperties.get(f);let e="";if(0!==_.canvasWidth&&_.hasText){const{fontSize:i,fontFamily:p}=f.style;(i!==this._layoutTextLastFontSize||p!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${i} ${p}`,this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=p);const{width:s}=this._layoutTextCtx.measureText(f.textContent);if(s>0){const g=_.canvasWidth/s;this._enhanceTextSelection&&(_.scale=g),e=`scaleX(${g})`}}if(0!==_.angle&&(e=`rotate(${_.angle}deg) ${e}`),e.length>0&&(this._enhanceTextSelection&&(_.originalTransform=e),f.style.transform=e),_.hasText&&this._container.appendChild(f),_.hasEOL){const i=document.createElement("br");i.setAttribute("role","presentation"),this._container.appendChild(i)}}_render(f=0){const _=(0,m.createPromiseCapability)();let e=Object.create(null);const i=this._document.createElement("canvas");if(i.height=i.width=$,this._layoutTextCtx=i.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),_.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const p=()=>{this._reader.read().then(({value:s,done:g})=>{g?_.resolve():(Object.assign(e,s.styles),this._processItems(s.items,e),p())},_.reject)};this._reader=this._textContentStream.getReader(),p()}}_.promise.then(()=>{e=null,f?this._renderTimer=setTimeout(()=>{b(this),this._renderTimer=null},f):b(this)},this._capability.reject)}expandTextDivs(f=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function(S){const f=S._bounds,_=S._viewport,e=function(S,f,_){const e=_.map(function(p,s){return{x1:p.left,y1:p.top,x2:p.right,y2:p.bottom,index:s,x1New:void 0,x2New:void 0}});r(S,e);const i=new Array(_.length);for(const p of e)i[p.index]={left:p.x1New,top:0,right:p.x2New,bottom:0};_.map(function(p,s){const g=i[s],w=e[s];w.x1=p.top,w.y1=S-g.right,w.x2=p.bottom,w.y2=S-g.left,w.index=s,w.x1New=void 0,w.x2New=void 0}),r(f,e);for(const p of e){const s=p.index;i[s].top=p.x1New,i[s].bottom=p.x2New}return i}(_.width,_.height,f);for(let i=0;i<e.length;i++){const p=f[i].div,s=S._textDivProperties.get(p);if(0===s.angle){s.paddingLeft=f[i].left-e[i].left,s.paddingTop=f[i].top-e[i].top,s.paddingRight=e[i].right-f[i].right,s.paddingBottom=e[i].bottom-f[i].bottom,S._textDivProperties.set(p,s);continue}const g=e[i],w=f[i],L=w.m,R=L[0],I=L[1],U=[[0,0],[0,w.size[1]],[w.size[0],0],w.size],H=new Float64Array(64);for(let N=0,z=U.length;N<z;N++){const K=m.Util.applyTransform(U[N],L);H[N+0]=R&&(g.left-K[0])/R,H[N+4]=I&&(g.top-K[1])/I,H[N+8]=R&&(g.right-K[0])/R,H[N+12]=I&&(g.bottom-K[1])/I,H[N+16]=I&&(g.left-K[0])/-I,H[N+20]=R&&(g.top-K[1])/R,H[N+24]=I&&(g.right-K[0])/-I,H[N+28]=R&&(g.bottom-K[1])/R,H[N+32]=R&&(g.left-K[0])/-R,H[N+36]=I&&(g.top-K[1])/-I,H[N+40]=R&&(g.right-K[0])/-R,H[N+44]=I&&(g.bottom-K[1])/-I,H[N+48]=I&&(g.left-K[0])/I,H[N+52]=R&&(g.top-K[1])/-R,H[N+56]=I&&(g.right-K[0])/I,H[N+60]=R&&(g.bottom-K[1])/-R}const Y=1+Math.min(Math.abs(R),Math.abs(I));s.paddingLeft=A(H,32,16)/Y,s.paddingTop=A(H,48,16)/Y,s.paddingRight=A(H,0,16)/Y,s.paddingBottom=A(H,16,16)/Y,S._textDivProperties.set(p,s)}}(this),this._bounds=null);const _=[],e=[];for(let i=0,p=this._textDivs.length;i<p;i++){const s=this._textDivs[i],g=this._textDivProperties.get(s);!g.hasText||(f?(_.length=0,e.length=0,g.originalTransform&&_.push(g.originalTransform),g.paddingTop>0?(e.push(`${g.paddingTop}px`),_.push(`translateY(${-g.paddingTop}px)`)):e.push(0),e.push(g.paddingRight>0?g.paddingRight/g.scale+"px":0),e.push(g.paddingBottom>0?`${g.paddingBottom}px`:0),g.paddingLeft>0?(e.push(g.paddingLeft/g.scale+"px"),_.push(`translateX(${-g.paddingLeft/g.scale}px)`)):e.push(0),s.style.padding=e.join(" "),_.length&&(s.style.transform=_.join(" "))):(s.style.padding=null,s.style.transform=g.originalTransform))}}}},(de,M,ne)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.SVGGraphics=void 0;var m=ne(1),he=ne(5),$=ne(3);let q=class{constructor(){(0,m.unreachable)("Not implemented: SVGGraphics")}};M.SVGGraphics=q;{let r=function(e){let i=[];const p=[];for(const s of e)"save"!==s.fn?"restore"===s.fn?i=p.pop():i.push(s):(i.push({fnId:92,fn:"group",items:[]}),p.push(i),i=i[i.length-1].items);return i},n=function(e){if(Number.isInteger(e))return e.toString();const i=e.toFixed(10);let p=i.length-1;if("0"!==i[p])return i;do{p--}while("0"===i[p]);return i.substring(0,"."===i[p]?p:p+1)},h=function(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":`scale(${n(e[0])} ${n(e[3])})`;if(e[0]===e[3]&&e[1]===-e[2]){const i=180*Math.acos(e[0])/Math.PI;return`rotate(${n(i)})`}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return`translate(${n(e[4])} ${n(e[5])})`;return`matrix(${n(e[0])} ${n(e[1])} ${n(e[2])} ${n(e[3])} ${n(e[4])} ${n(e[5])})`};const J={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},O="http://www.w3.org/XML/1998/namespace",l="http://www.w3.org/1999/xlink",x=["butt","round","square"],b=["miter","round","bevel"],A=function(e,i="",p=!1){if(URL.createObjectURL&&"undefined"!=typeof Blob&&!p)return URL.createObjectURL(new Blob([e],{type:i}));const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let g=`data:${i};base64,`;for(let w=0,L=e.length;w<L;w+=3){const R=255&e[w],I=255&e[w+1],U=255&e[w+2];g+=s[R>>2]+s[(3&R)<<4|I>>4]+s[w+1<L?(15&I)<<2|U>>6:64]+s[w+2<L?63&U:64]}return g},y=function(){const e=new Uint8Array([137,80,78,71,13,10,26,10]),p=new Int32Array(256);for(let U=0;U<256;U++){let H=U;for(let Y=0;Y<8;Y++)H=1&H?3988292384^H>>1&2147483647:H>>1&2147483647;p[U]=H}function g(U,H,Y,N){let z=N;const K=H.length;Y[z]=K>>24&255,Y[z+1]=K>>16&255,Y[z+2]=K>>8&255,Y[z+3]=255&K,z+=4,Y[z]=255&U.charCodeAt(0),Y[z+1]=255&U.charCodeAt(1),Y[z+2]=255&U.charCodeAt(2),Y[z+3]=255&U.charCodeAt(3),z+=4,Y.set(H,z),z+=H.length;const te=function(U,H,Y){let N=-1;for(let z=H;z<Y;z++)N=N>>>8^p[255&(N^U[z])];return-1^N}(Y,N+4,z);Y[z]=te>>24&255,Y[z+1]=te>>16&255,Y[z+2]=te>>8&255,Y[z+3]=255&te}function R(U){let H=U.length;const Y=65535,N=Math.ceil(H/Y),z=new Uint8Array(2+H+5*N+4);let K=0;z[K++]=120,z[K++]=156;let te=0;for(;H>Y;)z[K++]=0,z[K++]=255,z[K++]=255,z[K++]=0,z[K++]=0,z.set(U.subarray(te,te+Y),K),K+=Y,te+=Y,H-=Y;z[K++]=1,z[K++]=255&H,z[K++]=H>>8&255,z[K++]=255&~H,z[K++]=(65535&~H)>>8&255,z.set(U.subarray(te),K),K+=U.length-te;const ae=function(U,H,Y){let N=1,z=0;for(let K=0;K<Y;++K)N=(N+(255&U[K]))%65521,z=(z+N)%65521;return z<<16|N}(U,0,U.length);return z[K++]=ae>>24&255,z[K++]=ae>>16&255,z[K++]=ae>>8&255,z[K++]=255&ae,z}return function(H,Y,N){return function(U,H,Y,N){const z=U.width,K=U.height;let te,ae,T;const a=U.data;switch(H){case m.ImageKind.GRAYSCALE_1BPP:ae=0,te=1,T=z+7>>3;break;case m.ImageKind.RGB_24BPP:ae=2,te=8,T=3*z;break;case m.ImageKind.RGBA_32BPP:ae=6,te=8,T=4*z;break;default:throw new Error("invalid format")}const u=new Uint8Array((1+T)*K);let t=0,c=0;for(let j=0;j<K;++j)u[t++]=0,u.set(a.subarray(c,c+T),t),c+=T,t+=T;if(H===m.ImageKind.GRAYSCALE_1BPP&&N){t=0;for(let j=0;j<K;j++){t++;for(let V=0;V<T;V++)u[t++]^=255}}const d=new Uint8Array([z>>24&255,z>>16&255,z>>8&255,255&z,K>>24&255,K>>16&255,K>>8&255,255&K,te,ae,0,0,0]),P=function(U){if(!$.isNodeJS)return R(U);try{let H;H=parseInt(process.versions.node)>=8?U:Buffer.from(U);const Y=__webpack_require__(2258).deflateSync(H,{level:9});return Y instanceof Uint8Array?Y:new Uint8Array(Y)}catch(H){(0,m.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+H)}return R(U)}(u),E=new Uint8Array(e.length+36+d.length+P.length);let B=0;return E.set(e,B),B+=e.length,g("IHDR",d,E,B),B+=12+d.length,g("IDATA",P,E,B),B+=12+P.length,g("IEND",new Uint8Array(0),E,B),A(E,"image/png",Y)}(H,void 0===H.kind?m.ImageKind.GRAYSCALE_1BPP:H.kind,Y,N)}}();class o{constructor(){this.fontSizeScale=1,this.fontWeight=J.fontWeight,this.fontSize=0,this.textMatrix=m.IDENTITY_MATRIX,this.fontMatrix=m.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=m.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=J.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(i,p){this.x=i,this.y=p}}let S=0,f=0,_=0;M.SVGGraphics=q=class{constructor(e,i,p=!1){this.svgFactory=new he.DOMSVGFactory,this.current=new o,this.transformMatrix=m.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=i,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!p,this._operatorIdMapping=[];for(const s in m.OPS)this._operatorIdMapping[m.OPS[s]]=s}save(){this.transformStack.push(this.transformMatrix);const e=this.current;this.extraStack.push(e),this.current=e.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(e){this.save(),this.executeOpTree(e),this.restore()}loadDependencies(e){const i=e.fnArray,p=e.argsArray;for(let s=0,g=i.length;s<g;s++)if(i[s]===m.OPS.dependency)for(const w of p[s]){const L=w.startsWith("g_")?this.commonObjs:this.objs,R=new Promise(I=>{L.get(w,I)});this.current.dependencies.push(R)}return Promise.all(this.current.dependencies)}transform(e,i,p,s,g,w){this.transformMatrix=m.Util.transform(this.transformMatrix,[e,i,p,s,g,w]),this.tgrp=null}getSVG(e,i){this.viewport=i;const p=this._initialize(i);return this.loadDependencies(e).then(()=>(this.transformMatrix=m.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(e)),p))}convertOpList(e){const i=this._operatorIdMapping,p=e.argsArray,s=e.fnArray,g=[];for(let w=0,L=s.length;w<L;w++){const R=s[w];g.push({fnId:R,fn:i[R],args:p[w]})}return r(g)}executeOpTree(e){for(const i of e){const p=i.fn,g=i.args;switch(0|i.fnId){case m.OPS.beginText:this.beginText();break;case m.OPS.dependency:break;case m.OPS.setLeading:this.setLeading(g);break;case m.OPS.setLeadingMoveText:this.setLeadingMoveText(g[0],g[1]);break;case m.OPS.setFont:this.setFont(g);break;case m.OPS.showText:case m.OPS.showSpacedText:this.showText(g[0]);break;case m.OPS.endText:this.endText();break;case m.OPS.moveText:this.moveText(g[0],g[1]);break;case m.OPS.setCharSpacing:this.setCharSpacing(g[0]);break;case m.OPS.setWordSpacing:this.setWordSpacing(g[0]);break;case m.OPS.setHScale:this.setHScale(g[0]);break;case m.OPS.setTextMatrix:this.setTextMatrix(g[0],g[1],g[2],g[3],g[4],g[5]);break;case m.OPS.setTextRise:this.setTextRise(g[0]);break;case m.OPS.setTextRenderingMode:this.setTextRenderingMode(g[0]);break;case m.OPS.setLineWidth:this.setLineWidth(g[0]);break;case m.OPS.setLineJoin:this.setLineJoin(g[0]);break;case m.OPS.setLineCap:this.setLineCap(g[0]);break;case m.OPS.setMiterLimit:this.setMiterLimit(g[0]);break;case m.OPS.setFillRGBColor:this.setFillRGBColor(g[0],g[1],g[2]);break;case m.OPS.setStrokeRGBColor:this.setStrokeRGBColor(g[0],g[1],g[2]);break;case m.OPS.setStrokeColorN:this.setStrokeColorN(g);break;case m.OPS.setFillColorN:this.setFillColorN(g);break;case m.OPS.shadingFill:this.shadingFill(g[0]);break;case m.OPS.setDash:this.setDash(g[0],g[1]);break;case m.OPS.setRenderingIntent:this.setRenderingIntent(g[0]);break;case m.OPS.setFlatness:this.setFlatness(g[0]);break;case m.OPS.setGState:this.setGState(g[0]);break;case m.OPS.fill:this.fill();break;case m.OPS.eoFill:this.eoFill();break;case m.OPS.stroke:this.stroke();break;case m.OPS.fillStroke:this.fillStroke();break;case m.OPS.eoFillStroke:this.eoFillStroke();break;case m.OPS.clip:this.clip("nonzero");break;case m.OPS.eoClip:this.clip("evenodd");break;case m.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case m.OPS.paintImageXObject:this.paintImageXObject(g[0]);break;case m.OPS.paintInlineImageXObject:this.paintInlineImageXObject(g[0]);break;case m.OPS.paintImageMaskXObject:this.paintImageMaskXObject(g[0]);break;case m.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(g[0],g[1]);break;case m.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case m.OPS.closePath:this.closePath();break;case m.OPS.closeStroke:this.closeStroke();break;case m.OPS.closeFillStroke:this.closeFillStroke();break;case m.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case m.OPS.nextLine:this.nextLine();break;case m.OPS.transform:this.transform(g[0],g[1],g[2],g[3],g[4],g[5]);break;case m.OPS.constructPath:this.constructPath(g[0],g[1]);break;case m.OPS.endPath:this.endPath();break;case 92:this.group(i.items);break;default:(0,m.warn)(`Unimplemented operator ${p}`)}}}setWordSpacing(e){this.current.wordSpacing=e}setCharSpacing(e){this.current.charSpacing=e}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(e,i,p,s,g,w){const L=this.current;L.textMatrix=L.lineMatrix=[e,i,p,s,g,w],L.textMatrixScale=Math.hypot(e,i),L.x=L.lineX=0,L.y=L.lineY=0,L.xcoords=[],L.ycoords=[],L.tspan=this.svgFactory.createElement("svg:tspan"),L.tspan.setAttributeNS(null,"font-family",L.fontFamily),L.tspan.setAttributeNS(null,"font-size",`${n(L.fontSize)}px`),L.tspan.setAttributeNS(null,"y",n(-L.y)),L.txtElement=this.svgFactory.createElement("svg:text"),L.txtElement.appendChild(L.tspan)}beginText(){const e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=m.IDENTITY_MATRIX,e.lineMatrix=m.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}moveText(e,i){const p=this.current;p.x=p.lineX+=e,p.y=p.lineY+=i,p.xcoords=[],p.ycoords=[],p.tspan=this.svgFactory.createElement("svg:tspan"),p.tspan.setAttributeNS(null,"font-family",p.fontFamily),p.tspan.setAttributeNS(null,"font-size",`${n(p.fontSize)}px`),p.tspan.setAttributeNS(null,"y",n(-p.y))}showText(e){const i=this.current,p=i.font,s=i.fontSize;if(0===s)return;const g=i.fontSizeScale,w=i.charSpacing,L=i.wordSpacing,R=i.fontDirection,I=i.textHScale*R,U=p.vertical,H=U?1:-1,Y=p.defaultVMetrics,N=s*i.fontMatrix[0];let z=0;for(const ae of e){if(null===ae){z+=R*L;continue}if("number"==typeof ae){z+=H*ae*s/1e3;continue}const T=(ae.isSpace?L:0)+w,a=ae.fontChar;let u,t,d,c=ae.width;if(U){let P;const v=ae.vmetric||Y;P=ae.vmetric?v[1]:.5*c,P=-P*N,c=v?-v[0]:c,u=P/g,t=(z+v[2]*N)/g}else u=z/g,t=0;(ae.isInFont||p.missingFile)&&(i.xcoords.push(i.x+u),U&&i.ycoords.push(-i.y+t),i.tspan.textContent+=a),d=U?c*N-T*R:c*N+T*R,z+=d}i.tspan.setAttributeNS(null,"x",i.xcoords.map(n).join(" ")),i.tspan.setAttributeNS(null,"y",U?i.ycoords.map(n).join(" "):n(-i.y)),U?i.y-=z:i.x+=z*I,i.tspan.setAttributeNS(null,"font-family",i.fontFamily),i.tspan.setAttributeNS(null,"font-size",`${n(i.fontSize)}px`),i.fontStyle!==J.fontStyle&&i.tspan.setAttributeNS(null,"font-style",i.fontStyle),i.fontWeight!==J.fontWeight&&i.tspan.setAttributeNS(null,"font-weight",i.fontWeight);const K=i.textRenderingMode&m.TextRenderingMode.FILL_STROKE_MASK;K===m.TextRenderingMode.FILL||K===m.TextRenderingMode.FILL_STROKE?(i.fillColor!==J.fillColor&&i.tspan.setAttributeNS(null,"fill",i.fillColor),i.fillAlpha<1&&i.tspan.setAttributeNS(null,"fill-opacity",i.fillAlpha)):i.tspan.setAttributeNS(null,"fill",i.textRenderingMode===m.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(K===m.TextRenderingMode.STROKE||K===m.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(i.tspan,1/(i.textMatrixScale||1));let te=i.textMatrix;0!==i.textRise&&(te=te.slice(),te[5]+=i.textRise),i.txtElement.setAttributeNS(null,"transform",`${h(te)} scale(${n(I)}, -1)`),i.txtElement.setAttributeNS(O,"xml:space","preserve"),i.txtElement.appendChild(i.tspan),i.txtgrp.appendChild(i.txtElement),this._ensureTransformGroup().appendChild(i.txtElement)}setLeadingMoveText(e,i){this.setLeading(-i),this.moveText(e,i)}addFontStyle(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const i=A(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${e.loadedName}"; src: url(${i}); }\n`}setFont(e){const i=this.current,p=this.commonObjs.get(e[0]);let s=e[1];i.font=p,this.embedFonts&&!p.missingFile&&!this.embeddedFonts[p.loadedName]&&(this.addFontStyle(p),this.embeddedFonts[p.loadedName]=p),i.fontMatrix=p.fontMatrix||m.FONT_IDENTITY_MATRIX;let g="normal";p.black?g="900":p.bold&&(g="bold");const w=p.italic?"italic":"normal";s<0?(s=-s,i.fontDirection=-1):i.fontDirection=1,i.fontSize=s,i.fontFamily=p.loadedName,i.fontWeight=g,i.fontStyle=w,i.tspan=this.svgFactory.createElement("svg:tspan"),i.tspan.setAttributeNS(null,"y",n(-i.y)),i.xcoords=[],i.ycoords=[]}endText(){var i;const e=this.current;e.textRenderingMode&m.TextRenderingMode.ADD_TO_PATH_FLAG&&(null==(i=e.txtElement)?void 0:i.hasChildNodes())&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(e){e>0&&(this.current.lineWidth=e)}setLineCap(e){this.current.lineCap=x[e]}setLineJoin(e){this.current.lineJoin=b[e]}setMiterLimit(e){this.current.miterLimit=e}setStrokeAlpha(e){this.current.strokeAlpha=e}setStrokeRGBColor(e,i,p){this.current.strokeColor=m.Util.makeHexColor(e,i,p)}setFillAlpha(e){this.current.fillAlpha=e}setFillRGBColor(e,i,p){this.current.fillColor=m.Util.makeHexColor(e,i,p),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(e){this.current.strokeColor=this._makeColorN_Pattern(e)}setFillColorN(e){this.current.fillColor=this._makeColorN_Pattern(e)}shadingFill(e){const i=this.viewport.width,p=this.viewport.height,s=m.Util.inverseTransform(this.transformMatrix),g=m.Util.applyTransform([0,0],s),w=m.Util.applyTransform([0,p],s),L=m.Util.applyTransform([i,0],s),R=m.Util.applyTransform([i,p],s),I=Math.min(g[0],w[0],L[0],R[0]),U=Math.min(g[1],w[1],L[1],R[1]),H=Math.max(g[0],w[0],L[0],R[0]),Y=Math.max(g[1],w[1],L[1],R[1]),N=this.svgFactory.createElement("svg:rect");N.setAttributeNS(null,"x",I),N.setAttributeNS(null,"y",U),N.setAttributeNS(null,"width",H-I),N.setAttributeNS(null,"height",Y-U),N.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&N.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(N)}_makeColorN_Pattern(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}_makeTilingPattern(e){const i=e[1],p=e[2],s=e[3]||m.IDENTITY_MATRIX,[g,w,L,R]=e[4],I=e[5],U=e[6],H=e[7],Y="shading"+_++,[N,z,K,te]=m.Util.normalizeRect([...m.Util.applyTransform([g,w],s),...m.Util.applyTransform([L,R],s)]),[ae,T]=m.Util.singularValueDecompose2dScale(s),a=I*ae,u=U*T,t=this.svgFactory.createElement("svg:pattern");t.setAttributeNS(null,"id",Y),t.setAttributeNS(null,"patternUnits","userSpaceOnUse"),t.setAttributeNS(null,"width",a),t.setAttributeNS(null,"height",u),t.setAttributeNS(null,"x",`${N}`),t.setAttributeNS(null,"y",`${z}`);const c=this.svg,d=this.transformMatrix,P=this.current.fillColor,v=this.current.strokeColor,E=this.svgFactory.create(K-N,te-z);if(this.svg=E,this.transformMatrix=s,2===H){const B=m.Util.makeHexColor(...i);this.current.fillColor=B,this.current.strokeColor=B}return this.executeOpTree(this.convertOpList(p)),this.svg=c,this.transformMatrix=d,this.current.fillColor=P,this.current.strokeColor=v,t.appendChild(E.childNodes[0]),this.defs.appendChild(t),`url(#${Y})`}_makeShadingPattern(e){switch("string"==typeof e&&(e=this.objs.get(e)),e[0]){case"RadialAxial":const i="shading"+_++,p=e[3];let s;switch(e[1]){case"axial":const g=e[4],w=e[5];s=this.svgFactory.createElement("svg:linearGradient"),s.setAttributeNS(null,"id",i),s.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),s.setAttributeNS(null,"x1",g[0]),s.setAttributeNS(null,"y1",g[1]),s.setAttributeNS(null,"x2",w[0]),s.setAttributeNS(null,"y2",w[1]);break;case"radial":const L=e[4],R=e[5],I=e[6],U=e[7];s=this.svgFactory.createElement("svg:radialGradient"),s.setAttributeNS(null,"id",i),s.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),s.setAttributeNS(null,"cx",R[0]),s.setAttributeNS(null,"cy",R[1]),s.setAttributeNS(null,"r",U),s.setAttributeNS(null,"fx",L[0]),s.setAttributeNS(null,"fy",L[1]),s.setAttributeNS(null,"fr",I);break;default:throw new Error(`Unknown RadialAxial type: ${e[1]}`)}for(const g of p){const w=this.svgFactory.createElement("svg:stop");w.setAttributeNS(null,"offset",g[0]),w.setAttributeNS(null,"stop-color",g[1]),s.appendChild(w)}return this.defs.appendChild(s),`url(#${i})`;case"Mesh":return(0,m.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${e[0]}`)}}setDash(e,i){this.current.dashArray=e,this.current.dashPhase=i}constructPath(e,i){const p=this.current;let s=p.x,g=p.y,w=[],L=0;for(const R of e)switch(0|R){case m.OPS.rectangle:s=i[L++],g=i[L++];const H=s+i[L++],Y=g+i[L++];w.push("M",n(s),n(g),"L",n(H),n(g),"L",n(H),n(Y),"L",n(s),n(Y),"Z");break;case m.OPS.moveTo:s=i[L++],g=i[L++],w.push("M",n(s),n(g));break;case m.OPS.lineTo:s=i[L++],g=i[L++],w.push("L",n(s),n(g));break;case m.OPS.curveTo:s=i[L+4],g=i[L+5],w.push("C",n(i[L]),n(i[L+1]),n(i[L+2]),n(i[L+3]),n(s),n(g)),L+=6;break;case m.OPS.curveTo2:w.push("C",n(s),n(g),n(i[L]),n(i[L+1]),n(i[L+2]),n(i[L+3])),s=i[L+2],g=i[L+3],L+=4;break;case m.OPS.curveTo3:s=i[L+2],g=i[L+3],w.push("C",n(i[L]),n(i[L+1]),n(s),n(g),n(s),n(g)),L+=4;break;case m.OPS.closePath:w.push("Z")}w=w.join(" "),p.path&&e.length>0&&e[0]!==m.OPS.rectangle&&e[0]!==m.OPS.moveTo?w=p.path.getAttributeNS(null,"d")+w:(p.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(p.path)),p.path.setAttributeNS(null,"d",w),p.path.setAttributeNS(null,"fill","none"),p.element=p.path,p.setCurrentPoint(s,g)}endPath(){const e=this.current;if(e.path=null,!this.pendingClip)return;if(!e.element)return void(this.pendingClip=null);const i="clippath"+S++,p=this.svgFactory.createElement("svg:clipPath");p.setAttributeNS(null,"id",i),p.setAttributeNS(null,"transform",h(this.transformMatrix));const s=e.element.cloneNode(!0);if(s.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,p.appendChild(s),this.defs.appendChild(p),e.activeClipUrl){e.clipGroup=null;for(const g of this.extraStack)g.clipGroup=null;p.setAttributeNS(null,"clip-path",e.activeClipUrl)}e.activeClipUrl=`url(#${i})`,this.tgrp=null}clip(e){this.pendingClip=e}closePath(){const e=this.current;if(e.path){const i=`${e.path.getAttributeNS(null,"d")}Z`;e.path.setAttributeNS(null,"d",i)}}setLeading(e){this.current.leading=-e}setTextRise(e){this.current.textRise=e}setTextRenderingMode(e){this.current.textRenderingMode=e}setHScale(e){this.current.textHScale=e/100}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[i,p]of e)switch(i){case"LW":this.setLineWidth(p);break;case"LC":this.setLineCap(p);break;case"LJ":this.setLineJoin(p);break;case"ML":this.setMiterLimit(p);break;case"D":this.setDash(p[0],p[1]);break;case"RI":this.setRenderingIntent(p);break;case"FL":this.setFlatness(p);break;case"Font":this.setFont(p);break;case"CA":this.setStrokeAlpha(p);break;case"ca":this.setFillAlpha(p);break;default:(0,m.warn)(`Unimplemented graphic state operator ${i}`)}}fill(){const e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}stroke(){const e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(e,i=1){const p=this.current;let s=p.dashArray;1!==i&&s.length>0&&(s=s.map(function(g){return i*g})),e.setAttributeNS(null,"stroke",p.strokeColor),e.setAttributeNS(null,"stroke-opacity",p.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",n(p.miterLimit)),e.setAttributeNS(null,"stroke-linecap",p.lineCap),e.setAttributeNS(null,"stroke-linejoin",p.lineJoin),e.setAttributeNS(null,"stroke-width",n(i*p.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",s.map(n).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",n(i*p.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(e)}paintImageXObject(e){const i=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);i?this.paintInlineImageXObject(i):(0,m.warn)(`Dependent image with object ID ${e} is not ready yet`)}paintInlineImageXObject(e,i){const p=e.width,s=e.height,g=y(e,this.forceDataSchema,!!i),w=this.svgFactory.createElement("svg:rect");w.setAttributeNS(null,"x","0"),w.setAttributeNS(null,"y","0"),w.setAttributeNS(null,"width",n(p)),w.setAttributeNS(null,"height",n(s)),this.current.element=w,this.clip("nonzero");const L=this.svgFactory.createElement("svg:image");L.setAttributeNS(l,"xlink:href",g),L.setAttributeNS(null,"x","0"),L.setAttributeNS(null,"y",n(-s)),L.setAttributeNS(null,"width",n(p)+"px"),L.setAttributeNS(null,"height",n(s)+"px"),L.setAttributeNS(null,"transform",`scale(${n(1/p)} ${n(-1/s)})`),i?i.appendChild(L):this._ensureTransformGroup().appendChild(L)}paintImageMaskXObject(e){const i=this.current,p=e.width,s=e.height,g=i.fillColor;i.maskId="mask"+f++;const w=this.svgFactory.createElement("svg:mask");w.setAttributeNS(null,"id",i.maskId);const L=this.svgFactory.createElement("svg:rect");L.setAttributeNS(null,"x","0"),L.setAttributeNS(null,"y","0"),L.setAttributeNS(null,"width",n(p)),L.setAttributeNS(null,"height",n(s)),L.setAttributeNS(null,"fill",g),L.setAttributeNS(null,"mask",`url(#${i.maskId})`),this.defs.appendChild(w),this._ensureTransformGroup().appendChild(L),this.paintInlineImageXObject(e,w)}paintFormXObjectBegin(e,i){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),i){const p=i[2]-i[0],s=i[3]-i[1],g=this.svgFactory.createElement("svg:rect");g.setAttributeNS(null,"x",i[0]),g.setAttributeNS(null,"y",i[1]),g.setAttributeNS(null,"width",n(p)),g.setAttributeNS(null,"height",n(s)),this.current.element=g,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(e){const i=this.svgFactory.create(e.width,e.height),p=this.svgFactory.createElement("svg:defs");i.appendChild(p),this.defs=p;const s=this.svgFactory.createElement("svg:g");return s.setAttributeNS(null,"transform",h(e.transform)),i.appendChild(s),this.svg=s,i}_ensureClipGroup(){if(!this.current.clipGroup){const e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(e),this.current.clipGroup=e}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",h(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(de,M,ne)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFNodeStream=void 0;var m=ne(1),he=ne(26);const $=__webpack_require__(172),q=__webpack_require__(2001),J=__webpack_require__(3779),O=__webpack_require__(6558),l=/^file:\/\/\/[a-zA-Z]:\//;M.PDFNodeStream=class{constructor(_){this.source=_,this.url=function(f){const _=O.parse(f);return"file:"===_.protocol||_.host?_:/^[a-z]:[/\\]/i.test(f)?O.parse(`file:///${f}`):(_.host||(_.protocol="file:"),_)}(_.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&_.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var _,e;return null!=(e=null==(_=this._fullRequestReader)?void 0:_._loaded)?e:0}getFullReader(){return(0,m.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new h(this):new r(this),this._fullRequestReader}getRangeReader(_,e){if(e<=this._progressiveDataLength)return null;const i=this.isFsUrl?new S(this,_,e):new n(this,_,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(_){this._fullRequestReader&&this._fullRequestReader.cancel(_);for(const e of this._rangeRequestReaders.slice(0))e.cancel(_)}};class A{constructor(_){this._url=_.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=_.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=(0,m.createPromiseCapability)(),this._headersCapability=(0,m.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var _=this;return _asyncToGenerator(function*(){if(yield _._readCapability.promise,_._done)return{value:void 0,done:!0};if(_._storedError)throw _._storedError;const e=_._readableStream.read();return null===e?(_._readCapability=(0,m.createPromiseCapability)(),_.read()):(_._loaded+=e.length,_.onProgress&&_.onProgress({loaded:_._loaded,total:_._contentLength}),{value:new Uint8Array(e).buffer,done:!1})})()}cancel(_){this._readableStream?this._readableStream.destroy(_):this._error(_)}_error(_){this._storedError=_,this._readCapability.resolve()}_setReadableStream(_){this._readableStream=_,_.on("readable",()=>{this._readCapability.resolve()}),_.on("end",()=>{_.destroy(),this._done=!0,this._readCapability.resolve()}),_.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new m.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class y{constructor(_){this._url=_.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,m.createPromiseCapability)(),this._isStreamingSupported=!_.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var _=this;return _asyncToGenerator(function*(){if(yield _._readCapability.promise,_._done)return{value:void 0,done:!0};if(_._storedError)throw _._storedError;const e=_._readableStream.read();return null===e?(_._readCapability=(0,m.createPromiseCapability)(),_.read()):(_._loaded+=e.length,_.onProgress&&_.onProgress({loaded:_._loaded}),{value:new Uint8Array(e).buffer,done:!1})})()}cancel(_){this._readableStream?this._readableStream.destroy(_):this._error(_)}_error(_){this._storedError=_,this._readCapability.resolve()}_setReadableStream(_){this._readableStream=_,_.on("readable",()=>{this._readCapability.resolve()}),_.on("end",()=>{_.destroy(),this._done=!0,this._readCapability.resolve()}),_.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function o(f,_){return{protocol:f.protocol,auth:f.auth,host:f.hostname,port:f.port,path:f.path,method:"GET",headers:_}}class r extends A{constructor(_){super(_);const e=i=>{if(404===i.statusCode){const w=new m.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=w,void this._headersCapability.reject(w)}this._headersCapability.resolve(),this._setReadableStream(i);const p=w=>this._readableStream.headers[w.toLowerCase()],{allowRangeRequests:s,suggestedLength:g}=(0,he.validateRangeRequestCapabilities)({getResponseHeader:p,isHttp:_.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=g||this._contentLength,this._filename=(0,he.extractFilenameFromHeader)(p)};this._request=null,this._request="http:"===this._url.protocol?q.request(o(this._url,_.httpHeaders),e):J.request(o(this._url,_.httpHeaders),e),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class n extends y{constructor(_,e,i){super(_),this._httpHeaders={};for(const s in _.httpHeaders){const g=_.httpHeaders[s];void 0!==g&&(this._httpHeaders[s]=g)}this._httpHeaders.Range=`bytes=${e}-${i-1}`;const p=s=>{if(404!==s.statusCode)this._setReadableStream(s);else{const g=new m.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=g}};this._request=null,this._request="http:"===this._url.protocol?q.request(o(this._url,this._httpHeaders),p):J.request(o(this._url,this._httpHeaders),p),this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class h extends A{constructor(_){super(_);let e=decodeURIComponent(this._url.path);l.test(this._url.href)&&(e=e.replace(/^\//,"")),$.lstat(e,(i,p)=>{if(i)return"ENOENT"===i.code&&(i=new m.MissingPDFException(`Missing PDF "${e}".`)),this._storedError=i,void this._headersCapability.reject(i);this._contentLength=p.size,this._setReadableStream($.createReadStream(e)),this._headersCapability.resolve()})}}class S extends y{constructor(_,e,i){super(_);let p=decodeURIComponent(this._url.path);l.test(this._url.href)&&(p=p.replace(/^\//,"")),this._setReadableStream($.createReadStream(p,{start:e,end:i-1}))}}},(de,M,ne)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.createResponseStatusError=function(x,b){return 404===x||0===x&&b.startsWith("file:")?new m.MissingPDFException('Missing PDF "'+b+'".'):new m.UnexpectedResponseException(`Unexpected server response (${x}) while retrieving PDF "${b}".`,x)},M.extractFilenameFromHeader=function(x){const b=x("Content-Disposition");if(b){let A=(0,he.getFilenameFromContentDispositionHeader)(b);if(A.includes("%"))try{A=decodeURIComponent(A)}catch(y){}if((0,$.isPdfFile)(A))return A}return null},M.validateRangeRequestCapabilities=function({getResponseHeader:x,isHttp:b,rangeChunkSize:A,disableRange:y}){const o={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(x("Content-Length"),10);return!Number.isInteger(r)||(o.suggestedLength=r,r<=2*A)||y||!b||"bytes"!==x("Accept-Ranges")||"identity"!==(x("Content-Encoding")||"identity")||(o.allowRangeRequests=!0),o},M.validateResponseStatus=function(x){return 200===x||206===x};var m=ne(1),he=ne(27),$=ne(5)},(de,M,ne)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.getFilenameFromContentDispositionHeader=function($){let q=!0,J=O("filename\\*","i").exec($);if(J){J=J[1];let r=A(J);return r=unescape(r),r=y(r),r=o(r),x(r)}if(J=function(r){const n=[];let h;const S=O("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(h=S.exec(r));){let[,_,e,i]=h;if(_=parseInt(_,10),_ in n){if(0===_)break}else n[_]=[e,i]}const f=[];for(let _=0;_<n.length&&_ in n;++_){let[e,i]=n[_];i=A(i),e&&(i=unescape(i),0===_&&(i=y(i))),f.push(i)}return f.join("")}($),J)return x(o(J));if(J=O("filename","i").exec($),J){J=J[1];let r=A(J);return r=o(r),x(r)}function O(r,n){return new RegExp("(?:^|;)\\s*"+r+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',n)}function l(r,n){if(r){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const h=new TextDecoder(r,{fatal:!0}),S=(0,m.stringToBytes)(n);n=h.decode(S),q=!1}catch(h){}}return n}function x(r){return q&&/[\x80-\xff]/.test(r)&&(r=l("utf-8",r),q&&(r=l("iso-8859-1",r))),r}function A(r){if(r.startsWith('"')){const n=r.slice(1).split('\\"');for(let h=0;h<n.length;++h){const S=n[h].indexOf('"');-1!==S&&(n[h]=n[h].slice(0,S),n.length=h+1),n[h]=n[h].replace(/\\(.)/g,"$1")}r=n.join('"')}return r}function y(r){const n=r.indexOf("'");return-1===n?r:l(r.slice(0,n),r.slice(n+1).replace(/^[^']*'/,""))}function o(r){return!r.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(r)?r:r.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(n,h,S,f){if("q"===S||"Q"===S)return l(h,f=(f=f.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(_,e){return String.fromCharCode(parseInt(e,16))}));try{f=atob(f)}catch(_){}return l(h,f)})}return""};var m=ne(1)},(de,M,ne)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFNetworkStream=void 0;var m=ne(1),he=ne(26);class O{constructor(y,o={}){this.url=y,this.isHttp=/^https?:/i.test(y),this.httpHeaders=this.isHttp&&o.httpHeaders||Object.create(null),this.withCredentials=o.withCredentials||!1,this.getXhr=o.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(y,o,r){const n={begin:y,end:o};for(const h in r)n[h]=r[h];return this.request(n)}requestFull(y){return this.request(y)}request(y){const o=this.getXhr(),r=this.currXhrId++,n=this.pendingRequests[r]={xhr:o};o.open("GET",this.url),o.withCredentials=this.withCredentials;for(const h in this.httpHeaders){const S=this.httpHeaders[h];void 0!==S&&o.setRequestHeader(h,S)}return this.isHttp&&"begin"in y&&"end"in y?(o.setRequestHeader("Range",`bytes=${y.begin}-${y.end-1}`),n.expectedStatus=206):n.expectedStatus=200,o.responseType="arraybuffer",y.onError&&(o.onerror=function(h){y.onError(o.status)}),o.onreadystatechange=this.onStateChange.bind(this,r),o.onprogress=this.onProgress.bind(this,r),n.onHeadersReceived=y.onHeadersReceived,n.onDone=y.onDone,n.onError=y.onError,n.onProgress=y.onProgress,o.send(null),r}onProgress(y,o){var n;const r=this.pendingRequests[y];!r||null==(n=r.onProgress)||n.call(r,o)}onStateChange(y,o){var _,e,i;const r=this.pendingRequests[y];if(!r)return;const n=r.xhr;if(n.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),4!==n.readyState||!(y in this.pendingRequests))return;if(delete this.pendingRequests[y],0===n.status&&this.isHttp)return void(null==(_=r.onError)||_.call(r,n.status));const h=n.status||200;if((200!==h||206!==r.expectedStatus)&&h!==r.expectedStatus)return void(null==(e=r.onError)||e.call(r,n.status));const f=function(A){const y=A.response;return"string"!=typeof y?y:(0,m.stringToBytes)(y).buffer}(n);if(206===h){const p=n.getResponseHeader("Content-Range"),s=/bytes (\d+)-(\d+)\/(\d+)/.exec(p);r.onDone({begin:parseInt(s[1],10),chunk:f})}else f?r.onDone({begin:0,chunk:f}):null==(i=r.onError)||i.call(r,n.status)}getRequestXhr(y){return this.pendingRequests[y].xhr}isPendingRequest(y){return y in this.pendingRequests}abortRequest(y){const o=this.pendingRequests[y].xhr;delete this.pendingRequests[y],o.abort()}}M.PDFNetworkStream=class{constructor(y){this._source=y,this._manager=new O(y.url,{httpHeaders:y.httpHeaders,withCredentials:y.withCredentials}),this._rangeChunkSize=y.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(y){const o=this._rangeRequestReaders.indexOf(y);o>=0&&this._rangeRequestReaders.splice(o,1)}getFullReader(){return(0,m.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new x(this._manager,this._source),this._fullRequestReader}getRangeReader(y,o){const r=new b(this._manager,y,o);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(y){var o;null==(o=this._fullRequestReader)||o.cancel(y);for(const r of this._rangeRequestReaders.slice(0))r.cancel(y)}};class x{constructor(y,o){this._manager=y;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=o.url,this._fullRequestId=y.requestFull(r),this._headersReceivedCapability=(0,m.createPromiseCapability)(),this._disableRange=o.disableRange||!1,this._contentLength=o.length,this._rangeChunkSize=o.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const y=this._fullRequestId,o=this._manager.getRequestXhr(y),r=S=>o.getResponseHeader(S),{allowRangeRequests:n,suggestedLength:h}=(0,he.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});n&&(this._isRangeSupported=!0),this._contentLength=h||this._contentLength,this._filename=(0,he.extractFilenameFromHeader)(r),this._isRangeSupported&&this._manager.abortRequest(y),this._headersReceivedCapability.resolve()}_onDone(y){if(y&&(this._requests.length>0?this._requests.shift().resolve({value:y.chunk,done:!1}):this._cachedChunks.push(y.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(y){this._storedError=(0,he.createResponseStatusError)(y,this._url),this._headersReceivedCapability.reject(this._storedError);for(const o of this._requests)o.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(y){var o;null==(o=this.onProgress)||o.call(this,{loaded:y.loaded,total:y.lengthComputable?y.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var y=this;return _asyncToGenerator(function*(){if(y._storedError)throw y._storedError;if(y._cachedChunks.length>0)return{value:y._cachedChunks.shift(),done:!1};if(y._done)return{value:void 0,done:!0};const o=(0,m.createPromiseCapability)();return y._requests.push(o),o.promise})()}cancel(y){this._done=!0,this._headersReceivedCapability.reject(y);for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class b{constructor(y,o,r){this._manager=y;const n={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=y.url,this._requestId=y.requestRange(o,r,n),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var y;null==(y=this.onClosed)||y.call(this,this)}_onDone(y){const o=y.chunk;this._requests.length>0?this._requests.shift().resolve({value:o,done:!1}):this._queuedChunk=o,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(y){this._storedError=(0,he.createResponseStatusError)(y,this._url);for(const o of this._requests)o.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(y){var o;this.isStreamingSupported||null==(o=this.onProgress)||o.call(this,{loaded:y.loaded})}get isStreamingSupported(){return!1}read(){var y=this;return _asyncToGenerator(function*(){if(y._storedError)throw y._storedError;if(null!==y._queuedChunk){const r=y._queuedChunk;return y._queuedChunk=null,{value:r,done:!1}}if(y._done)return{value:void 0,done:!0};const o=(0,m.createPromiseCapability)();return y._requests.push(o),o.promise})()}cancel(y){this._done=!0;for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(de,M,ne)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFFetchStream=void 0;var m=ne(1),he=ne(26);function $(x,b,A){return{method:"GET",headers:x,signal:null==A?void 0:A.signal,mode:"cors",credentials:b?"include":"same-origin",redirect:"follow"}}function q(x){const b=new Headers;for(const A in x){const y=x[A];void 0!==y&&b.append(A,y)}return b}M.PDFFetchStream=class{constructor(b){this.source=b,this.isHttp=/^https?:/i.test(b.url),this.httpHeaders=this.isHttp&&b.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var b,A;return null!=(A=null==(b=this._fullRequestReader)?void 0:b._loaded)?A:0}getFullReader(){return(0,m.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new O(this),this._fullRequestReader}getRangeReader(b,A){if(A<=this._progressiveDataLength)return null;const y=new l(this,b,A);return this._rangeRequestReaders.push(y),y}cancelAllRequests(b){this._fullRequestReader&&this._fullRequestReader.cancel(b);for(const A of this._rangeRequestReaders.slice(0))A.cancel(b)}};class O{constructor(b){this._stream=b,this._reader=null,this._loaded=0,this._filename=null;const A=b.source;this._withCredentials=A.withCredentials||!1,this._contentLength=A.length,this._headersCapability=(0,m.createPromiseCapability)(),this._disableRange=A.disableRange||!1,this._rangeChunkSize=A.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!A.disableStream,this._isRangeSupported=!A.disableRange,this._headers=q(this._stream.httpHeaders);const y=A.url;fetch(y,$(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!(0,he.validateResponseStatus)(o.status))throw(0,he.createResponseStatusError)(o.status,y);this._reader=o.body.getReader(),this._headersCapability.resolve();const r=S=>o.headers.get(S),{allowRangeRequests:n,suggestedLength:h}=(0,he.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=n,this._contentLength=h||this._contentLength,this._filename=(0,he.extractFilenameFromHeader)(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new m.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var b=this;return _asyncToGenerator(function*(){yield b._headersCapability.promise;const{value:A,done:y}=yield b._reader.read();return y?{value:A,done:y}:(b._loaded+=A.byteLength,b.onProgress&&b.onProgress({loaded:b._loaded,total:b._contentLength}),{value:new Uint8Array(A).buffer,done:!1})})()}cancel(b){this._reader&&this._reader.cancel(b),this._abortController&&this._abortController.abort()}}class l{constructor(b,A,y){this._stream=b,this._reader=null,this._loaded=0;const o=b.source;this._withCredentials=o.withCredentials||!1,this._readCapability=(0,m.createPromiseCapability)(),this._isStreamingSupported=!o.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=q(this._stream.httpHeaders),this._headers.append("Range",`bytes=${A}-${y-1}`);const r=o.url;fetch(r,$(this._headers,this._withCredentials,this._abortController)).then(n=>{if(!(0,he.validateResponseStatus)(n.status))throw(0,he.createResponseStatusError)(n.status,r);this._readCapability.resolve(),this._reader=n.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var b=this;return _asyncToGenerator(function*(){yield b._readCapability.promise;const{value:A,done:y}=yield b._reader.read();return y?{value:A,done:y}:(b._loaded+=A.byteLength,b.onProgress&&b.onProgress({loaded:b._loaded}),{value:new Uint8Array(A).buffer,done:!1})})()}cancel(b){this._reader&&this._reader.cancel(b),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(de){var M=__webpack_module_cache__[de];if(void 0!==M)return M.exports;var ne=__webpack_module_cache__[de]={exports:{}};return __webpack_modules__[de](ne,ne.exports,__w_pdfjs_require__),ne.exports}var __webpack_exports__={};return(()=>{var de=__webpack_exports__;Object.defineProperty(de,"__esModule",{value:!0}),Object.defineProperty(de,"AnnotationLayer",{enumerable:!0,get:function(){return he.AnnotationLayer}}),Object.defineProperty(de,"AnnotationMode",{enumerable:!0,get:function(){return M.AnnotationMode}}),Object.defineProperty(de,"CMapCompressionType",{enumerable:!0,get:function(){return M.CMapCompressionType}}),Object.defineProperty(de,"GlobalWorkerOptions",{enumerable:!0,get:function(){return $.GlobalWorkerOptions}}),Object.defineProperty(de,"InvalidPDFException",{enumerable:!0,get:function(){return M.InvalidPDFException}}),Object.defineProperty(de,"LoopbackPort",{enumerable:!0,get:function(){return ne.LoopbackPort}}),Object.defineProperty(de,"MissingPDFException",{enumerable:!0,get:function(){return M.MissingPDFException}}),Object.defineProperty(de,"OPS",{enumerable:!0,get:function(){return M.OPS}}),Object.defineProperty(de,"PDFDataRangeTransport",{enumerable:!0,get:function(){return ne.PDFDataRangeTransport}}),Object.defineProperty(de,"PDFDateString",{enumerable:!0,get:function(){return m.PDFDateString}}),Object.defineProperty(de,"PDFWorker",{enumerable:!0,get:function(){return ne.PDFWorker}}),Object.defineProperty(de,"PasswordResponses",{enumerable:!0,get:function(){return M.PasswordResponses}}),Object.defineProperty(de,"PermissionFlag",{enumerable:!0,get:function(){return M.PermissionFlag}}),Object.defineProperty(de,"PixelsPerInch",{enumerable:!0,get:function(){return m.PixelsPerInch}}),Object.defineProperty(de,"RenderingCancelledException",{enumerable:!0,get:function(){return m.RenderingCancelledException}}),Object.defineProperty(de,"SVGGraphics",{enumerable:!0,get:function(){return O.SVGGraphics}}),Object.defineProperty(de,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return M.UNSUPPORTED_FEATURES}}),Object.defineProperty(de,"UnexpectedResponseException",{enumerable:!0,get:function(){return M.UnexpectedResponseException}}),Object.defineProperty(de,"Util",{enumerable:!0,get:function(){return M.Util}}),Object.defineProperty(de,"VerbosityLevel",{enumerable:!0,get:function(){return M.VerbosityLevel}}),Object.defineProperty(de,"XfaLayer",{enumerable:!0,get:function(){return l.XfaLayer}}),Object.defineProperty(de,"build",{enumerable:!0,get:function(){return ne.build}}),Object.defineProperty(de,"createPromiseCapability",{enumerable:!0,get:function(){return M.createPromiseCapability}}),Object.defineProperty(de,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return M.createValidAbsoluteUrl}}),Object.defineProperty(de,"getDocument",{enumerable:!0,get:function(){return ne.getDocument}}),Object.defineProperty(de,"getFilenameFromUrl",{enumerable:!0,get:function(){return m.getFilenameFromUrl}}),Object.defineProperty(de,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return m.getPdfFilenameFromUrl}}),Object.defineProperty(de,"getXfaPageViewport",{enumerable:!0,get:function(){return m.getXfaPageViewport}}),Object.defineProperty(de,"isPdfFile",{enumerable:!0,get:function(){return m.isPdfFile}}),Object.defineProperty(de,"loadScript",{enumerable:!0,get:function(){return m.loadScript}}),Object.defineProperty(de,"renderTextLayer",{enumerable:!0,get:function(){return J.renderTextLayer}}),Object.defineProperty(de,"shadow",{enumerable:!0,get:function(){return M.shadow}}),Object.defineProperty(de,"version",{enumerable:!0,get:function(){return ne.version}});var M=__w_pdfjs_require__(1),ne=__w_pdfjs_require__(4),m=__w_pdfjs_require__(5),he=__w_pdfjs_require__(20),$=__w_pdfjs_require__(13),q=__w_pdfjs_require__(3),J=__w_pdfjs_require__(23),O=__w_pdfjs_require__(24),l=__w_pdfjs_require__(22);if(q.isNodeJS){const{PDFNodeStream:A}=__w_pdfjs_require__(25);(0,ne.setPDFNetworkStreamFactory)(y=>new A(y))}else{const{PDFNetworkStream:A}=__w_pdfjs_require__(28),{PDFFetchStream:y}=__w_pdfjs_require__(29);(0,ne.setPDFNetworkStreamFactory)(o=>(0,m.isValidFetchUrl)(o.url)?new y(o):new A(o))}})(),__webpack_exports__})(),module.exports=ne()},2813:function(de,M,ne){var q,m=ne(8926).default;q=()=>(()=>{"use strict";var he=[,(O,l,x)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DefaultXfaLayerFactory=l.DefaultTextLayerFactory=l.DefaultStructTreeLayerFactory=l.DefaultAnnotationLayerFactory=void 0;var b=x(2),A=x(4),y=x(5),o=x(7),r=x(8),n=x(9);l.DefaultAnnotationLayerFactory=class{createAnnotationLayerBuilder(i,p,s=null,g="",w=!0,L=A.NullL10n,R=!1,I=null,U=null,H=null,Y=null){return new b.AnnotationLayerBuilder({pageDiv:i,pdfPage:p,imageResourcesPath:g,renderForms:w,linkService:new y.SimpleLinkService,l10n:L,annotationStorage:s,enableScripting:R,hasJSActionsPromise:I,fieldObjectsPromise:H,mouseState:U,annotationCanvasMap:Y})}},l.DefaultStructTreeLayerFactory=class{createStructTreeLayerBuilder(i){return new o.StructTreeLayerBuilder({pdfPage:i})}},l.DefaultTextLayerFactory=class{createTextLayerBuilder(i,p,s,g=!1,w,L){return new r.TextLayerBuilder({textLayerDiv:i,pageIndex:p,viewport:s,enhanceTextSelection:g,eventBus:w,highlighter:L})}},l.DefaultXfaLayerFactory=class{createXfaLayerBuilder(i,p,s=null,g=null){return new n.XfaLayerBuilder({pageDiv:i,pdfPage:p,annotationStorage:s,linkService:new y.SimpleLinkService,xfaHtml:g})}}},(O,l,x)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.AnnotationLayerBuilder=void 0;var b=x(3),A=x(4);l.AnnotationLayerBuilder=class{constructor({pageDiv:r,pdfPage:n,linkService:h,downloadManager:S,annotationStorage:f=null,imageResourcesPath:_="",renderForms:e=!0,l10n:i=A.NullL10n,enableScripting:p=!1,hasJSActionsPromise:s=null,fieldObjectsPromise:g=null,mouseState:w=null,annotationCanvasMap:L=null}){this.pageDiv=r,this.pdfPage=n,this.linkService=h,this.downloadManager=S,this.imageResourcesPath=_,this.renderForms=e,this.l10n=i,this.annotationStorage=f,this.enableScripting=p,this._hasJSActionsPromise=s,this._fieldObjectsPromise=g,this._mouseState=w,this._annotationCanvasMap=L,this.div=null,this._cancelled=!1}render(r,n="display"){var h=this;return m(function*(){const[S,f=!1,_=null]=yield Promise.all([h.pdfPage.getAnnotations({intent:n}),h._hasJSActionsPromise,h._fieldObjectsPromise]);if(h._cancelled||0===S.length)return;const e={viewport:r.clone({dontFlip:!0}),div:h.div,annotations:S,page:h.pdfPage,imageResourcesPath:h.imageResourcesPath,renderForms:h.renderForms,linkService:h.linkService,downloadManager:h.downloadManager,annotationStorage:h.annotationStorage,enableScripting:h.enableScripting,hasJSActions:f,fieldObjects:_,mouseState:h._mouseState,annotationCanvasMap:h._annotationCanvasMap};h.div?b.AnnotationLayer.update(e):(h.div=document.createElement("div"),h.div.className="annotationLayer",h.pageDiv.appendChild(h.div),e.div=h.div,b.AnnotationLayer.render(e),h.l10n.translate(h.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},O=>{let l;l="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:ne(6036),O.exports=l},(O,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.NullL10n=void 0,l.fixupLangCode=function(n){return A[null==n?void 0:n.toLowerCase()]||n},l.getL10nFallback=b;const x={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function b(n,h){switch(n){case"find_match_count":n=`find_match_count[${1===h.total?"one":"other"}]`;break;case"find_match_count_limit":n=`find_match_count_limit[${1===h.limit?"one":"other"}]`}return x[n]||""}const A={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};l.NullL10n={getLanguage:()=>m(function*(){return"en-us"})(),getDirection:()=>m(function*(){return"ltr"})(),get:(n,h=null,S=b(n,h))=>m(function*(){return function(n,h){return h?n.replace(/\{\{\s*(\w+)\s*\}\}/g,(S,f)=>f in h?h[f]:"{{"+f+"}}"):n}(S,h)})(),translate:n=>m(function*(){})()}},(O,l,x)=>{var h,S,rt,_,bt;Object.defineProperty(l,"__esModule",{value:!0}),l.SimpleLinkService=l.PDFLinkService=l.LinkTarget=void 0;var b=x(6);const y={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function o(p,{url:s,target:g,rel:w,enabled:L=!0}={}){if(!s||"string"!=typeof s)throw new Error('A valid "url" parameter must provided.');const R=(0,b.removeNullCharacters)(s);L?p.href=p.title=R:(p.href="",p.title=`Disabled: ${R}`,p.onclick=()=>!1);let I="";switch(g){case y.NONE:break;case y.SELF:I="_self";break;case y.BLANK:I="_blank";break;case y.PARENT:I="_parent";break;case y.TOP:I="_top"}p.target=I,p.rel="string"==typeof w?w:"noopener noreferrer nofollow"}l.LinkTarget=y;const i=class{constructor({eventBus:s,externalLinkTarget:g=null,externalLinkRel:w=null,ignoreDestinationZoom:L=!1}={}){ve(this,S),ve(this,h,new Map),this.eventBus=s,this.externalLinkTarget=g,this.externalLinkRel=w,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=L,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(s,g=null){this.baseUrl=g,this.pdfDocument=s,Ae(this,h).clear()}setViewer(s){this.pdfViewer=s}setHistory(s){this.pdfHistory=s}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(s){this.pdfViewer.currentPageNumber=s}get rotation(){return this.pdfViewer.pagesRotation}set rotation(s){this.pdfViewer.pagesRotation=s}goToDestination(s){var g=this;return m(function*(){var R;if(!g.pdfDocument)return;let w,L;"string"==typeof s?(w=s,L=yield g.pdfDocument.getDestination(s)):(w=null,L=yield s),Array.isArray(L)?ye(R=g,S,rt).call(R,s,w,L):console.error(`PDFLinkService.goToDestination: "${L}" is not a valid destination array, for dest="${s}".`)})()}goToPage(s){if(!this.pdfDocument)return;const g="string"==typeof s&&this.pdfViewer.pageLabelToPageNumber(s)||0|s;Number.isInteger(g)&&g>0&&g<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(g)),this.pdfViewer.scrollPageIntoView({pageNumber:g})):console.error(`PDFLinkService.goToPage: "${s}" is not a valid page.`)}addLinkAttributes(s,g,w=!1){o(s,{url:g,target:w?y.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(s){if("string"==typeof s){if(s.length>0)return this.getAnchorUrl("#"+escape(s))}else if(Array.isArray(s)){const g=JSON.stringify(s);if(g.length>0)return this.getAnchorUrl("#"+escape(g))}return this.getAnchorUrl("")}getAnchorUrl(s){return(this.baseUrl||"")+s}setHash(s){var L;if(!this.pdfDocument)return;let g,w;if(s.includes("=")){const R=(0,b.parseQueryString)(s);if(R.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:R.get("search").replace(/"/g,""),phraseSearch:"true"===R.get("phrase")}),R.has("page")&&(g=0|R.get("page")||1),R.has("zoom")){const I=R.get("zoom").split(","),U=I[0],H=parseFloat(U);U.includes("Fit")?"Fit"===U||"FitB"===U?w=[null,{name:U}]:"FitH"===U||"FitBH"===U||"FitV"===U||"FitBV"===U?w=[null,{name:U},I.length>1?0|I[1]:null]:"FitR"===U?5!==I.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):w=[null,{name:U},0|I[1],0|I[2],0|I[3],0|I[4]]:console.error(`PDFLinkService.setHash: "${U}" is not a valid zoom value.`):w=[null,{name:"XYZ"},I.length>1?0|I[1]:null,I.length>2?0|I[2]:null,H?H/100:U]}w?this.pdfViewer.scrollPageIntoView({pageNumber:g||this.page,destArray:w,allowNegativeOffset:!0}):g&&(this.page=g),R.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:R.get("pagemode")}),R.has("nameddest")&&this.goToDestination(R.get("nameddest"))}else{w=unescape(s);try{w=JSON.parse(w),Array.isArray(w)||(w=w.toString())}catch(R){}if("string"==typeof w||ye(L=i,_,bt).call(L,w))return void this.goToDestination(w);console.error(`PDFLinkService.setHash: "${unescape(s)}" is not a valid destination.`)}}executeNamedAction(s){var g,w;switch(s){case"GoBack":null==(g=this.pdfHistory)||g.back();break;case"GoForward":null==(w=this.pdfHistory)||w.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:s})}cachePageRef(s,g){if(!g)return;const w=0===g.gen?`${g.num}R`:`${g.num}R${g.gen}`;Ae(this,h).set(w,s)}_cachedPageNumber(s){if(!s)return null;const g=0===s.gen?`${s.num}R`:`${s.num}R${s.gen}`;return Ae(this,h).get(g)||null}isPageVisible(s){return this.pdfViewer.isPageVisible(s)}isPageCached(s){return this.pdfViewer.isPageCached(s)}};let r=i;h=new WeakMap,S=new WeakSet,rt=function(s,g=null,w){const L=w[0];let R;if("object"==typeof L&&null!==L){if(R=this._cachedPageNumber(L),!R)return void this.pdfDocument.getPageIndex(L).then(I=>{this.cachePageRef(I+1,L),ye(this,S,rt).call(this,s,g,w)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${L}" is not a valid page reference, for dest="${s}".`)})}else{if(!Number.isInteger(L))return void console.error(`PDFLinkService.#goToDestinationHelper: "${L}" is not a valid destination reference, for dest="${s}".`);R=L+1}!R||R<1||R>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${R}" is not a valid page number, for dest="${s}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:g,explicitDest:w,pageNumber:R})),this.pdfViewer.scrollPageIntoView({pageNumber:R,destArray:w,ignoreDestinationZoom:this._ignoreDestinationZoom}))},_=new WeakSet,bt=function(s){if(!Array.isArray(s))return!1;const g=s.length;if(g<2)return!1;const w=s[0];if(!("object"==typeof w&&Number.isInteger(w.num)&&Number.isInteger(w.gen)||Number.isInteger(w)&&w>=0))return!1;const L=s[1];if("object"!=typeof L||"string"!=typeof L.name)return!1;let R=!0;switch(L.name){case"XYZ":if(5!==g)return!1;break;case"Fit":case"FitB":return 2===g;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==g)return!1;break;case"FitR":if(6!==g)return!1;R=!1;break;default:return!1}for(let I=2;I<g;I++){const U=s[I];if(!("number"==typeof U||R&&null===U))return!1}return!0},ve(r,_),l.PDFLinkService=r,l.SimpleLinkService=class{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(s){}get rotation(){return 0}set rotation(s){}goToDestination(s){return m(function*(){})()}goToPage(s){}addLinkAttributes(s,g,w=!1){o(s,{url:g,enabled:this.externalLinkEnabled})}getDestinationHash(s){return"#"}getAnchorUrl(s){return"#"}setHash(s){}executeNamedAction(s){}cachePageRef(s,g){}isPageVisible(s){return!0}isPageCached(s){return!0}}},(O,l)=>{var oe,At;Object.defineProperty(l,"__esModule",{value:!0}),l.animationStarted=l.VERTICAL_PADDING=l.UNKNOWN_SCALE=l.TextLayerMode=l.SpreadMode=l.SidebarView=l.ScrollMode=l.SCROLLBAR_PADDING=l.RenderingStates=l.RendererType=l.ProgressBar=l.PresentationModeState=l.OutputScale=l.MIN_SCALE=l.MAX_SCALE=l.MAX_AUTO_SCALE=l.DEFAULT_SCALE_VALUE=l.DEFAULT_SCALE_DELTA=l.DEFAULT_SCALE=l.AutoPrintRegExp=void 0,l.apiPageLayoutToViewerModes=function(Z){let re=s.VERTICAL,ie=g.NONE;switch(Z){case"SinglePage":re=s.PAGE;break;case"OneColumn":break;case"TwoPageLeft":re=s.PAGE;case"TwoColumnLeft":ie=g.ODD;break;case"TwoPageRight":re=s.PAGE;case"TwoColumnRight":ie=g.EVEN}return{scrollMode:re,spreadMode:ie}},l.apiPageModeToSidebarView=function(Z){switch(Z){case"UseNone":return e.NONE;case"UseThumbs":return e.THUMBS;case"UseOutlines":return e.OUTLINE;case"UseAttachments":return e.ATTACHMENTS;case"UseOC":return e.LAYERS}return e.NONE},l.approximateFraction=function(Z){if(Math.floor(Z)===Z)return[Z,1];const re=1/Z;if(re>8)return[1,8];if(Math.floor(re)===re)return[1,re];const C=Z>1?re:Z;let fe,D=0,G=1,ue=1,le=1;for(;;){const me=D+ue,be=G+le;if(be>8)break;C<=me/be?(ue=me,le=be):(D=me,G=be)}return fe=C-D/G<ue/le-C?C===Z?[D,G]:[G,D]:C===Z?[ue,le]:[le,ue],fe},l.backtrackBeforeAllVisibleElements=T,l.binarySearchFirstItem=z,l.getActiveOrFocusedElement=function(){let Z=document,re=Z.activeElement||Z.querySelector(":focus");for(;null==re?void 0:re.shadowRoot;)Z=re.shadowRoot,re=Z.activeElement||Z.querySelector(":focus");return re},l.getPageSizeInches=function({view:Z,userUnit:re,rotate:ie}){const[C,D,G,ue]=Z,le=ie%180!=0,fe=(G-C)/72*re,me=(ue-D)/72*re;return{width:le?me:fe,height:le?fe:me}},l.getVisibleElements=function({scrollEl:Z,views:re,sortByVisibility:ie=!1,horizontal:C=!1,rtl:D=!1}){const G=Z.scrollTop,ue=G+Z.clientHeight,le=Z.scrollLeft,fe=le+Z.clientWidth,Se=[],Ce=new Set,Ee=re.length;let ee=z(re,C?function(ce){const pe=ce.div,ge=pe.offsetLeft+pe.clientLeft;return D?ge<fe:ge+pe.clientWidth>le}:function(ce){const pe=ce.div;return pe.offsetTop+pe.clientTop+pe.clientHeight>G});ee>0&&ee<Ee&&!C&&(ee=T(ee,re,G));let k=C?fe:-1;for(let ce=ee;ce<Ee;ce++){const pe=re[ce],ge=pe.div,Pe=ge.offsetLeft+ge.clientLeft,we=ge.offsetTop+ge.clientTop,Me=ge.clientWidth,xe=ge.clientHeight,Re=Pe+Me,ke=we+xe;if(-1===k)ke>=ue&&(k=ke);else if((C?Pe:we)>k)break;if(ke<=G||we>=ue||Re<=le||Pe>=fe)continue;const Ie=Math.max(0,G-we)+Math.max(0,ke-ue),Be=(Me-(Math.max(0,le-Pe)+Math.max(0,Re-fe)))/Me;Se.push({id:pe.id,x:Pe,y:we,view:pe,percent:(xe-Ie)/xe*Be*100|0,widthPercent:100*Be|0}),Ce.add(pe.id)}const F=Se[0],se=Se[Se.length-1];return ie&&Se.sort(function(ce,pe){const ge=ce.percent-pe.percent;return Math.abs(ge)>.001?-ge:ce.id-pe.id}),{first:F,last:se,views:Se,ids:Ce}},l.isPortraitOrientation=function(Z){return Z.width<=Z.height},l.isValidRotation=function(Z){return Number.isInteger(Z)&&Z%90==0},l.isValidScrollMode=function(Z){return Number.isInteger(Z)&&Object.values(s).includes(Z)&&Z!==s.UNKNOWN},l.isValidSpreadMode=function(Z){return Number.isInteger(Z)&&Object.values(g).includes(Z)&&Z!==g.UNKNOWN},l.noContextMenuHandler=function(Z){Z.preventDefault()},l.normalizeWheelEventDelta=function(Z){let re=t(Z);return 0===Z.deltaMode?re/=900:1===Z.deltaMode&&(re/=30),re},l.normalizeWheelEventDirection=t,l.parseQueryString=function(Z){const re=new Map;for(const[ie,C]of new URLSearchParams(Z))re.set(ie.toLowerCase(),C);return re},l.removeNullCharacters=function(Z,re=!1){return"string"!=typeof Z?(console.error("The argument must be a string."),Z):(re&&(Z=Z.replace(Y," ")),Z.replace(H,""))},l.roundToDivide=function(Z,re){const ie=Z%re;return 0===ie?Z:Math.round(Z-ie+re)},l.scrollIntoView=function(Z,re,ie=!1){let C=Z.offsetParent;if(!C)return void console.error("offsetParent is not set -- cannot scroll");let D=Z.offsetTop+Z.clientTop,G=Z.offsetLeft+Z.clientLeft;for(;C.clientHeight===C.scrollHeight&&C.clientWidth===C.scrollWidth||ie&&(C.classList.contains("markedContent")||"hidden"===getComputedStyle(C).overflow);)if(D+=C.offsetTop,G+=C.offsetLeft,C=C.offsetParent,!C)return;re&&(void 0!==re.top&&(D+=re.top),void 0!==re.left&&(G+=re.left,C.scrollLeft=G)),C.scrollTop=D},l.watchScroll=function(Z,re){const ie=function(G){D||(D=window.requestAnimationFrame(function(){D=null;const le=Z.scrollLeft,fe=C.lastX;le!==fe&&(C.right=le>fe),C.lastX=le;const me=Z.scrollTop,be=C.lastY;me!==be&&(C.down=me>be),C.lastY=me,re(C)}))},C={right:!0,down:!0,lastX:Z.scrollLeft,lastY:Z.scrollTop,_eventHandler:ie};let D=null;return Z.addEventListener("scroll",ie,!0),C},l.DEFAULT_SCALE_VALUE="auto",l.DEFAULT_SCALE=1,l.DEFAULT_SCALE_DELTA=1.1,l.MIN_SCALE=.1,l.MAX_SCALE=10,l.UNKNOWN_SCALE=0,l.MAX_AUTO_SCALE=1.25,l.SCROLLBAR_PADDING=40,l.VERTICAL_PADDING=5,l.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},l.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const e={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};l.SidebarView=e,l.RendererType={CANVAS:"canvas",SVG:"svg"},l.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const s={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};l.ScrollMode=s;const g={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};l.SpreadMode=g,l.AutoPrintRegExp=/\bprint\s*\(/,l.OutputScale=class{constructor(){const re=window.devicePixelRatio||1;this.sx=re,this.sy=re}get scaled(){return 1!==this.sx||1!==this.sy}};const H=/\x00/g,Y=/[\x01-\x1F]/g;function z(Z,re,ie=0){let C=ie,D=Z.length-1;if(D<0||!re(Z[D]))return Z.length;if(re(Z[C]))return C;for(;C<D;){const G=C+D>>1;re(Z[G])?D=G:C=G+1}return C}function T(Z,re,ie){if(Z<2)return Z;let C=re[Z].div,D=C.offsetTop+C.clientTop;D>=ie&&(C=re[Z-1].div,D=C.offsetTop+C.clientTop);for(let G=Z-2;G>=0&&(C=re[G].div,!(C.offsetTop+C.clientTop+C.clientHeight<=D));--G)Z=G;return Z}function t(Z){let re=Math.hypot(Z.deltaX,Z.deltaY);const ie=Math.atan2(Z.deltaY,Z.deltaX);return-.25*Math.PI<ie&&ie<.75*Math.PI&&(re=-re),re}const B=new Promise(function(Z){window.requestAnimationFrame(Z)});l.animationStarted=B,oe=new WeakSet,At=function(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))},l.ProgressBar=class{constructor(re){if(ve(this,oe),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(re+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(re){var Z;this._indeterminate=isNaN(re),this._percent=(Z=re,Math.min(Math.max(Z,0),100)),ye(this,oe,At).call(this)}setWidth(re){if(!re)return;const C=re.parentNode.offsetWidth-re.offsetWidth;C>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${C}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(O,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.StructTreeLayerBuilder=void 0;const x={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},b=/^H(\d+)$/;l.StructTreeLayerBuilder=class{constructor({pdfPage:o}){this.pdfPage=o}render(o){return this._walk(o)}_setAttributes(o,r){void 0!==o.alt&&r.setAttribute("aria-label",o.alt),void 0!==o.id&&r.setAttribute("aria-owns",o.id),void 0!==o.lang&&r.setAttribute("lang",o.lang)}_walk(o){if(!o)return null;const r=document.createElement("span");if("role"in o){const{role:n}=o,h=n.match(b);h?(r.setAttribute("role","heading"),r.setAttribute("aria-level",h[1])):x[n]&&r.setAttribute("role",x[n])}if(this._setAttributes(o,r),o.children)if(1===o.children.length&&"id"in o.children[0])this._setAttributes(o.children[0],r);else for(const n of o.children)r.appendChild(this._walk(n));return r}}},(O,l,x)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TextLayerBuilder=void 0;var b=x(3);l.TextLayerBuilder=class{constructor({textLayerDiv:r,eventBus:n,pageIndex:h,viewport:S,highlighter:f=null,enhanceTextSelection:_=!1}){this.textLayerDiv=r,this.eventBus=n,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=h+1,this.viewport=S,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=f,this.enhanceTextSelection=_,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const r=document.createElement("div");r.className="endOfContent",this.textLayerDiv.appendChild(r)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(r=0){var h;if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,null==(h=this.highlighter)||h.setTextMapping(this.textDivs,this.textContentItemsStr);const n=document.createDocumentFragment();this.textLayerRenderTask=(0,b.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:n,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:r,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{var S;this.textLayerDiv.appendChild(n),this._finishRendering(),null==(S=this.highlighter)||S.enable()},function(S){})}cancel(){var r;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),null==(r=this.highlighter)||r.disable()}setTextContentStream(r){this.cancel(),this.textContentStream=r}setTextContent(r){this.cancel(),this.textContent=r}_bindMouse(){const r=this.textLayerDiv;let n=null;r.addEventListener("mousedown",h=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(n&&(clearTimeout(n),n=null));const S=r.querySelector(".endOfContent");if(!S)return;let f=h.target!==r;if(f=f&&"none"!==window.getComputedStyle(S).getPropertyValue("-moz-user-select"),f){const _=r.getBoundingClientRect(),e=Math.max(0,(h.pageY-_.top)/_.height);S.style.top=(100*e).toFixed(2)+"%"}S.classList.add("active")}),r.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(n=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),n=null},300));const h=r.querySelector(".endOfContent");!h||(h.style.top="",h.classList.remove("active"))})}}},(O,l,x)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.XfaLayerBuilder=void 0;var b=x(3);l.XfaLayerBuilder=class{constructor({pageDiv:o,pdfPage:r,annotationStorage:n=null,linkService:h,xfaHtml:S=null}){this.pageDiv=o,this.pdfPage=r,this.annotationStorage=n,this.linkService=h,this.xfaHtml=S,this.div=null,this._cancelled=!1}render(o,r="display"){if("print"===r){const n={viewport:o.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:r},h=document.createElement("div");this.pageDiv.appendChild(h),n.div=h;const S=b.XfaLayer.render(n);return Promise.resolve(S)}return this.pdfPage.getXfa().then(n=>{if(this._cancelled||!n)return{textDivs:[]};const h={viewport:o.clone({dontFlip:!0}),div:this.div,xfaHtml:n,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:r};return this.div?b.XfaLayer.update(h):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),h.div=this.div,b.XfaLayer.render(h))}).catch(n=>{console.error(n)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(O,l,x)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PDFViewer=l.PDFSinglePageViewer=void 0;var b=x(6),A=x(11);l.PDFViewer=class extends A.BaseViewer{},l.PDFSinglePageViewer=class extends A.BaseViewer{_resetView(){super._resetView(),this._scrollMode=b.ScrollMode.PAGE,this._spreadMode=b.SpreadMode.NONE}set scrollMode(n){}_updateScrollMode(){}set spreadMode(n){}_updateSpreadMode(){}}},(O,l,x)=>{var L,R,I,st,H,Y,N,z,K,te,ae,T,yt,u,vt,c,He,P,Qe,E,St,j,at,W,Pt,Q,Ct,_e,wt;Object.defineProperty(l,"__esModule",{value:!0}),l.PagesCountLimit=l.PDFPageViewBuffer=l.BaseViewer=void 0;var b=x(3),A=x(6),y=x(2),o=x(4),r=x(12),n=x(14),h=x(5),S=x(7),f=x(15),_=x(8),e=x(9);const p="enablePermissions",s={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};l.PagesCountLimit=s;class g{constructor(C){ve(this,I),ve(this,L,new Set),ve(this,R,0),Te(this,R,C)}push(C){const D=Ae(this,L);D.has(C)&&D.delete(C),D.add(C),D.size>Ae(this,R)&&ye(this,I,st).call(this)}resize(C,D=null){Te(this,R,C);const G=Ae(this,L);if(D){const ue=G.size;let le=1;for(const fe of G)if(D.has(fe.id)&&(G.delete(fe),G.add(fe)),++le>ue)break}for(;G.size>Ae(this,R);)ye(this,I,st).call(this)}has(C){return Ae(this,L).has(C)}[Symbol.iterator](){return Ae(this,L).keys()}}L=new WeakMap,R=new WeakMap,I=new WeakSet,st=function(){const C=Ae(this,L).keys().next().value;null==C||C.destroy(),Ae(this,L).delete(C)},l.PDFPageViewBuffer=g;const re=class{constructor(C){var G,ue,le,fe;if(ve(this,T),ve(this,u),ve(this,c),ve(this,P),ve(this,E),ve(this,j),ve(this,W),ve(this,Q),ve(this,_e),ve(this,H,null),ve(this,Y,b.AnnotationMode.ENABLE_FORMS),ve(this,N,null),ve(this,z,!1),ve(this,K,0),ve(this,te,null),ve(this,ae,null),this.constructor===re)throw new Error("Cannot initialize BaseViewer.");const D="2.14.305";if(b.version!==D)throw new Error(`The API version "${b.version}" does not match the Viewer version "${D}".`);if(this.container=C.container,this.viewer=C.viewer||C.container.firstElementChild,"DIV"!==(null==(G=this.container)?void 0:G.tagName.toUpperCase())||"DIV"!==(null==(ue=this.viewer)?void 0:ue.tagName.toUpperCase()))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=C.eventBus,this.linkService=C.linkService||new h.SimpleLinkService,this.downloadManager=C.downloadManager||null,this.findController=C.findController||null,this._scriptingManager=C.scriptingManager||null,this.removePageBorders=C.removePageBorders||!1,this.textLayerMode=null!=(le=C.textLayerMode)?le:A.TextLayerMode.ENABLE,Te(this,Y,null!=(fe=C.annotationMode)?fe:b.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=C.imageResourcesPath||"",this.enablePrintAutoRotate=C.enablePrintAutoRotate||!1,this.renderer=C.renderer||A.RendererType.CANVAS,this.useOnlyCssZoom=C.useOnlyCssZoom||!1,this.maxCanvasPixels=C.maxCanvasPixels,this.l10n=C.l10n||o.NullL10n,Te(this,z,C.enablePermissions||!1),this.pageColors=C.pageColors||null,C.pageColors&&(!CSS.supports("color",C.pageColors.background)||!CSS.supports("color",C.pageColors.foreground))&&((C.pageColors.background||C.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!C.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new n.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=C.renderingQueue,this._doc=document.documentElement,this.scroll=(0,A.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=A.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(C){return this._pages[C]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(C){return null==C?void 0:C.pdfPage})}get renderForms(){return Ae(this,Y)===b.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(C){if(!Number.isInteger(C))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(C,!0)||console.error(`currentPageNumber: "${C}" is not a valid page.`)}_setCurrentPageNumber(C,D=!1){var ue,le;if(this._currentPageNumber===C)return D&&ye(this,j,at).call(this),!0;if(!(0<C&&C<=this.pagesCount))return!1;const G=this._currentPageNumber;return this._currentPageNumber=C,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:C,pageLabel:null!=(le=null==(ue=this._pageLabels)?void 0:ue[C-1])?le:null,previous:G}),D&&ye(this,j,at).call(this),!0}get currentPageLabel(){var C,D;return null!=(D=null==(C=this._pageLabels)?void 0:C[this._currentPageNumber-1])?D:null}set currentPageLabel(C){if(!this.pdfDocument)return;let D=0|C;if(this._pageLabels){const G=this._pageLabels.indexOf(C);G>=0&&(D=G+1)}this._setCurrentPageNumber(D,!0)||console.error(`currentPageLabel: "${C}" is not a valid page.`)}get currentScale(){return this._currentScale!==A.UNKNOWN_SCALE?this._currentScale:A.DEFAULT_SCALE}set currentScale(C){if(isNaN(C))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(C,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(C){!this.pdfDocument||this._setScale(C,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(C){if(!(0,A.isValidRotation)(C))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((C%=360)<0&&(C+=360),this._pagesRotation===C))return;this._pagesRotation=C;const D=this._currentPageNumber,G={rotation:C};for(const ue of this._pages)ue.update(G);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:C,pageNumber:D}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(C){var D=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=C,!C)return;const G=C.isPureXfa,ue=C.numPages,le=C.getPage(1),fe=C.getOptionalContentConfig(),me=Ae(this,z)?C.getPermissions():Promise.resolve();if(ue>s.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const be=this._scrollMode=A.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:be})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:ue})},()=>{}),this._onBeforeDraw=be=>{const Se=this._pages[be.pageNumber-1];!Se||Ae(this,H).push(Se)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=be=>{be.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:be.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,Ae(this,ae)&&(document.removeEventListener("visibilitychange",Ae(this,ae)),Te(this,ae,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([le,me]).then(([be,Se])=>{if(C!==this.pdfDocument)return;this._firstPageCapability.resolve(be),this._optionalContentConfigPromise=fe,ye(this,T,yt).call(this,Se);const Ce=this._scrollMode===A.ScrollMode.PAGE?null:this.viewer,Ee=this.currentScale,ee=be.getViewport({scale:Ee*b.PixelsPerInch.PDF_TO_CSS_UNITS}),k=this.textLayerMode===A.TextLayerMode.DISABLE||G?null:this,F=Ae(this,Y)!==b.AnnotationMode.DISABLE?this:null,se=G?this:null;for(let pe=1;pe<=ue;++pe){const ge=new r.PDFPageView({container:Ce,eventBus:this.eventBus,id:pe,scale:Ee,defaultViewport:ee.clone(),optionalContentConfigPromise:fe,renderingQueue:this.renderingQueue,textLayerFactory:k,textLayerMode:this.textLayerMode,annotationLayerFactory:F,annotationMode:Ae(this,Y),xfaLayerFactory:se,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(ge)}const ce=this._pages[0];ce&&(ce.setPdfPage(be),this.linkService.cachePageRef(1,be.ref)),this._scrollMode===A.ScrollMode.PAGE?ye(this,c,He).call(this):this._spreadMode!==A.SpreadMode.NONE&&this._updateSpreadMode(),ye(this,u,vt).call(this).then(m(function*(){if(D.findController&&D.findController.setDocument(C),D._scriptingManager&&D._scriptingManager.setDocument(C),C.loadingParams.disableAutoFetch||ue>s.FORCE_LAZY_PAGE_INIT)return void D._pagesCapability.resolve();let pe=ue-1;if(pe<=0)D._pagesCapability.resolve();else for(let ge=2;ge<=ue;++ge){const Pe=C.getPage(ge).then(we=>{const Me=D._pages[ge-1];Me.pdfPage||Me.setPdfPage(we),D.linkService.cachePageRef(ge,we.ref),0==--pe&&D._pagesCapability.resolve()},we=>{console.error(`Unable to get page ${ge} to initialize viewer`,we),0==--pe&&D._pagesCapability.resolve()});ge%s.PAUSE_EAGER_PAGE_INIT==0&&(yield Pe)}})),this.eventBus.dispatch("pagesinit",{source:this}),C.getMetadata().then(({info:pe})=>{C===this.pdfDocument&&pe.Language&&(this.viewer.lang=pe.Language)}),this.defaultRenderingQueue&&this.update()}).catch(be=>{console.error("Unable to initialize viewer",be),this._pagesCapability.reject(be)})}setPageLabels(C){var D,G;if(this.pdfDocument){C?Array.isArray(C)&&this.pdfDocument.numPages===C.length?this._pageLabels=C:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let ue=0,le=this._pages.length;ue<le;ue++)this._pages[ue].setPageLabel(null!=(G=null==(D=this._pageLabels)?void 0:D[ue])?G:null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=A.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,Te(this,H,new g(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,b.createPromiseCapability)(),this._onePageRenderedCapability=(0,b.createPromiseCapability)(),this._pagesCapability=(0,b.createPromiseCapability)(),this._scrollMode=A.ScrollMode.VERTICAL,this._previousScrollMode=A.ScrollMode.UNKNOWN,this._spreadMode=A.SpreadMode.NONE,Te(this,te,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),Ae(this,ae)&&(document.removeEventListener("visibilitychange",Ae(this,ae)),Te(this,ae,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(p),null!==Ae(this,N)&&(Te(this,Y,Ae(this,N)),Te(this,N,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(C,D,G=!1,ue=!1){if(this._currentScaleValue=D.toString(),ye(this,E,St).call(this,C))return void(ue&&this.eventBus.dispatch("scalechanging",{source:this,scale:C,presetValue:D}));this._doc.style.setProperty("--zoom-factor",C);const le={scale:C};for(const fe of this._pages)fe.update(le);if(this._currentScale=C,!G){let me,fe=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(fe=this._location.pageNumber,me=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:fe,destArray:me,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:C,presetValue:ue?D:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==A.SpreadMode.NONE&&this._scrollMode!==A.ScrollMode.HORIZONTAL?2:1}_setScale(C,D=!1){let G=parseFloat(C);if(G>0)this._setScaleUpdatePages(G,C,D,!1);else{const ue=this._pages[this._currentPageNumber-1];if(!ue)return;let le=A.SCROLLBAR_PADDING,fe=A.VERTICAL_PADDING;this.isInPresentationMode?le=fe=4:this.removePageBorders?le=fe=0:this._scrollMode===A.ScrollMode.HORIZONTAL&&([le,fe]=[fe,le]);const me=(this.container.clientWidth-le)/ue.width*ue.scale/this._pageWidthScaleFactor,be=(this.container.clientHeight-fe)/ue.height*ue.scale;switch(C){case"page-actual":G=1;break;case"page-width":G=me;break;case"page-height":G=be;break;case"page-fit":G=Math.min(me,be);break;case"auto":const Se=(0,A.isPortraitOrientation)(ue)?me:Math.min(be,me);G=Math.min(A.MAX_AUTO_SCALE,Se);break;default:return void console.error(`_setScale: "${C}" is an unknown zoom value.`)}this._setScaleUpdatePages(G,C,D,!0)}}pageLabelToPageNumber(C){if(!this._pageLabels)return null;const D=this._pageLabels.indexOf(C);return D<0?null:D+1}scrollPageIntoView({pageNumber:C,destArray:D=null,allowNegativeOffset:G=!1,ignoreDestinationZoom:ue=!1}){if(!this.pdfDocument)return;const le=Number.isInteger(C)&&this._pages[C-1];if(!le)return void console.error(`scrollPageIntoView: "${C}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!D)return void this._setCurrentPageNumber(C,!0);let Ce,Ee,fe=0,me=0,be=0,Se=0;const ee=le.rotation%180!=0,k=(ee?le.height:le.width)/le.scale/b.PixelsPerInch.PDF_TO_CSS_UNITS,F=(ee?le.width:le.height)/le.scale/b.PixelsPerInch.PDF_TO_CSS_UNITS;let se=0;switch(D[1].name){case"XYZ":fe=D[2],me=D[3],se=D[4],fe=null!==fe?fe:0,me=null!==me?me:F;break;case"Fit":case"FitB":se="page-fit";break;case"FitH":case"FitBH":me=D[2],se="page-width",null===me&&this._location?(fe=this._location.left,me=this._location.top):("number"!=typeof me||me<0)&&(me=F);break;case"FitV":case"FitBV":fe=D[2],be=k,Se=F,se="page-height";break;case"FitR":fe=D[2],me=D[3],be=D[4]-fe,Se=D[5]-me,Ce=(this.container.clientWidth-(this.removePageBorders?0:A.SCROLLBAR_PADDING))/be/b.PixelsPerInch.PDF_TO_CSS_UNITS,Ee=(this.container.clientHeight-(this.removePageBorders?0:A.VERTICAL_PADDING))/Se/b.PixelsPerInch.PDF_TO_CSS_UNITS,se=Math.min(Math.abs(Ce),Math.abs(Ee));break;default:return void console.error(`scrollPageIntoView: "${D[1].name}" is not a valid destination type.`)}if(ue||(se&&se!==this._currentScale?this.currentScaleValue=se:this._currentScale===A.UNKNOWN_SCALE&&(this.currentScaleValue=A.DEFAULT_SCALE_VALUE)),"page-fit"===se&&!D[4])return void ye(this,P,Qe).call(this,le);const ce=[le.viewport.convertToViewportPoint(fe,me),le.viewport.convertToViewportPoint(fe+be,me+Se)];let pe=Math.min(ce[0][0],ce[1][0]),ge=Math.min(ce[0][1],ce[1][1]);G||(pe=Math.max(pe,0),ge=Math.max(ge,0)),ye(this,P,Qe).call(this,le,{left:pe,top:ge})}_updateLocation(C){const D=this._currentScale,G=this._currentScaleValue,ue=parseFloat(G)===D?Math.round(1e4*D)/100:G,le=C.id,me=this.container,be=this._pages[le-1].getPagePoint(me.scrollLeft-C.x,me.scrollTop-C.y),Se=Math.round(be[0]),Ce=Math.round(be[1]);let Ee=`#page=${le}`;this.isInPresentationMode||(Ee+=`&zoom=${ue},${Se},${Ce}`),this._location={pageNumber:le,scale:ue,top:Ce,left:Se,rotation:this._pagesRotation,pdfOpenParams:Ee}}update(){const C=this._getVisiblePages(),D=C.views,G=D.length;if(0===G)return;const ue=Math.max(10,2*G+1);Ae(this,H).resize(ue,C.ids),this.renderingQueue.renderHighestPriority(C);const le=this._spreadMode===A.SpreadMode.NONE&&(this._scrollMode===A.ScrollMode.PAGE||this._scrollMode===A.ScrollMode.VERTICAL),fe=this._currentPageNumber;let me=!1;for(const be of D){if(be.percent<100)break;if(be.id===fe&&le){me=!0;break}}this._setCurrentPageNumber(me?fe:D[0].id),this._updateLocation(C.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(C){return this.container.contains(C)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===A.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===A.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const C=this._scrollMode===A.ScrollMode.PAGE?Ae(this,te).pages:this._pages,D=this._scrollMode===A.ScrollMode.HORIZONTAL;return(0,A.getVisibleElements)({scrollEl:this.container,views:C,sortByVisibility:!0,horizontal:D,rtl:D&&this._isContainerRtl})}isPageVisible(C){return!!this.pdfDocument&&(Number.isInteger(C)&&C>0&&C<=this.pagesCount?this._getVisiblePages().ids.has(C):(console.error(`isPageVisible: "${C}" is not a valid page.`),!1))}isPageCached(C){if(!this.pdfDocument)return!1;if(!(Number.isInteger(C)&&C>0&&C<=this.pagesCount))return console.error(`isPageCached: "${C}" is not a valid page.`),!1;const D=this._pages[C-1];return Ae(this,H).has(D)}cleanup(){for(const C of this._pages)C.renderingState!==A.RenderingStates.FINISHED&&C.reset()}_cancelRendering(){for(const C of this._pages)C.cancelRendering()}forceRendering(C){const D=C||this._getVisiblePages(),G=ye(this,Q,Ct).call(this,D),le=this.renderingQueue.getHighestPriority(D,this._pages,G,this._spreadMode!==A.SpreadMode.NONE&&this._scrollMode!==A.ScrollMode.HORIZONTAL);return ye(this,_e,wt).call(this,D.ids),!!le&&(ye(this,W,Pt).call(this,le).then(()=>{this.renderingQueue.renderView(le)}),!0)}createTextLayerBuilder(C,D,G,ue=!1,le,fe){return new _.TextLayerBuilder({textLayerDiv:C,eventBus:le,pageIndex:D,viewport:G,enhanceTextSelection:!this.isInPresentationMode&&ue,highlighter:fe})}createTextHighlighter(C,D){return new f.TextHighlighter({eventBus:D,pageIndex:C,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(C,D,G=null,ue="",le=!0,fe=o.NullL10n,me=null,be=null,Se=null,Ce=null,Ee=null){var ee,k,F,se;return new y.AnnotationLayerBuilder({pageDiv:C,pdfPage:D,annotationStorage:G||(null==(ee=this.pdfDocument)?void 0:ee.annotationStorage),imageResourcesPath:ue,renderForms:le,linkService:this.linkService,downloadManager:this.downloadManager,l10n:fe,enableScripting:null!=me?me:this.enableScripting,hasJSActionsPromise:be||(null==(k=this.pdfDocument)?void 0:k.hasJSActions()),fieldObjectsPromise:Ce||(null==(F=this.pdfDocument)?void 0:F.getFieldObjects()),mouseState:Se||(null==(se=this._scriptingManager)?void 0:se.mouseState),annotationCanvasMap:Ee})}createXfaLayerBuilder(C,D,G=null){var ue;return new e.XfaLayerBuilder({pageDiv:C,pdfPage:D,annotationStorage:G||(null==(ue=this.pdfDocument)?void 0:ue.annotationStorage),linkService:this.linkService})}createStructTreeLayerBuilder(C){return new S.StructTreeLayerBuilder({pdfPage:C})}get hasEqualPageSizes(){const C=this._pages[0];for(let D=1,G=this._pages.length;D<G;++D){const ue=this._pages[D];if(ue.width!==C.width||ue.height!==C.height)return!1}return!0}getPagesOverview(){return this._pages.map(C=>{const D=C.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,A.isPortraitOrientation)(D)?{width:D.width,height:D.height,rotation:D.rotation}:{width:D.height,height:D.width,rotation:(D.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(C){if(!(C instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${C}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=C;const D={optionalContentConfigPromise:C};for(const G of this._pages)G.update(D);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:C})}get scrollMode(){return this._scrollMode}set scrollMode(C){if(this._scrollMode!==C){if(!(0,A.isValidScrollMode)(C))throw new Error(`Invalid scroll mode: ${C}`);this.pagesCount>s.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=C,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:C}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(C=null){const D=this._scrollMode,G=this.viewer;G.classList.toggle("scrollHorizontal",D===A.ScrollMode.HORIZONTAL),G.classList.toggle("scrollWrapped",D===A.ScrollMode.WRAPPED),this.pdfDocument&&C&&(D===A.ScrollMode.PAGE?ye(this,c,He).call(this):this._previousScrollMode===A.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(C,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(C){if(this._spreadMode!==C){if(!(0,A.isValidSpreadMode)(C))throw new Error(`Invalid spread mode: ${C}`);this._spreadMode=C,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:C}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(C=null){if(!this.pdfDocument)return;const D=this.viewer,G=this._pages;if(this._scrollMode===A.ScrollMode.PAGE)ye(this,c,He).call(this);else if(D.textContent="",this._spreadMode===A.SpreadMode.NONE)for(const ue of this._pages)D.appendChild(ue.div);else{const ue=this._spreadMode-1;let le=null;for(let fe=0,me=G.length;fe<me;++fe)null===le?(le=document.createElement("div"),le.className="spread",D.appendChild(le)):fe%2===ue&&(le=le.cloneNode(!1),D.appendChild(le)),le.appendChild(G[fe].div)}!C||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(C,!0),this.update())}_getPageAdvance(C,D=!1){switch(this._scrollMode){case A.ScrollMode.WRAPPED:{const{views:G}=this._getVisiblePages(),ue=new Map;for(const{id:le,y:fe,percent:me,widthPercent:be}of G){if(0===me||be<100)continue;let Se=ue.get(fe);Se||ue.set(fe,Se||(Se=[])),Se.push(le)}for(const le of ue.values()){const fe=le.indexOf(C);if(-1===fe)continue;const me=le.length;if(1===me)break;if(D)for(let be=fe-1,Se=0;be>=Se;be--){const Ee=le[be+1]-1;if(le[be]<Ee)return C-Ee}else for(let be=fe+1,Se=me;be<Se;be++){const Ee=le[be-1]+1;if(le[be]>Ee)return Ee-C}if(D){const be=le[0];if(be<C)return C-be+1}else{const be=le[me-1];if(be>C)return be-C+1}break}break}case A.ScrollMode.HORIZONTAL:break;case A.ScrollMode.PAGE:case A.ScrollMode.VERTICAL:{if(this._spreadMode===A.SpreadMode.NONE)break;const G=this._spreadMode-1;if(D&&C%2!==G)break;if(!D&&C%2===G)break;const{views:ue}=this._getVisiblePages(),le=D?C-1:C+1;for(const{id:fe,percent:me,widthPercent:be}of ue)if(fe===le){if(me>0&&100===be)return 2;break}break}}return 1}nextPage(){const C=this._currentPageNumber,D=this.pagesCount;if(C>=D)return!1;const G=this._getPageAdvance(C,!1)||1;return this.currentPageNumber=Math.min(C+G,D),!0}previousPage(){const C=this._currentPageNumber;if(C<=1)return!1;const D=this._getPageAdvance(C,!0)||1;return this.currentPageNumber=Math.max(C-D,1),!0}increaseScale(C=1){let D=this._currentScale;do{D=(D*A.DEFAULT_SCALE_DELTA).toFixed(2),D=Math.ceil(10*D)/10,D=Math.min(A.MAX_SCALE,D)}while(--C>0&&D<A.MAX_SCALE);this.currentScaleValue=D}decreaseScale(C=1){let D=this._currentScale;do{D=(D/A.DEFAULT_SCALE_DELTA).toFixed(2),D=Math.floor(10*D)/10,D=Math.max(A.MIN_SCALE,D)}while(--C>0&&D>A.MIN_SCALE);this.currentScaleValue=D}updateContainerHeightCss(){const C=this.container.clientHeight;C!==Ae(this,K)&&(Te(this,K,C),this._doc.style.setProperty("--viewer-container-height",`${C}px`))}};let w=re;H=new WeakMap,Y=new WeakMap,N=new WeakMap,z=new WeakMap,K=new WeakMap,te=new WeakMap,ae=new WeakMap,T=new WeakSet,yt=function(C){!C||(C.includes(b.PermissionFlag.COPY)||this.viewer.classList.add(p),!C.includes(b.PermissionFlag.MODIFY_ANNOTATIONS)&&!C.includes(b.PermissionFlag.FILL_INTERACTIVE_FORMS)&&Ae(this,Y)===b.AnnotationMode.ENABLE_FORMS&&(Te(this,N,Ae(this,Y)),Te(this,Y,b.AnnotationMode.ENABLE)))},u=new WeakSet,vt=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const C=new Promise(D=>{Te(this,ae,()=>{"hidden"===document.visibilityState&&(D(),document.removeEventListener("visibilitychange",Ae(this,ae)),Te(this,ae,null))}),document.addEventListener("visibilitychange",Ae(this,ae))});return Promise.race([this._onePageRenderedCapability.promise,C])},c=new WeakSet,He=function(){if(this._scrollMode!==A.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const C=this._currentPageNumber,D=Ae(this,te),G=this.viewer;if(G.textContent="",D.pages.length=0,this._spreadMode!==A.SpreadMode.NONE||this.isInPresentationMode){const ue=new Set,le=this._spreadMode-1;-1===le?ue.add(C-1):C%2!==le?(ue.add(C-1),ue.add(C)):(ue.add(C-2),ue.add(C-1));const fe=document.createElement("div");if(fe.className="spread",this.isInPresentationMode){const me=document.createElement("div");me.className="dummyPage",fe.appendChild(me)}for(const me of ue){const be=this._pages[me];!be||(fe.appendChild(be.div),D.pages.push(be))}G.appendChild(fe)}else{const ue=this._pages[C-1];G.appendChild(ue.div),D.pages.push(ue)}D.scrollDown=C>=D.previousPageNumber,D.previousPageNumber=C},P=new WeakSet,Qe=function(C,D=null){const{div:G,id:ue}=C;if(this._scrollMode===A.ScrollMode.PAGE&&(this._setCurrentPageNumber(ue),ye(this,c,He).call(this),this.update()),!D&&!this.isInPresentationMode){const le=G.offsetLeft+G.clientLeft,fe=le+G.clientWidth,{scrollLeft:me,clientWidth:be}=this.container;(this._scrollMode===A.ScrollMode.HORIZONTAL||le<me||fe>me+be)&&(D={left:0,top:0})}(0,A.scrollIntoView)(G,D)},E=new WeakSet,St=function(C){return C===this._currentScale||Math.abs(C-this._currentScale)<1e-15},j=new WeakSet,at=function(){const C=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),ye(this,P,Qe).call(this,C)},W=new WeakSet,Pt=function(C){var D=this;return m(function*(){var G,ue;if(C.pdfPage)return C.pdfPage;try{const le=yield D.pdfDocument.getPage(C.id);return C.pdfPage||C.setPdfPage(le),(null==(ue=(G=D.linkService)._cachedPageNumber)?void 0:ue.call(G,le.ref))||D.linkService.cachePageRef(C.id,le.ref),le}catch(le){return console.error("Unable to get page for page view",le),null}})()},Q=new WeakSet,Ct=function(C){var D,G;if(1===(null==(D=C.first)?void 0:D.id))return!0;if((null==(G=C.last)?void 0:G.id)===this.pagesCount)return!1;switch(this._scrollMode){case A.ScrollMode.PAGE:return Ae(this,te).scrollDown;case A.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},_e=new WeakSet,wt=function(C){for(const D of C){const G=this._pages[D-1];null==G||G.toggleLoadingIconSpinner(!0)}for(const D of Ae(this,H))C.has(D.id)||D.toggleLoadingIconSpinner(!1)},l.BaseViewer=w},(O,l,x)=>{var h;Object.defineProperty(l,"__esModule",{value:!0}),l.PDFPageView=void 0;var b=x(3),A=x(6),y=x(13),o=x(4);const r=y.compatibilityParams.maxCanvasPixels||16777216;h=new WeakMap,l.PDFPageView=class{constructor(f){var p,s,g,w;ve(this,h,b.AnnotationMode.ENABLE_FORMS);const _=f.container,e=f.defaultViewport;this.id=f.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=f.scale||A.DEFAULT_SCALE,this.viewport=e,this.pdfPageRotate=e.rotation,this._optionalContentConfigPromise=f.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=null!=(p=f.textLayerMode)?p:A.TextLayerMode.ENABLE,Te(this,h,null!=(s=f.annotationMode)?s:b.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=f.imageResourcesPath||"",this.useOnlyCssZoom=f.useOnlyCssZoom||!1,this.maxCanvasPixels=f.maxCanvasPixels||r,this.pageColors=f.pageColors||null,this.eventBus=f.eventBus,this.renderingQueue=f.renderingQueue,this.textLayerFactory=f.textLayerFactory,this.annotationLayerFactory=f.annotationLayerFactory,this.xfaLayerFactory=f.xfaLayerFactory,this.textHighlighter=null==(g=f.textHighlighterFactory)?void 0:g.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=f.structTreeLayerFactory,this.renderer=f.renderer||A.RendererType.CANVAS,this.l10n=f.l10n||o.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=A.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!(null==(w=this.renderingQueue)?void 0:w.hasViewer()),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const i=document.createElement("div");i.className="page",i.style.width=Math.floor(this.viewport.width)+"px",i.style.height=Math.floor(this.viewport.height)+"px",i.setAttribute("data-page-number",this.id),i.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(L=>{i.setAttribute("aria-label",L)}),this.div=i,null==_||_.appendChild(i)}setPdfPage(f){this.pdfPage=f,this.pdfPageRotate=f.rotate,this.viewport=f.getViewport({scale:this.scale*b.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var f=this;return m(function*(){let _=null;try{yield f.annotationLayer.render(f.viewport,"display")}catch(e){_=e}finally{f.eventBus.dispatch("annotationlayerrendered",{source:f,pageNumber:f.id,error:_})}})()}_renderXfaLayer(){var f=this;return m(function*(){let _=null;try{const e=yield f.xfaLayer.render(f.viewport,"display");f.textHighlighter&&f._buildXfaTextContentItems(e.textDivs)}catch(e){_=e}finally{f.eventBus.dispatch("xfalayerrendered",{source:f,pageNumber:f.id,error:_})}})()}_buildXfaTextContentItems(f){var _=this;return m(function*(){const e=yield _.pdfPage.getTextContent(),i=[];for(const p of e.items)i.push(p.str);_.textHighlighter.setTextMapping(f,i),_.textHighlighter.enable()})()}_resetZoomLayer(f=!1){if(!this.zoomLayer)return;const _=this.zoomLayer.firstChild;this.paintedViewportMap.delete(_),_.width=0,_.height=0,f&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:f=!1,keepAnnotationLayer:_=!1,keepXfaLayer:e=!1}={}){var L,R;this.cancelRendering({keepAnnotationLayer:_,keepXfaLayer:e}),this.renderingState=A.RenderingStates.INITIAL;const i=this.div;i.style.width=Math.floor(this.viewport.width)+"px",i.style.height=Math.floor(this.viewport.height)+"px";const p=i.childNodes,s=f&&this.zoomLayer||null,g=_&&(null==(L=this.annotationLayer)?void 0:L.div)||null,w=e&&(null==(R=this.xfaLayer)?void 0:R.div)||null;for(let I=p.length-1;I>=0;I--){const U=p[I];switch(U){case s:case g:case w:continue}U.remove()}i.removeAttribute("data-loaded"),g&&this.annotationLayer.hide(),w&&this.xfaLayer.hide(),s||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(I=>{var U;null==(U=this.loadingIconDiv)||U.setAttribute("aria-label",I)}),i.appendChild(this.loadingIconDiv)}update({scale:f=0,rotation:_=null,optionalContentConfigPromise:e=null}){if(this.scale=f||this.scale,"number"==typeof _&&(this.rotation=_),e instanceof Promise&&(this._optionalContentConfigPromise=e),this.viewport=this.viewport.clone({scale:this.scale*b.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:s}=document.documentElement;s.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let p=!1;if(this.canvas&&this.maxCanvasPixels>0){const s=this.outputScale;(Math.floor(this.viewport.width)*s.sx|0)*(Math.floor(this.viewport.height)*s.sy|0)>this.maxCanvasPixels&&(p=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&p)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:f=!1,keepXfaLayer:_=!1}={}){var e;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!f||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!_||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,null==(e=this.textHighlighter)||e.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:f,redrawAnnotationLayer:_=!1,redrawXfaLayer:e=!1}){const i=this.viewport.width,p=this.viewport.height,s=this.div;f.style.width=f.parentNode.style.width=s.style.width=Math.floor(i)+"px",f.style.height=f.parentNode.style.height=s.style.height=Math.floor(p)+"px";const g=this.viewport.rotation-this.paintedViewportMap.get(f).rotation,w=Math.abs(g);let L=1,R=1;if((90===w||270===w)&&(L=p/i,R=i/p),f.style.transform=`rotate(${g}deg) scale(${L}, ${R})`,this.textLayer){const I=this.textLayer.viewport,H=Math.abs(this.viewport.rotation-I.rotation);let Y=i/I.width;(90===H||270===H)&&(Y=i/I.height);const N=this.textLayer.textLayerDiv;let z,K;switch(H){case 0:z=K=0;break;case 90:z=0,K="-"+N.style.height;break;case 180:z="-"+N.style.width,K="-"+N.style.height;break;case 270:z="-"+N.style.width,K=0;break;default:console.error("Bad rotation value.")}N.style.transform=`rotate(${H}deg) scale(${Y}) translate(${z}, ${K})`,N.style.transformOrigin="0% 0%"}_&&this.annotationLayer&&this._renderAnnotationLayer(),e&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(f,_){return this.viewport.convertToPdfPoint(f,_)}toggleLoadingIconSpinner(f=!1){var _;null==(_=this.loadingIconDiv)||_.classList.toggle("notVisible",!f)}draw(){var R,I,U,f=this;this.renderingState!==A.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:_,pdfPage:e}=this;if(!e)return this.renderingState=A.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=A.RenderingStates.RUNNING;const i=document.createElement("div");i.style.width=_.style.width,i.style.height=_.style.height,i.classList.add("canvasWrapper"),(null==(R=this.annotationLayer)?void 0:R.div)?_.insertBefore(i,this.annotationLayer.div):_.appendChild(i);let p=null;if(this.textLayerMode!==A.TextLayerMode.DISABLE&&this.textLayerFactory){const H=document.createElement("div");H.className="textLayer",H.style.width=i.style.width,H.style.height=i.style.height,(null==(I=this.annotationLayer)?void 0:I.div)?_.insertBefore(H,this.annotationLayer.div):_.appendChild(H),p=this.textLayerFactory.createTextLayerBuilder(H,this.id-1,this.viewport,this.textLayerMode===A.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=p,Ae(this,h)!==b.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(_,e,null,this.imageResourcesPath,Ae(this,h)===b.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),(null==(U=this.xfaLayer)?void 0:U.div)&&_.appendChild(this.xfaLayer.div);let s=null;this.renderingQueue&&(s=H=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=A.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=A.RenderingStates.RUNNING,H()});H()});const g=function(){var H=m(function*(Y=null){if(w===f.paintTask&&(f.paintTask=null),Y instanceof b.RenderingCancelledException)f._renderError=null;else if(f._renderError=Y,f.renderingState=A.RenderingStates.FINISHED,f.loadingIconDiv&&(f.loadingIconDiv.remove(),delete f.loadingIconDiv),f._resetZoomLayer(!0),f.eventBus.dispatch("pagerendered",{source:f,pageNumber:f.id,cssTransform:!1,timestamp:performance.now(),error:f._renderError}),Y)throw Y});return function(){return H.apply(this,arguments)}}(),w=this.renderer===A.RendererType.SVG?this.paintOnSvg(i):this.paintOnCanvas(i);w.onRenderContinue=s,this.paintTask=w;const L=w.promise.then(()=>g(null).then(()=>{if(p){const H=e.streamTextContent({includeMarkedContent:!0});p.setTextContentStream(H),p.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(H){return g(H)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(_,e,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=H=>{H.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(Y=>{if(!Y||!this.canvas)return;const N=this.structTreeLayer.render(Y);N.classList.add("structTree"),this.canvas.appendChild(N)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(e)),_.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),L}paintOnCanvas(f){const _=(0,b.createPromiseCapability)(),e={promise:_.promise,onRenderContinue(N){N()},cancel(){Y.cancel()}},i=this.viewport,p=document.createElement("canvas");p.hidden=!0;let s=!0;const g=function(){s&&(p.hidden=!1,s=!1)};f.appendChild(p),this.canvas=p;const w=p.getContext("2d",{alpha:!1}),L=this.outputScale=new A.OutputScale;if(this.useOnlyCssZoom){const N=i.clone({scale:b.PixelsPerInch.PDF_TO_CSS_UNITS});L.sx*=N.width/i.width,L.sy*=N.height/i.height}if(this.maxCanvasPixels>0){const z=Math.sqrt(this.maxCanvasPixels/(i.width*i.height));L.sx>z||L.sy>z?(L.sx=z,L.sy=z,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const R=(0,A.approximateFraction)(L.sx),I=(0,A.approximateFraction)(L.sy);p.width=(0,A.roundToDivide)(i.width*L.sx,R[0]),p.height=(0,A.roundToDivide)(i.height*L.sy,I[0]),p.style.width=(0,A.roundToDivide)(i.width,R[1])+"px",p.style.height=(0,A.roundToDivide)(i.height,I[1])+"px",this.paintedViewportMap.set(p,i);const H={canvasContext:w,transform:L.scaled?[L.sx,0,0,L.sy,0,0]:null,viewport:this.viewport,annotationMode:Ae(this,h),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},Y=this.pdfPage.render(H);return Y.onContinue=function(N){g(),e.onRenderContinue?e.onRenderContinue(N):N()},Y.promise.then(function(){g(),_.resolve()},function(N){g(),_.reject(N)}),e}paintOnSvg(f){let _=!1;const e=()=>{if(_)throw new b.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},i=this.pdfPage,p=this.viewport.clone({scale:b.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:i.getOperatorList({annotationMode:Ae(this,h)}).then(g=>(e(),new b.SVGGraphics(i.commonObjs,i.objs).getSVG(g,p).then(L=>{e(),this.svg=L,this.paintedViewportMap.set(L,p),L.style.width=f.style.width,L.style.height=f.style.height,this.renderingState=A.RenderingStates.FINISHED,f.appendChild(L)}))),onRenderContinue(g){g()},cancel(){_=!0}}}setPageLabel(f){this.pageLabel="string"==typeof f?f:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(O,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.compatibilityParams=l.OptionKind=l.AppOptions=void 0;const x=Object.create(null);l.compatibilityParams=x;{const r=navigator.userAgent||"",n=navigator.platform||"",h=navigator.maxTouchPoints||1,S=/Android/.test(r);(/\b(iPad|iPhone|iPod)(?=;)/.test(r)||"MacIntel"===n&&h>1||S)&&(x.maxCanvasPixels=5242880)}const b={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};l.OptionKind=b;const A={annotationMode:{value:2,kind:b.VIEWER+b.PREFERENCE},cursorToolOnLoad:{value:0,kind:b.VIEWER+b.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:b.VIEWER},defaultZoomValue:{value:"",kind:b.VIEWER+b.PREFERENCE},disableHistory:{value:!1,kind:b.VIEWER},disablePageLabels:{value:!1,kind:b.VIEWER+b.PREFERENCE},enablePermissions:{value:!1,kind:b.VIEWER+b.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:b.VIEWER+b.PREFERENCE},enableScripting:{value:!0,kind:b.VIEWER+b.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:b.VIEWER},externalLinkTarget:{value:0,kind:b.VIEWER+b.PREFERENCE},historyUpdateUrl:{value:!1,kind:b.VIEWER+b.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:b.VIEWER+b.PREFERENCE},imageResourcesPath:{value:"./images/",kind:b.VIEWER},maxCanvasPixels:{value:16777216,compatibility:x.maxCanvasPixels,kind:b.VIEWER},pageColorsBackground:{value:"Canvas",kind:b.VIEWER+b.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:b.VIEWER+b.PREFERENCE},pdfBugEnabled:{value:!1,kind:b.VIEWER+b.PREFERENCE},printResolution:{value:150,kind:b.VIEWER},renderer:{value:"canvas",kind:b.VIEWER},sidebarViewOnLoad:{value:-1,kind:b.VIEWER+b.PREFERENCE},scrollModeOnLoad:{value:-1,kind:b.VIEWER+b.PREFERENCE},spreadModeOnLoad:{value:-1,kind:b.VIEWER+b.PREFERENCE},textLayerMode:{value:1,kind:b.VIEWER+b.PREFERENCE},useOnlyCssZoom:{value:!1,kind:b.VIEWER+b.PREFERENCE},viewerCssTheme:{value:0,kind:b.VIEWER+b.PREFERENCE},viewOnLoad:{value:0,kind:b.VIEWER+b.PREFERENCE},cMapPacked:{value:!0,kind:b.API},cMapUrl:{value:"../web/cmaps/",kind:b.API},disableAutoFetch:{value:!1,kind:b.API+b.PREFERENCE},disableFontFace:{value:!1,kind:b.API+b.PREFERENCE},disableRange:{value:!1,kind:b.API+b.PREFERENCE},disableStream:{value:!1,kind:b.API+b.PREFERENCE},docBaseUrl:{value:"",kind:b.API},enableXfa:{value:!0,kind:b.API+b.PREFERENCE},fontExtraProperties:{value:!1,kind:b.API},isEvalSupported:{value:!0,kind:b.API},maxImageSize:{value:-1,kind:b.API},pdfBug:{value:!1,kind:b.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:b.API},verbosity:{value:1,kind:b.API},workerPort:{value:null,kind:b.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:b.WORKER}};A.disablePreferences={value:!1,kind:b.VIEWER},A.locale={value:navigator.language||"en-US",kind:b.VIEWER},A.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:b.VIEWER},A.renderer.kind+=b.PREFERENCE;const y=Object.create(null);l.AppOptions=class{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(n){var f;const h=y[n];if(void 0!==h)return h;const S=A[n];return void 0!==S?null!=(f=S.compatibility)?f:S.value:void 0}static getAll(n=null){var S;const h=Object.create(null);for(const f in A){const _=A[f];if(n){if(0==(n&_.kind))continue;if(n===b.PREFERENCE){const i=_.value,p=typeof i;if("boolean"===p||"string"===p||"number"===p&&Number.isInteger(i)){h[f]=i;continue}throw new Error(`Invalid type for preference: ${f}`)}}const e=y[f];h[f]=void 0!==e?e:null!=(S=_.compatibility)?S:_.value}return h}static set(n,h){y[n]=h}static setAll(n){for(const h in n)y[h]=n[h]}static remove(n){delete y[n]}static _hasUserOptions(){return Object.keys(y).length>0}}},(O,l,x)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PDFRenderingQueue=void 0;var b=x(3),A=x(6);l.PDFRenderingQueue=class{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(n){this.pdfViewer=n}setThumbnailViewer(n){this.pdfThumbnailViewer=n}isHighestPriority(n){return this.highestPriorityPage===n.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(n){var h;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(n)&&(this.isThumbnailViewEnabled&&(null==(h=this.pdfThumbnailViewer)?void 0:h.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(n,h,S,f=!1){const _=n.views,e=_.length;if(0===e)return null;for(let w=0;w<e;w++){const L=_[w].view;if(!this.isViewFinished(L))return L}const i=n.first.id,p=n.last.id;if(p-i+1>e){const w=n.ids;for(let L=1,R=p-i;L<R;L++){const I=S?i+L:p-L;if(w.has(I))continue;const U=h[I-1];if(!this.isViewFinished(U))return U}}let s=S?p:i-2,g=h[s];return g&&!this.isViewFinished(g)||f&&(s+=S?1:-1,g=h[s],g&&!this.isViewFinished(g))?g:null}isViewFinished(n){return n.renderingState===A.RenderingStates.FINISHED}renderView(n){switch(n.renderingState){case A.RenderingStates.FINISHED:return!1;case A.RenderingStates.PAUSED:this.highestPriorityPage=n.renderingId,n.resume();break;case A.RenderingStates.RUNNING:this.highestPriorityPage=n.renderingId;break;case A.RenderingStates.INITIAL:this.highestPriorityPage=n.renderingId,n.draw().finally(()=>{this.renderHighestPriority()}).catch(h=>{h instanceof b.RenderingCancelledException||console.error(`renderView: "${h}"`)})}return!0}}},(O,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TextHighlighter=void 0,l.TextHighlighter=class{constructor({findController:A,eventBus:y,pageIndex:o}){this.findController=A,this.matches=[],this.eventBus=y,this.pageIdx=o,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(A,y){this.textDivs=A,this.textContentItemsStr=y}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=A=>{(A.pageIndex===this.pageIdx||-1===A.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(A,y){if(!A)return[];const{textContentItemsStr:o}=this;let r=0,n=0;const h=o.length-1,S=[];for(let f=0,_=A.length;f<_;f++){let e=A[f];for(;r!==h&&e>=n+o[r].length;)n+=o[r].length,r++;r===o.length&&console.error("Could not find a matching mapping");const i={begin:{divIdx:r,offset:e-n}};for(e+=y[f];r!==h&&e>n+o[r].length;)n+=o[r].length,r++;i.end={divIdx:r,offset:e-n},S.push(i)}return S}_renderMatches(A){if(0===A.length)return;const{findController:y,pageIdx:o}=this,{textContentItemsStr:r,textDivs:n}=this,h=o===y.selected.pageIdx,S=y.selected.matchIdx;let _=null;function i(w,L){const R=w.divIdx;return n[R].textContent="",p(R,0,w.offset,L)}function p(w,L,R,I){let U=n[w];if(U.nodeType===Node.TEXT_NODE){const N=document.createElement("span");U.parentNode.insertBefore(N,U),N.appendChild(U),n[w]=N,U=N}const H=r[w].substring(L,R),Y=document.createTextNode(H);if(I){const N=document.createElement("span");return N.className=`${I} appended`,N.appendChild(Y),U.appendChild(N),I.includes("selected")?N.offsetLeft:0}return U.appendChild(Y),0}let s=S,g=s+1;if(y.state.highlightAll)s=0,g=A.length;else if(!h)return;for(let w=s;w<g;w++){const L=A[w],R=L.begin,I=L.end,U=h&&w===S,H=U?" selected":"";let Y=0;if(_&&R.divIdx===_.divIdx?p(_.divIdx,_.offset,R.offset):(null!==_&&p(_.divIdx,_.offset,undefined),i(R)),R.divIdx===I.divIdx)Y=p(R.divIdx,R.offset,I.offset,"highlight"+H);else{Y=p(R.divIdx,R.offset,undefined,"highlight begin"+H);for(let N=R.divIdx+1,z=I.divIdx;N<z;N++)n[N].className="highlight middle"+H;i(I,"highlight end"+H)}_=I,U&&y.scrollMatchIntoView({element:n[R.divIdx],selectedLeft:Y,pageIndex:o,matchIndex:S})}_&&p(_.divIdx,_.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:A,matches:y,pageIdx:o}=this,{textContentItemsStr:r,textDivs:n}=this;let h=-1;for(let _=0,e=y.length;_<e;_++){const i=y[_];for(let s=Math.max(h,i.begin.divIdx),g=i.end.divIdx;s<=g;s++){const w=n[s];w.textContent=r[s],w.className=""}h=i.end.divIdx+1}(null==A?void 0:A.highlightMatches)&&(this.matches=this._convertMatches(A.pageMatches[o]||null,A.pageMatchesLength[o]||null),this._renderMatches(this.matches))}}},(O,l,x)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DownloadManager=void 0;var b=x(3);function A(o,r){const n=document.createElement("a");if(!n.click)throw new Error('DownloadManager: "a.click()" is not supported.');n.href=o,n.target="_parent","download"in n&&(n.download=r),(document.body||document.documentElement).appendChild(n),n.click(),n.remove()}l.DownloadManager=class{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(r,n){(0,b.createValidAbsoluteUrl)(r,"http://example.com")?A(r+"#pdfjs.action=download",n):console.error(`downloadUrl - not a valid URL: ${r}`)}downloadData(r,n,h){A(URL.createObjectURL(new Blob([r],{type:h})),n)}openOrDownloadData(r,n,h){const S=(0,b.isPdfFile)(h),f=S?"application/pdf":"";if(S){let e,_=this._openBlobUrls.get(r);_||(_=URL.createObjectURL(new Blob([n],{type:f})),this._openBlobUrls.set(r,_)),e="?file="+encodeURIComponent(_+"#"+h);try{return window.open(e),!0}catch(i){console.error(`openOrDownloadData: ${i}`),URL.revokeObjectURL(_),this._openBlobUrls.delete(r)}}return this.downloadData(n,h,f),!1}download(r,n,h,S="download"){A(URL.createObjectURL(r),h)}}},(O,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WaitOnType=l.EventBus=l.AutomationEventBus=void 0,l.waitOnEventOrTimeout=function({target:o,name:r,delay:n=0}){return new Promise(function(h,S){if("object"!=typeof o||!r||"string"!=typeof r||!(Number.isInteger(n)&&n>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function f(p){o instanceof A?o._off(r,_):o.removeEventListener(r,_),i&&clearTimeout(i),h(p)}const _=f.bind(null,x.EVENT);o instanceof A?o._on(r,_):o.addEventListener(r,_);const e=f.bind(null,x.TIMEOUT),i=setTimeout(e,n)})};const x={EVENT:"event",TIMEOUT:"timeout"};l.WaitOnType=x;class A{constructor(){this._listeners=Object.create(null)}on(r,n,h=null){this._on(r,n,{external:!0,once:null==h?void 0:h.once})}off(r,n,h=null){this._off(r,n,{external:!0,once:null==h?void 0:h.once})}dispatch(r,n){const h=this._listeners[r];if(!h||0===h.length)return;let S;for(const{listener:f,external:_,once:e}of h.slice(0))e&&this._off(r,f),_?(S||(S=[])).push(f):f(n);if(S){for(const f of S)f(n);S=null}}_on(r,n,h=null){var f;((f=this._listeners)[r]||(f[r]=[])).push({listener:n,external:!0===(null==h?void 0:h.external),once:!0===(null==h?void 0:h.once)})}_off(r,n,h=null){const S=this._listeners[r];if(S)for(let f=0,_=S.length;f<_;f++)if(S[f].listener===n)return void S.splice(f,1)}}l.EventBus=A,l.AutomationEventBus=class extends A{dispatch(r,n){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(O,l,x)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.GenericL10n=void 0,x(19);var b=x(4);const A=document.webL10n;l.GenericL10n=class{constructor(r){this._lang=r,this._ready=new Promise((n,h)=>{A.setLanguage((0,b.fixupLangCode)(r),()=>{n(A)})})}getLanguage(){var r=this;return m(function*(){return(yield r._ready).getLanguage()})()}getDirection(){var r=this;return m(function*(){return(yield r._ready).getDirection()})()}get(r,n=null,h=(0,b.getL10nFallback)(r,n)){var S=this;return m(function*(){return(yield S._ready).get(r,n,h)})()}translate(r){var n=this;return m(function*(){return(yield n._ready).translate(r)})()}}},()=>{document.webL10n=function(O,l,x){var b={},A="",y="textContent",o="",r={},n="loading";function i(N,z,K){z=z||function(T){},K=K||function(){};var te=new XMLHttpRequest;te.open("GET",N,!0),te.overrideMimeType&&te.overrideMimeType("text/plain; charset=utf-8"),te.onreadystatechange=function(){4==te.readyState&&(200==te.status||0===te.status?z(te.responseText):K())},te.onerror=K,te.ontimeout=K;try{te.send(null)}catch(ae){K()}}function p(N,z,K,te){var ae=N.replace(/[^\/]*$/,"")||"./";function T(u){return u.lastIndexOf("\\")<0?u:u.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}i(N,function(u){A+=u,function(u,t){var c={},d=/^\s*|\s*$/,P=/^\s*#|^\s*$/,v=/^\s*\[(.*)\]\s*$/,E=/^\s*@import\s+url\((.*)\)\s*$/i,B=/^([^=\s]*)\s*=\s*(.+)$/;function j(W,X,Q){var oe=W.replace(d,"").split(/[\r\n]+/),_e="*",Z=z.split("-",1)[0],re=!1,ie="";!function C(){for(;;){if(!oe.length)return void Q();var D=oe.shift();if(!P.test(D)){if(X){if(ie=v.exec(D)){_e=ie[1].toLowerCase(),re="*"!==_e&&_e!==z&&_e!==Z;continue}if(re)continue;if(ie=E.exec(D))return void V(ae+ie[1],C)}var G=D.match(B);G&&3==G.length&&(c[G[1]]=T(G[2]))}}}()}function V(W,X){i(W,function(Q){j(Q,!1,X)},function(){console.warn(W+" not found."),X()})}j(u,!0,function(){!function(t){for(var c in t){var d,P,v=c.lastIndexOf(".");v>0?(d=c.substring(0,v),P=c.substring(v+1)):(d=c,P=y),b[d]||(b[d]={}),b[d][P]=t[c]}K&&K()}(c)})}(u)},te)}function L(N,z,K){var te=b[N];if(!te){if(console.warn("#"+N+" is undefined."),!K)return null;te=K}var ae={};for(var T in te){var a=te[T];a=I(a=R(a,z,N,T),z,N),ae[T]=a}return ae}function R(N,z,K,te){var T=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(N);if(!T||!T.length)return N;var t,a=T[1],u=T[2];return z&&u in z?t=z[u]:u in b&&(t=b[u]),a in r&&(N=(0,r[a])(N,t,K,te)),N}function I(N,z,K){return N.replace(/\{\{\s*(.+?)\s*\}\}/g,function(ae,T){return z&&T in z?z[T]:T in b?b[T]:(console.log("argument {{"+T+"}} for #"+K+" is undefined."),ae)})}function U(N){var z=function(N){if(!N)return{};var z=N.getAttribute("data-l10n-id"),K=N.getAttribute("data-l10n-args"),te={};if(K)try{te=JSON.parse(K)}catch(ae){console.warn("could not parse arguments for #"+z)}return{id:z,args:te}}(N);if(z.id){var K=L(z.id,z.args);if(!K)return void console.warn("#"+z.id+" is undefined.");if(K[y]){if(0===function(N){if(N.children)return N.children.length;if(void 0!==N.childElementCount)return N.childElementCount;for(var z=0,K=0;K<N.childNodes.length;K++)z+=1===N.nodeType?1:0;return z}(N))N[y]=K[y];else{for(var te=N.childNodes,ae=!1,T=0,a=te.length;T<a;T++)3===te[T].nodeType&&/\S/.test(te[T].nodeValue)&&(ae?te[T].nodeValue="":(te[T].nodeValue=K[y],ae=!0));if(!ae){var u=l.createTextNode(K[y]);N.insertBefore(u,N.firstChild)}}delete K[y]}for(var t in K)N[t]=K[t]}}return r.plural=function(N,z,K,te){var ae=parseFloat(z);if(isNaN(ae)||te!=y)return N;r._pluralRules||(r._pluralRules=function(N){function K(a,u){return-1!==u.indexOf(a)}function te(a,u,t){return u<=a&&a<=t}var ae={0:function(a){return"other"},1:function(a){return te(a%100,3,10)?"few":0===a?"zero":te(a%100,11,99)?"many":2==a?"two":1==a?"one":"other"},2:function(a){return 0!==a&&a%10==0?"many":2==a?"two":1==a?"one":"other"},3:function(a){return 1==a?"one":"other"},4:function(a){return te(a,0,1)?"one":"other"},5:function(a){return te(a,0,2)&&2!=a?"one":"other"},6:function(a){return 0===a?"zero":a%10==1&&a%100!=11?"one":"other"},7:function(a){return 2==a?"two":1==a?"one":"other"},8:function(a){return te(a,3,6)?"few":te(a,7,10)?"many":2==a?"two":1==a?"one":"other"},9:function(a){return 0===a||1!=a&&te(a%100,1,19)?"few":1==a?"one":"other"},10:function(a){return te(a%10,2,9)&&!te(a%100,11,19)?"few":a%10!=1||te(a%100,11,19)?"other":"one"},11:function(a){return te(a%10,2,4)&&!te(a%100,12,14)?"few":a%10==0||te(a%10,5,9)||te(a%100,11,14)?"many":a%10==1&&a%100!=11?"one":"other"},12:function(a){return te(a,2,4)?"few":1==a?"one":"other"},13:function(a){return te(a%10,2,4)&&!te(a%100,12,14)?"few":1!=a&&te(a%10,0,1)||te(a%10,5,9)||te(a%100,12,14)?"many":1==a?"one":"other"},14:function(a){return te(a%100,3,4)?"few":a%100==2?"two":a%100==1?"one":"other"},15:function(a){return 0===a||te(a%100,2,10)?"few":te(a%100,11,19)?"many":1==a?"one":"other"},16:function(a){return a%10==1&&11!=a?"one":"other"},17:function(a){return 3==a?"few":0===a?"zero":6==a?"many":2==a?"two":1==a?"one":"other"},18:function(a){return 0===a?"zero":te(a,0,2)&&0!==a&&2!=a?"one":"other"},19:function(a){return te(a,2,10)?"few":te(a,0,1)?"one":"other"},20:function(a){return!te(a%10,3,4)&&a%10!=9||te(a%100,10,19)||te(a%100,70,79)||te(a%100,90,99)?a%1e6==0&&0!==a?"many":a%10!=2||K(a%100,[12,72,92])?a%10!=1||K(a%100,[11,71,91])?"other":"one":"two":"few"},21:function(a){return 0===a?"zero":1==a?"one":"other"},22:function(a){return te(a,0,1)||te(a,11,99)?"one":"other"},23:function(a){return te(a%10,1,2)||a%20==0?"one":"other"},24:function(a){return te(a,3,10)||te(a,13,19)?"few":K(a,[2,12])?"two":K(a,[1,11])?"one":"other"}},T={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[N.replace(/-.*$/,"")];return T in ae?ae[T]:(console.warn("plural form unknown for ["+N+"]"),function(){return"other"})}(o));var T="["+r._pluralRules(ae)+"]";return 0===ae&&K+"[zero]"in b?N=b[K+"[zero]"][te]:1==ae&&K+"[one]"in b?N=b[K+"[one]"][te]:2==ae&&K+"[two]"in b?N=b[K+"[two]"][te]:K+T in b?N=b[K+T][te]:K+"[other]"in b&&(N=b[K+"[other]"][te]),N},{get:function(N,z,K){var T,te=N.lastIndexOf("."),ae=y;te>0&&(ae=N.substring(te+1),N=N.substring(0,te)),K&&((T={})[ae]=K);var a=L(N,z,T);return a&&ae in a?a[ae]:"{{"+N+"}}"},getData:function(){return b},getText:function(){return A},getLanguage:function(){return o},setLanguage:function(N,z){!function(N,z){N&&(N=N.toLowerCase()),z=z||function(){},b={},A="",o="",o=N;var K=l.querySelectorAll('link[type="application/l10n"]'),te=K.length;if(0!==te){var u,t=0;u=function(){++t>=te&&(z(),n="complete")};for(var d=0;d<te;d++)new c(K[d]).load(N,u)}else{var ae=function(){var N=l.querySelector('script[type="application/l10n"]');return N?JSON.parse(N.innerHTML):null}();if(ae&&ae.locales&&ae.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(b=ae.locales[N])){var T=ae.default_locale.toLowerCase();for(var a in ae.locales){if((a=a.toLowerCase())===N){b=ae.locales[N];break}a===T&&(b=ae.locales[T])}}z()}else console.log("no resource to load, early way out");n="complete"}function c(v){var E=v.href;this.load=function(B,j){p(E,B,j,function(){console.warn(E+" not found."),console.warn('"'+B+'" resource not found'),o="",j()})}}}(N,function(){z&&z()})},getDirection:function(){var z=o.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(z)>=0?"rtl":"ltr"},translate:function(N){for(var z=function(N){return N?N.querySelectorAll("*[data-l10n-id]"):[]}(N=N||l.documentElement),K=z.length,te=0;te<K;te++)U(z[te]);U(N)},getReadyState:function(){return n},ready:function(N){N&&("complete"==n||"interactive"==n?O.setTimeout(function(){N()}):l.addEventListener&&l.addEventListener("localized",function z(){l.removeEventListener("localized",z),N()}))}}}(window,document)},(O,l,x)=>{var I,xt,H,ot,N,lt,K,Et,ae,Tt,a,Mt,t,ct,d,Lt,v,kt,B,Je,V,Ge,X,je,oe,Rt,Z,ht,ie,ut,D,Ze,ue,Ft,fe,dt,be,Ot,Ce,ze;Object.defineProperty(l,"__esModule",{value:!0}),l.PDFFindController=l.FindState=void 0;var b=x(6),A=x(3),y=x(21);const o={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};l.FindState=o;const S={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},f=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),_=[...f.values()].map(ee=>String.fromCharCode(ee)).join(""),e=/\p{M}+/gu,i=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,p=/([^\p{M}])\p{M}*$/u,s=/^\p{M}*([^\p{M}])/u;let g=null;function w(ee){if(!g){const xe=Object.keys(S).join("");g=new RegExp(`([${xe}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const k=[];let F;for(;null!==(F=e.exec(ee));)k.push([F[0].length,F.index]);let se=ee.normalize("NFD");const ce=[[0,0]];let pe=0,ge=0,Pe=0,we=0,Me=!1;return se=se.replace(g,(xe,Re,ke,Ie,Le,Oe)=>{var Be;if(Oe-=Pe,Re){const Ne=S[xe],Ve=Ne.length;for(let De=1;De<Ve;De++)ce.push([Oe-ge+De,ge-De]);return ge-=Ve-1,Ne}if(ke){const Ne=ke.endsWith("\n"),Ve=Ne?ke.length-2:ke.length;Me=!0;let De=Ve;Oe+we===(null==(Be=k[pe])?void 0:Be[1])&&(De-=k[pe][0],++pe);for(let Fe=1;Fe<De+1;Fe++)ce.push([Oe-1-ge+Fe,ge-Fe]);return ge-=De,Pe+=De,Ne?(ce.push([(Oe+=Ve-1)-ge+1,1+ge]),ge+=1,Pe+=1,we+=1,ke.slice(0,Ve)):ke}return Ie?(ce.push([Oe-ge+1,1+ge]),ge+=1,Pe+=1,we+=1,Ie.charAt(0)):(ce.push([Oe-ge+1,ge-1]),ge-=1,Pe+=1,we+=1," ")}),ce.push([se.length,ge]),[se,ce,Me]}function L(ee,k,F){if(!ee)return[k,F];const se=k,ce=k+F;let pe=(0,b.binarySearchFirstItem)(ee,Pe=>Pe[0]>=se);ee[pe][0]>se&&--pe;let ge=(0,b.binarySearchFirstItem)(ee,Pe=>Pe[0]>=ce,pe);return ee[ge][0]>ce&&--ge,[se+ee[pe][1],F+ee[ge][1]-ee[pe][1]]}I=new WeakSet,xt=function(k){if(!k)return;const F=this._pdfDocument,{type:se}=k;(null===this._state||ye(this,K,Et).call(this,k))&&(this._dirtyMatch=!0),this._state=k,"highlightallchange"!==se&&ye(this,Ce,ze).call(this,o.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||F&&this._pdfDocument!==F)return;ye(this,v,kt).call(this);const ce=!this._highlightMatches,pe=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),se?this._dirtyMatch?ye(this,X,je).call(this):"again"===se?(ye(this,X,je).call(this),ce&&this._state.highlightAll&&ye(this,V,Ge).call(this)):"highlightallchange"===se?(pe?ye(this,X,je).call(this):this._highlightMatches=!0,ye(this,V,Ge).call(this)):ye(this,X,je).call(this):this._findTimeout=setTimeout(()=>{ye(this,X,je).call(this),this._findTimeout=null},250)})},H=new WeakSet,ot=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,A.createPromiseCapability)()},N=new WeakSet,lt=function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=w(this._state.query)),this._normalizedQuery},K=new WeakSet,Et=function(k){if(k.query!==this._state.query)return!0;switch(k.type){case"again":const F=this._selected.pageIdx+1,se=this._linkService;return F>=1&&F<=se.pagesCount&&F!==se.page&&!se.isPageVisible(F);case"highlightallchange":return!1}return!0},ae=new WeakSet,Tt=function(k,F,se){let ce=k.slice(0,F).match(p);if(ce){const pe=k.charCodeAt(F),ge=ce[1].charCodeAt(0);if((0,y.getCharacterType)(pe)===(0,y.getCharacterType)(ge))return!1}if(ce=k.slice(F+se).match(s),ce){const pe=k.charCodeAt(F+se-1),ge=ce[1].charCodeAt(0);if((0,y.getCharacterType)(pe)===(0,y.getCharacterType)(ge))return!1}return!0},a=new WeakSet,Mt=function(k,F,se,ce){const pe=[],ge=[],Pe=this._pageDiffs[se];let we;for(;null!==(we=k.exec(ce));){if(F&&!ye(this,ae,Tt).call(this,ce,we.index,we[0].length))continue;const[Me,xe]=L(Pe,we.index,we[0].length);xe&&(pe.push(Me),ge.push(xe))}this._pageMatches[se]=pe,this._pageMatchesLength[se]=ge},t=new WeakSet,ct=function(k,F){const{matchDiacritics:se}=this._state;let ce=!1;return(k=k.replace(i,(ge,Pe,we,Me,xe,Re)=>Pe?`[ ]*\\${Pe}[ ]*`:we?`[ ]*${we}[ ]*`:Me?"[ ]+":se?xe||Re:xe?f.has(xe.charCodeAt(0))?xe:"":F?(ce=!0,`${Re}\\p{M}*`):Re)).endsWith("[ ]*")&&(k=k.slice(0,k.length-"[ ]*".length)),se&&F&&(ce=!0,k=`${k}(?=[${_}]|[^\\p{M}]|$)`),[ce,k]},d=new WeakSet,Lt=function(k){let F=Ae(this,N,lt);if(0===F.length)return;const{caseSensitive:se,entireWord:ce,phraseSearch:pe}=this._state,ge=this._pageContents[k],Pe=this._hasDiacritics[k];let we=!1;if(pe)[we,F]=ye(this,t,ct).call(this,F,Pe);else{const Re=F.match(/\S+/g);Re&&(F=Re.sort().reverse().map(ke=>{const[Ie,Le]=ye(this,t,ct).call(this,ke,Pe);return we||(we=Ie),`(${Le})`}).join("|"))}F=new RegExp(F,`g${we?"u":""}${se?"":"i"}`),ye(this,a,Mt).call(this,F,ce,k,ge),this._state.highlightAll&&ye(this,B,Je).call(this,k),this._resumePageIdx===k&&(this._resumePageIdx=null,ye(this,Z,ht).call(this));const xe=this._pageMatches[k].length;xe>0&&(this._matchesCountTotal+=xe,ye(this,be,Ot).call(this))},v=new WeakSet,kt=function(){if(this._extractTextPromises.length>0)return;let k=Promise.resolve();for(let F=0,se=this._linkService.pagesCount;F<se;F++){const ce=(0,A.createPromiseCapability)();this._extractTextPromises[F]=ce.promise,k=k.then(()=>this._pdfDocument.getPage(F+1).then(pe=>pe.getTextContent()).then(pe=>{const ge=[];for(const Pe of pe.items)ge.push(Pe.str),Pe.hasEOL&&ge.push("\n");[this._pageContents[F],this._pageDiffs[F],this._hasDiacritics[F]]=w(ge.join("")),ce.resolve()},pe=>{console.error(`Unable to get text content for page ${F+1}`,pe),this._pageContents[F]="",this._pageDiffs[F]=null,this._hasDiacritics[F]=!1,ce.resolve()}))}},B=new WeakSet,Je=function(k){this._scrollMatches&&this._selected.pageIdx===k&&(this._linkService.page=k+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:k})},V=new WeakSet,Ge=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},X=new WeakSet,je=function(){const k=this._state.findPrevious,F=this._linkService.page-1,se=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=F,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,ye(this,V,Ge).call(this);for(let pe=0;pe<se;pe++)this._pendingFindMatches.has(pe)||(this._pendingFindMatches.add(pe),this._extractTextPromises[pe].then(()=>{this._pendingFindMatches.delete(pe),ye(this,d,Lt).call(this,pe)}))}if(""===Ae(this,N,lt))return void ye(this,Ce,ze).call(this,o.FOUND);if(this._resumePageIdx)return;const ce=this._offset;if(this._pagesToSearch=se,null!==ce.matchIdx){const pe=this._pageMatches[ce.pageIdx].length;if(!k&&ce.matchIdx+1<pe||k&&ce.matchIdx>0)return ce.matchIdx=k?ce.matchIdx-1:ce.matchIdx+1,void ye(this,D,Ze).call(this,!0);ye(this,ie,ut).call(this,k)}ye(this,Z,ht).call(this)},oe=new WeakSet,Rt=function(k){const F=this._offset,se=k.length,ce=this._state.findPrevious;return se?(F.matchIdx=ce?se-1:0,ye(this,D,Ze).call(this,!0),!0):(ye(this,ie,ut).call(this,ce),!!(F.wrapped&&(F.matchIdx=null,this._pagesToSearch<0))&&(ye(this,D,Ze).call(this,!1),!0))},Z=new WeakSet,ht=function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let k=null;do{const F=this._offset.pageIdx;if(k=this._pageMatches[F],!k){this._resumePageIdx=F;break}}while(!ye(this,oe,Rt).call(this,k))},ie=new WeakSet,ut=function(k){const F=this._offset,se=this._linkService.pagesCount;F.pageIdx=k?F.pageIdx-1:F.pageIdx+1,F.matchIdx=null,this._pagesToSearch--,(F.pageIdx>=se||F.pageIdx<0)&&(F.pageIdx=k?se-1:0,F.wrapped=!0)},D=new WeakSet,Ze=function(k=!1){let F=o.NOT_FOUND;const se=this._offset.wrapped;if(this._offset.wrapped=!1,k){const ce=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,F=se?o.WRAPPED:o.FOUND,-1!==ce&&ce!==this._selected.pageIdx&&ye(this,B,Je).call(this,ce)}ye(this,Ce,ze).call(this,F,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,ye(this,B,Je).call(this,this._selected.pageIdx))},ue=new WeakSet,Ft=function(k){const F=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||F&&this._pdfDocument!==F||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),ye(this,Ce,ze).call(this,o.FOUND),this._highlightMatches=!1,ye(this,V,Ge).call(this))})},fe=new WeakSet,dt=function(){var pe;const{pageIdx:k,matchIdx:F}=this._selected;let se=0,ce=this._matchesCountTotal;if(-1!==F){for(let ge=0;ge<k;ge++)se+=(null==(pe=this._pageMatches[ge])?void 0:pe.length)||0;se+=F+1}return(se<1||se>ce)&&(se=ce=0),{current:se,total:ce}},be=new WeakSet,Ot=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:ye(this,fe,dt).call(this)})},Ce=new WeakSet,ze=function(k,F=!1){var se,ce;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:k,previous:F,matchesCount:ye(this,fe,dt).call(this),rawQuery:null!=(ce=null==(se=this._state)?void 0:se.query)?ce:null})},l.PDFFindController=class{constructor({linkService:k,eventBus:F}){ve(this,I),ve(this,H),ve(this,N),ve(this,K),ve(this,ae),ve(this,a),ve(this,t),ve(this,d),ve(this,v),ve(this,B),ve(this,V),ve(this,X),ve(this,oe),ve(this,Z),ve(this,ie),ve(this,D),ve(this,ue),ve(this,fe),ve(this,be),ve(this,Ce),this._linkService=k,this._eventBus=F,ye(this,H,ot).call(this),F._on("find",ye(this,I,xt).bind(this)),F._on("findbarclose",ye(this,ue,Ft).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(k){this._pdfDocument&&ye(this,H,ot).call(this),k&&(this._pdfDocument=k,this._firstPageCapability.resolve())}scrollMatchIntoView({element:k=null,selectedLeft:F=0,pageIndex:se=-1,matchIndex:ce=-1}){this._scrollMatches&&k&&-1!==ce&&ce===this._selected.matchIdx&&-1!==se&&se===this._selected.pageIdx&&(this._scrollMatches=!1,(0,b.scrollIntoView)(k,{top:-50,left:F+-400},!0))}}},(O,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CharacterType=void 0,l.getCharacterType=function(i){return function(i){return i<11904}(i)?function(i){return 0==(65408&i)}(i)?function(i){return 32===i||9===i||13===i||10===i}(i)?x.SPACE:function(i){return i>=97&&i<=122||i>=65&&i<=90}(i)||function(i){return i>=48&&i<=57}(i)||95===i?x.ALPHA_LETTER:x.PUNCT:function(i){return 3584==(65408&i)}(i)?x.THAI_LETTER:160===i?x.SPACE:x.ALPHA_LETTER:function(i){return i>=13312&&i<=40959||i>=63744&&i<=64255}(i)?x.HAN_LETTER:function(i){return i>=12448&&i<=12543}(i)?x.KATAKANA_LETTER:function(i){return i>=12352&&i<=12447}(i)?x.HIRAGANA_LETTER:function(i){return i>=65376&&i<=65439}(i)?x.HALFWIDTH_KATAKANA_LETTER:x.ALPHA_LETTER};const x={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};l.CharacterType=x},(O,l,x)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PDFHistory=void 0,l.isDestArraysEqual=f,l.isDestHashesEqual=S;var b=x(6),A=x(17);function n(){return document.location.hash}function S(_,e){return"string"==typeof _&&"string"==typeof e&&(_===e||(0,b.parseQueryString)(_).get("nameddest")===e)}function f(_,e){function i(p,s){if(typeof p!=typeof s||Array.isArray(p)||Array.isArray(s))return!1;if(null!==p&&"object"==typeof p&&null!==s){if(Object.keys(p).length!==Object.keys(s).length)return!1;for(const g in p)if(!i(p[g],s[g]))return!1;return!0}return p===s||Number.isNaN(p)&&Number.isNaN(s)}if(!Array.isArray(_)||!Array.isArray(e)||_.length!==e.length)return!1;for(let p=0,s=_.length;p<s;p++)if(!i(_[p],e[p]))return!1;return!0}l.PDFHistory=class{constructor({linkService:e,eventBus:i}){this.linkService=e,this.eventBus=i,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",p=>{this._isPagesLoaded=!!p.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:i=!1,updateUrl:p=!1}){if(!e||"string"!=typeof e)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const s=""!==this._fingerprint&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=!0===p,this._initialized=!0,this._bindEvents();const g=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=n(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(g,!0)||i){const{hash:L,page:R,rotation:I}=this._parseCurrentHash(!0);return!L||s||i?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:L,page:R,rotation:I},!0)}const w=g.destination;this._updateInternalState(w,g.uid,!0),void 0!==w.rotation&&(this._initialRotation=w.rotation),w.dest?(this._initialBookmark=JSON.stringify(w.dest),this._destination.page=null):w.hash?this._initialBookmark=w.hash:w.page&&(this._initialBookmark=`page=${w.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:i,pageNumber:p}){if(!this._initialized)return;if(e&&"string"!=typeof e)return void console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);if(!Array.isArray(i))return void console.error(`PDFHistory.push: "${i}" is not a valid explicitDest parameter.`);if(!this._isValidPage(p)&&(null!==p||this._destination))return void console.error(`PDFHistory.push: "${p}" is not a valid pageNumber parameter.`);const s=e||JSON.stringify(i);if(!s)return;let g=!1;if(this._destination&&(S(this._destination.hash,s)||f(this._destination.dest,i))){if(this._destination.page)return;g=!0}this._popStateInProgress&&!g||(this._pushOrReplaceState({dest:i,hash:s,page:p,rotation:this.linkService.rotation},g),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){var i;if(this._initialized){if(!this._isValidPage(e))return void console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);(null==(i=this._destination)?void 0:i.page)!==e&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;this._isValidState(e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;this._isValidState(e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(e,i=!1){const p=i||!this._destination,s={fingerprint:this._fingerprint,uid:p?this._uid:this._uid+1,destination:e};let g;if(this._updateInternalState(e,s.uid),this._updateUrl&&(null==e?void 0:e.hash)){const w=document.location.href.split("#")[0];w.startsWith("file://")||(g=`${w}#${e.hash}`)}p?window.history.replaceState(s,"",g):window.history.pushState(s,"",g)}_tryPushCurrentPosition(e=!1){if(!this._position)return;let i=this._position;if(e&&(i=Object.assign(Object.create(null),this._position),i.temporary=!0),!this._destination)return void this._pushOrReplaceState(i);if(this._destination.temporary)return void this._pushOrReplaceState(i,!0);if(this._destination.hash===i.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let p=!1;if(this._destination.page>=i.first&&this._destination.page<=i.page){if(void 0!==this._destination.dest||!this._destination.first)return;p=!0}this._pushOrReplaceState(i,p)}_isValidPage(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount}_isValidState(e,i=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint){if(!i)return!1;{if("string"!=typeof e.fingerprint||e.fingerprint.length!==this._fingerprint.length)return!1;const[p]=performance.getEntriesByType("navigation");if("reload"!==(null==p?void 0:p.type))return!1}}return!(!Number.isInteger(e.uid)||e.uid<0||null===e.destination||"object"!=typeof e.destination)}_updateInternalState(e,i,p=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),p&&(null==e?void 0:e.temporary)&&delete e.temporary,this._destination=e,this._uid=i,this._maxUid=Math.max(this._maxUid,i),this._numPositionUpdates=0}_parseCurrentHash(e=!1){const i=unescape(n()).substring(1),p=(0,b.parseQueryString)(i),s=p.get("nameddest")||"";let g=0|p.get("page");return(!this._isValidPage(g)||e&&s.length>0)&&(g=null),{hash:i,page:g,rotation:this.linkService.rotation}}_updateViewarea({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:e}){const i=n(),p=this._currentHash!==i;if(this._currentHash=i,!e){this._uid++;const{hash:g,page:w,rotation:L}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:g,page:w,rotation:L},!0)}if(!this._isValidState(e))return;this._popStateInProgress=!0,p&&(this._blockHashChange++,(0,A.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const s=e.destination;this._updateInternalState(s,e.uid,!0),(0,b.isValidRotation)(s.rotation)&&(this.linkService.rotation=s.rotation),s.dest?this.linkService.goToDestination(s.dest):s.hash?this.linkService.setHash(s.hash):s.page&&(this.linkService.page=s.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(O,l,x)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PDFScriptingManager=void 0;var b=x(6),A=x(3);l.PDFScriptingManager=class{constructor({eventBus:r,sandboxBundleSrc:n=null,scriptingFactory:h=null,docPropertiesLookup:S=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=r,this._sandboxBundleSrc=n,this._scriptingFactory=h,this._docPropertiesLookup=S,this._scriptingFactory||window.addEventListener("updatefromsandbox",f=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:f.detail})})}setViewer(r){this._pdfViewer=r}setDocument(r){var n=this;return m(function*(){var _;if(n._pdfDocument&&(yield n._destroyScripting()),n._pdfDocument=r,!r)return;const[h,S,f]=yield Promise.all([r.getFieldObjects(),r.getCalculationOrderIds(),r.getJSActions()]);if(h||f){if(r===n._pdfDocument){try{n._scripting=n._createScripting()}catch(e){return console.error(`PDFScriptingManager.setDocument: "${null==e?void 0:e.message}".`),void(yield n._destroyScripting())}n._internalEvents.set("updatefromsandbox",e=>{(null==e?void 0:e.source)===window&&n._updateFromSandbox(e.detail)}),n._internalEvents.set("dispatcheventinsandbox",e=>{var i;null==(i=n._scripting)||i.dispatchEventInSandbox(e.detail)}),n._internalEvents.set("pagechanging",({pageNumber:e,previous:i})=>{e!==i&&(n._dispatchPageClose(i),n._dispatchPageOpen(e))}),n._internalEvents.set("pagerendered",({pageNumber:e})=>{!n._pageOpenPending.has(e)||e===n._pdfViewer.currentPageNumber&&n._dispatchPageOpen(e)}),n._internalEvents.set("pagesdestroy",function(){var e=m(function*(i){var p,s;yield n._dispatchPageClose(n._pdfViewer.currentPageNumber),yield null==(p=n._scripting)?void 0:p.dispatchEventInSandbox({id:"doc",name:"WillClose"}),null==(s=n._closeCapability)||s.resolve()});return function(i){return e.apply(this,arguments)}}()),n._domEvents.set("mousedown",e=>{n._mouseState.isDown=!0}),n._domEvents.set("mouseup",e=>{n._mouseState.isDown=!1});for(const[e,i]of n._internalEvents)n._eventBus._on(e,i);for(const[e,i]of n._domEvents)window.addEventListener(e,i,!0);try{const e=yield n._getDocProperties();if(r!==n._pdfDocument)return;yield n._scripting.createSandbox({objects:h,calculationOrder:S,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:Ye($e({},e),{actions:f})}),n._eventBus.dispatch("sandboxcreated",{source:n})}catch(e){return console.error(`PDFScriptingManager.setDocument: "${null==e?void 0:e.message}".`),void(yield n._destroyScripting())}yield null==(_=n._scripting)?void 0:_.dispatchEventInSandbox({id:"doc",name:"Open"}),yield n._dispatchPageOpen(n._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{r===n._pdfDocument&&(n._ready=!0)})}}else yield n._destroyScripting()})()}dispatchWillSave(r){var n=this;return m(function*(){var h;return null==(h=n._scripting)?void 0:h.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(r){var n=this;return m(function*(){var h;return null==(h=n._scripting)?void 0:h.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(r){var n=this;return m(function*(){var h;return null==(h=n._scripting)?void 0:h.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(r){var n=this;return m(function*(){var h;return null==(h=n._scripting)?void 0:h.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){var r;return(null==(r=this._destroyCapability)?void 0:r.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,A.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,A.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,A.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,A.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(r){var n=this;return m(function*(){var p;const h=n._pdfViewer.isInPresentationMode||n._pdfViewer.isChangingPresentationMode,{id:S,siblings:f,command:_,value:e}=r;if(!S){switch(_){case"clear":console.clear();break;case"error":console.error(e);break;case"layout":if(h)return;const s=(0,b.apiPageLayoutToViewerModes)(e);n._pdfViewer.spreadMode=s.spreadMode;break;case"page-num":n._pdfViewer.currentPageNumber=e+1;break;case"print":yield n._pdfViewer.pagesPromise,n._eventBus.dispatch("print",{source:n});break;case"println":console.log(e);break;case"zoom":if(h)return;n._pdfViewer.currentScaleValue=e;break;case"SaveAs":n._eventBus.dispatch("save",{source:n});break;case"FirstPage":n._pdfViewer.currentPageNumber=1;break;case"LastPage":n._pdfViewer.currentPageNumber=n._pdfViewer.pagesCount;break;case"NextPage":n._pdfViewer.nextPage();break;case"PrevPage":n._pdfViewer.previousPage();break;case"ZoomViewIn":if(h)return;n._pdfViewer.increaseScale();break;case"ZoomViewOut":if(h)return;n._pdfViewer.decreaseScale()}return}if(h&&r.focus)return;delete r.id,delete r.siblings;const i=f?[S,...f]:[S];for(const s of i){const g=document.getElementById(s);g?g.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:r})):null==(p=n._pdfDocument)||p.annotationStorage.setValue(s,r)}})()}_dispatchPageOpen(r,n=!1){var h=this;return m(function*(){const S=h._pdfDocument,f=h._visitedPages;if(n&&(h._closeCapability=(0,A.createPromiseCapability)()),!h._closeCapability)return;const _=h._pdfViewer.getPageView(r-1);if((null==_?void 0:_.renderingState)!==b.RenderingStates.FINISHED)return void h._pageOpenPending.add(r);h._pageOpenPending.delete(r);const e=m(function*(){var p,s;const i=yield f.has(r)?null:null==(p=_.pdfPage)?void 0:p.getJSActions();S===h._pdfDocument&&(yield null==(s=h._scripting)?void 0:s.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:r,actions:i}))})();f.set(r,e)})()}_dispatchPageClose(r){var n=this;return m(function*(){var _;const h=n._pdfDocument,S=n._visitedPages;if(!n._closeCapability||n._pageOpenPending.has(r))return;const f=S.get(r);!f||(S.set(r,null),yield f,h===n._pdfDocument&&(yield null==(_=n._scripting)?void 0:_.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:r})))})()}_getDocProperties(){var r=this;return m(function*(){if(r._docPropertiesLookup)return r._docPropertiesLookup(r._pdfDocument);const{docPropertiesLookup:n}=x(24);return n(r._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,A.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:r}=x(24);return new r(this._sandboxBundleSrc)}_destroyScripting(){var r=this;return m(function*(){var n,h;if(!r._scripting)return r._pdfDocument=null,void(null==(n=r._destroyCapability)||n.resolve());r._closeCapability&&(yield Promise.race([r._closeCapability.promise,new Promise(S=>{setTimeout(S,1e3)})]).catch(S=>{}),r._closeCapability=null),r._pdfDocument=null;try{yield r._scripting.destroySandbox()}catch(S){}for(const[S,f]of r._internalEvents)r._eventBus._off(S,f);r._internalEvents.clear();for(const[S,f]of r._domEvents)window.removeEventListener(S,f,!0);r._domEvents.clear(),r._pageOpenPending.clear(),r._visitedPages.clear(),r._scripting=null,delete r._mouseState.isDown,r._ready=!1,null==(h=r._destroyCapability)||h.resolve()})()}}},(O,l,x)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.GenericScripting=void 0,l.docPropertiesLookup=function(r){return y.apply(this,arguments)};var b=x(3);function y(){return(y=m(function*(r){const h="".split("#")[0];let{info:S,metadata:f,contentDispositionFilename:_,contentLength:e}=yield r.getMetadata();if(!e){const{length:i}=yield r.getDownloadInfo();e=i}return Ye($e({},S),{baseURL:h,filesize:e,filename:_||(0,b.getPdfFilenameFromUrl)(""),metadata:null==f?void 0:f.getRaw(),authors:null==f?void 0:f.get("dc:creator"),numPages:r.numPages,URL:""})})).apply(this,arguments)}l.GenericScripting=class{constructor(n){this._ready=(0,b.loadScript)(n,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(n){var h=this;return m(function*(){(yield h._ready).create(n)})()}dispatchEventInSandbox(n){var h=this;return m(function*(){const S=yield h._ready;setTimeout(()=>S.dispatchEvent(n),0)})()}destroySandbox(){var n=this;return m(function*(){(yield n._ready).nukeSandbox()})()}}}],$={};function q(O){var l=$[O];if(void 0!==l)return l.exports;var x=$[O]={exports:{}};return he[O](x,x.exports,q),x.exports}var J={};return(()=>{var O=J;Object.defineProperty(O,"__esModule",{value:!0}),Object.defineProperty(O,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return y.AnnotationLayerBuilder}}),Object.defineProperty(O,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return l.DefaultAnnotationLayerFactory}}),Object.defineProperty(O,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return l.DefaultStructTreeLayerFactory}}),Object.defineProperty(O,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return l.DefaultTextLayerFactory}}),Object.defineProperty(O,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return l.DefaultXfaLayerFactory}}),Object.defineProperty(O,"DownloadManager",{enumerable:!0,get:function(){return o.DownloadManager}}),Object.defineProperty(O,"EventBus",{enumerable:!0,get:function(){return r.EventBus}}),Object.defineProperty(O,"GenericL10n",{enumerable:!0,get:function(){return n.GenericL10n}}),Object.defineProperty(O,"LinkTarget",{enumerable:!0,get:function(){return x.LinkTarget}}),Object.defineProperty(O,"NullL10n",{enumerable:!0,get:function(){return h.NullL10n}}),Object.defineProperty(O,"PDFFindController",{enumerable:!0,get:function(){return S.PDFFindController}}),Object.defineProperty(O,"PDFHistory",{enumerable:!0,get:function(){return f.PDFHistory}}),Object.defineProperty(O,"PDFLinkService",{enumerable:!0,get:function(){return x.PDFLinkService}}),Object.defineProperty(O,"PDFPageView",{enumerable:!0,get:function(){return _.PDFPageView}}),Object.defineProperty(O,"PDFScriptingManager",{enumerable:!0,get:function(){return e.PDFScriptingManager}}),Object.defineProperty(O,"PDFSinglePageViewer",{enumerable:!0,get:function(){return A.PDFSinglePageViewer}}),Object.defineProperty(O,"PDFViewer",{enumerable:!0,get:function(){return A.PDFViewer}}),Object.defineProperty(O,"ProgressBar",{enumerable:!0,get:function(){return b.ProgressBar}}),Object.defineProperty(O,"SimpleLinkService",{enumerable:!0,get:function(){return x.SimpleLinkService}}),Object.defineProperty(O,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return i.StructTreeLayerBuilder}}),Object.defineProperty(O,"TextLayerBuilder",{enumerable:!0,get:function(){return p.TextLayerBuilder}}),Object.defineProperty(O,"XfaLayerBuilder",{enumerable:!0,get:function(){return s.XfaLayerBuilder}}),Object.defineProperty(O,"parseQueryString",{enumerable:!0,get:function(){return b.parseQueryString}});var l=q(1),x=q(5),b=q(6),A=q(10),y=q(2),o=q(16),r=q(17),n=q(18),h=q(4),S=q(20),f=q(22),_=q(12),e=q(23),i=q(7),p=q(8),s=q(9)})(),J})(),de.exports=q()},8926:de=>{function M(m,he,$,q,J,O,l){try{var x=m[O](l),b=x.value}catch(A){return void $(A)}x.done?he(b):Promise.resolve(b).then(q,J)}de.exports=function(m){return function(){var he=this,$=arguments;return new Promise(function(q,J){var O=m.apply(he,$);function l(b){M(O,q,J,l,x,"next",b)}function x(b){M(O,q,J,l,x,"throw",b)}l(void 0)})}},de.exports.default=de.exports,de.exports.__esModule=!0},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},2490:(de,M,ne)=>{"use strict";var m,he;ne.d(M,{rQ:()=>_,xC:()=>e});var $=ne(5e3),q=ne(4968),J=ne(7579),O=ne(2076),l=ne(2722),x=ne(8372),b=ne(9300),A=ne(6036),y=ne(2813);const o=["pdfViewerContainer"];function h(i,p,s){i[p]=s}function S(){return"undefined"==typeof window}S()||h(m||(m=ne.t(A,2)),"verbosity",A.VerbosityLevel.INFOS);var f=(()=>{return(i=f||(f={}))[i.DISABLED=0]="DISABLED",i[i.ENABLED=1]="ENABLED",i[i.ENHANCED=2]="ENHANCED",f;var i})();let _=(()=>{class i{constructor(s,g){if(this.element=s,this.ngZone=g,this.isVisible=!1,this._cMapsUrl=void 0!==(m||(m=ne.t(A,2)))?`https://unpkg.com/pdfjs-dist@${A.version}/cmaps/`:null,this._imageResourcesPath=void 0!==(m||(m=ne.t(A,2)))?`https://unpkg.com/pdfjs-dist@${A.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=f.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new J.x,this.afterLoadComplete=new $.vpe,this.pageRendered=new $.vpe,this.pageInitialized=new $.vpe,this.textLayerRendered=new $.vpe,this.onError=new $.vpe,this.onProgress=new $.vpe,this.pageChange=new $.vpe(!0),S())return;let w;w=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${A.version}/legacy/build/pdf.worker.min.js`,h(A.GlobalWorkerOptions,"workerSrc",w)}set cMapsUrl(s){this._cMapsUrl=s}set page(s){const g=s=parseInt(s,10)||1;this._pdf&&(s=this.getValidPageNumber(s)),this._page=s,g!==s&&this.pageChange.emit(s)}set renderText(s){this._renderText=s}set renderTextMode(s){this._renderTextMode=s}set originalSize(s){this._originalSize=s}set showAll(s){this._showAll=s}set stickToPage(s){this._stickToPage=s}set zoom(s){s<=0||(this._zoom=s)}get zoom(){return this._zoom}set zoomScale(s){this._zoomScale=s}get zoomScale(){return this._zoomScale}set rotation(s){"number"==typeof s&&s%90==0?this._rotation=s:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(s){this._externalLinkTarget=s}set autoresize(s){this._canAutoResize=Boolean(s)}set fitToPage(s){this._fitToPage=Boolean(s)}set showBorders(s){this._showBorders=Boolean(s)}static getLinkTarget(s){switch(s){case"blank":return y.LinkTarget.BLANK;case"none":return y.LinkTarget.NONE;case"self":return y.LinkTarget.SELF;case"parent":return y.LinkTarget.PARENT;case"top":return y.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const s=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=s?!1===this.isVisible&&null!=s&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(s){if(!S()&&this.isVisible)if("src"in s)this.loadPDF();else if(this._pdf){if("renderText"in s?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:f.DISABLED,this.resetPdfDocument()):"showAll"in s&&(this.setupViewer(),this.resetPdfDocument()),"page"in s){const{page:g}=s;if(g.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,O.D)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe((0,l.R)(this.destroy$)).subscribe({next:s=>{const g=this._rotation||s.rotate,w=s.getViewport({scale:this._zoom,rotation:g}).width*i.CSS_UNITS;let L=this._zoom,R=!0;if(!this._originalSize||this._fitToPage&&w>this.pdfViewerContainer.nativeElement.clientWidth){const I=s.getViewport({scale:1,rotation:g});L=this.getScale(I.width,I.height),R=!this._stickToPage}this.pdfViewer._setScale(L,R)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfFindController.setDocument(null))}getPDFLinkServiceConfig(){const s=i.getLinkTarget(this._externalLinkTarget);return s?{externalLinkTarget:s}:{}}initEventBus(){this.eventBus=function(i,p){const s=new i.EventBus;return function(i,p){(0,q.R)(i,"documentload").pipe((0,l.R)(p)).subscribe(()=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(s)}),(0,q.R)(i,"pagerendered").pipe((0,l.R)(p)).subscribe(({pageNumber:s,cssTransform:g,source:w})=>{const L=document.createEvent("CustomEvent");L.initCustomEvent("pagerendered",!0,!0,{pageNumber:s,cssTransform:g}),w.div.dispatchEvent(L)}),(0,q.R)(i,"textlayerrendered").pipe((0,l.R)(p)).subscribe(({pageNumber:s,source:g})=>{const w=document.createEvent("CustomEvent");w.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:s}),g.textLayerDiv.dispatchEvent(w)}),(0,q.R)(i,"pagechanging").pipe((0,l.R)(p)).subscribe(({pageNumber:s,source:g})=>{const w=document.createEvent("UIEvents");w.initEvent("pagechanging",!0,!0),w.pageNumber=s,g.container.dispatchEvent(w)}),(0,q.R)(i,"pagesinit").pipe((0,l.R)(p)).subscribe(({source:s})=>{const g=document.createEvent("CustomEvent");g.initCustomEvent("pagesinit",!0,!0,null),s.container.dispatchEvent(g)}),(0,q.R)(i,"pagesloaded").pipe((0,l.R)(p)).subscribe(({pagesCount:s,source:g})=>{const w=document.createEvent("CustomEvent");w.initCustomEvent("pagesloaded",!0,!0,{pagesCount:s}),g.container.dispatchEvent(w)}),(0,q.R)(i,"scalechange").pipe((0,l.R)(p)).subscribe(({scale:s,presetValue:g,source:w})=>{const L=document.createEvent("UIEvents");L.initEvent("scalechange",!0,!0),L.scale=s,L.presetValue=g,w.container.dispatchEvent(L)}),(0,q.R)(i,"updateviewarea").pipe((0,l.R)(p)).subscribe(({location:s,source:g})=>{const w=document.createEvent("UIEvents");w.initEvent("updateviewarea",!0,!0),w.location=s,g.container.dispatchEvent(w)}),(0,q.R)(i,"find").pipe((0,l.R)(p)).subscribe(({source:s,type:g,query:w,phraseSearch:L,caseSensitive:R,highlightAll:I,findPrevious:U})=>{if(s===window)return;const H=document.createEvent("CustomEvent");H.initCustomEvent("find"+g,!0,!0,{query:w,phraseSearch:L,caseSensitive:R,highlightAll:I,findPrevious:U}),window.dispatchEvent(H)}),(0,q.R)(i,"attachmentsloaded").pipe((0,l.R)(p)).subscribe(({attachmentsCount:s,source:g})=>{const w=document.createEvent("CustomEvent");w.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:s}),g.container.dispatchEvent(w)}),(0,q.R)(i,"sidebarviewchanged").pipe((0,l.R)(p)).subscribe(({view:s,source:g})=>{const w=document.createEvent("CustomEvent");w.initCustomEvent("sidebarviewchanged",!0,!0,{view:s}),g.outerContainer.dispatchEvent(w)}),(0,q.R)(i,"pagemode").pipe((0,l.R)(p)).subscribe(({mode:s,source:g})=>{const w=document.createEvent("CustomEvent");w.initCustomEvent("pagemode",!0,!0,{mode:s}),g.pdfViewer.container.dispatchEvent(w)}),(0,q.R)(i,"namedaction").pipe((0,l.R)(p)).subscribe(({action:s,source:g})=>{const w=document.createEvent("CustomEvent");w.initCustomEvent("namedaction",!0,!0,{action:s}),g.pdfViewer.container.dispatchEvent(w)}),(0,q.R)(i,"presentationmodechanged").pipe((0,l.R)(p)).subscribe(({active:s,switchInProgress:g})=>{const w=document.createEvent("CustomEvent");w.initCustomEvent("presentationmodechanged",!0,!0,{active:s,switchInProgress:g}),window.dispatchEvent(w)}),(0,q.R)(i,"outlineloaded").pipe((0,l.R)(p)).subscribe(({outlineCount:s,source:g})=>{const w=document.createEvent("CustomEvent");w.initCustomEvent("outlineloaded",!0,!0,{outlineCount:s}),g.container.dispatchEvent(w)})}(s,p),s}(he||(he=ne.t(y,2)),this.destroy$),(0,q.R)(this.eventBus,"pagerendered").pipe((0,l.R)(this.destroy$)).subscribe(s=>{this.pageRendered.emit(s)}),(0,q.R)(this.eventBus,"pagesinit").pipe((0,l.R)(this.destroy$)).subscribe(s=>{this.pageInitialized.emit(s)}),(0,q.R)(this.eventBus,"pagechanging").pipe((0,l.R)(this.destroy$)).subscribe(({pageNumber:s})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=s,this.pageChange.emit(s)},100)}),(0,q.R)(this.eventBus,"textlayerrendered").pipe((0,l.R)(this.destroy$)).subscribe(s=>{this.textLayerRendered.emit(s)})}initPDFServices(){this.pdfLinkService=new y.PDFLinkService(Object.assign({eventBus:this.eventBus},this.getPDFLinkServiceConfig())),this.pdfFindController=new y.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:f.DISABLED,findController:this.pdfFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath}}setupViewer(){h(m||(m=ne.t(A,2)),"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new y.PDFViewer(this.getPDFOptions()):new y.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(s){return s<1?1:s>this._pdf.numPages?this._pdf.numPages:s}getDocumentParams(){const s=typeof this.src;if(!this._cMapsUrl)return this.src;const g={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===s?g.url=this.src:"object"===s&&(void 0!==this.src.byteLength?g.data=this.src:Object.assign(g,this.src)),g}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=A.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=g=>{this.onProgress.emit(g)};const s=this.src;(0,O.D)(this.loadingTask.promise).pipe((0,l.R)(this.destroy$)).subscribe({next:g=>{this._pdf=g,this.lastLoaded=s,this.afterLoadComplete.emit(g),this.resetPdfDocument(),this.update()},error:g=>{this.lastLoaded=null,this.onError.emit(g)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(s,g){const w=this._showBorders?2*i.BORDER_WIDTH:0,L=this.pdfViewerContainer.nativeElement.clientWidth-w,R=this.pdfViewerContainer.nativeElement.clientHeight-w;if(0===R||0===g||0===L||0===s)return 1;let I=1;switch(this._zoomScale){case"page-fit":I=Math.min(R/g,L/s);break;case"page-height":I=R/g;break;default:I=L/s}return this._zoom*I/i.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){S()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){S()||this.ngZone.runOutsideAngular(()=>{(0,q.R)(window,"resize").pipe((0,x.b)(100),(0,b.h)(()=>this._canAutoResize&&!!this._pdf),(0,l.R)(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return i.CSS_UNITS=96/72,i.BORDER_WIDTH=9,i.\u0275fac=function(s){return new(s||i)($.Y36($.SBq),$.Y36($.R0b))},i.\u0275cmp=$.Xpm({type:i,selectors:[["pdf-viewer"]],viewQuery:function(s,g){if(1&s&&$.Gf(o,5),2&s){let w;$.iGM(w=$.CRH())&&(g.pdfViewerContainer=w.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[$.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(s,g){1&s&&($.TgZ(0,"div",0,1),$._UZ(2,"div",2),$.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),i})(),e=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=$.oAB({type:i}),i.\u0275inj=$.cJS({}),i})()}}]);